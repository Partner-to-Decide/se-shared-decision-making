(self.webpackChunkse_decisions_backend=self.webpackChunkse_decisions_backend||[]).push([[4482],{53844:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Alignment:()=>$,AlignmentEditing:()=>z,AlignmentUI:()=>V});var p=ae(704),j=ae(209);const I=["left","right","center","justify"];function v(J){return I.includes(J)}function A(J,Y){return Y.contentLanguageDirection=="rtl"?J==="right":J==="left"}function l(J){const Y=J.map(q=>{let d;return d=typeof q=="string"?{name:q}:q,d}).filter(q=>{const d=I.includes(q.name);return d||(0,j.logWarning)("alignment-config-name-not-recognized",{option:q}),d}),le=Y.filter(q=>Boolean(q.className)).length;if(le&&le<Y.length)throw new j.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:J});return Y.forEach((q,d,b)=>{const _=b.slice(d+1);if(_.some(w=>w.name==q.name))throw new j.CKEditorError("alignment-config-name-already-defined",{option:q,configuredOptions:J});if(q.className&&_.some(w=>w.className==q.className))throw new j.CKEditorError("alignment-config-classname-already-defined",{option:q,configuredOptions:J})}),Y}const c="alignment";class L extends p.Command{refresh(){const Y=this.editor.locale,le=(0,j.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(le)&&this._canBeAligned(le),this.isEnabled&&le.hasAttribute("alignment")?this.value=le.getAttribute("alignment"):this.value=Y.contentLanguageDirection==="rtl"?"right":"left"}execute(Y={}){const le=this.editor,q=le.locale,d=le.model,b=d.document,_=Y.value;d.change(w=>{const E=Array.from(b.selection.getSelectedBlocks()).filter(S=>this._canBeAligned(S)),C=E[0].getAttribute("alignment");A(_,q)||C===_||!_?function(S,ne){for(const U of S)ne.removeAttribute(c,U)}(E,w):function(S,ne,U){for(const D of S)ne.setAttribute(c,U,D)}(E,w,_)})}_canBeAligned(Y){return this.editor.model.schema.checkAttribute(Y,c)}}class z extends p.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(Y){super(Y),Y.config.define("alignment",{options:I.map(le=>({name:le}))})}init(){const Y=this.editor,le=Y.locale,q=Y.model.schema,d=l(Y.config.get("alignment.options")).filter(E=>v(E.name)&&!A(E.name,le)),b=d.some(E=>!!E.className);q.extend("$block",{allowAttributes:"alignment"}),Y.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),b?Y.conversion.attributeToAttribute(function(E){const C={};for(const ne of E)C[ne.name]={key:"class",value:ne.className};return{model:{key:"alignment",values:E.map(ne=>ne.name)},view:C}}(d)):Y.conversion.for("downcast").attributeToAttribute(function(E){const C={};for(const{name:ne}of E)C[ne]={key:"style",value:{"text-align":ne}};return{model:{key:"alignment",values:E.map(ne=>ne.name)},view:C}}(d));const _=function(E){const C=[];for(const{name:S}of E)C.push({view:{key:"style",value:{"text-align":S}},model:{key:"alignment",value:S}});return C}(d);for(const E of _)Y.conversion.for("upcast").attributeToAttribute(E);const w=function(E){const C=[];for(const{name:S}of E)C.push({view:{key:"align",value:S},model:{key:"alignment",value:S}});return C}(d);for(const E of w)Y.conversion.for("upcast").attributeToAttribute(E);Y.commands.add("alignment",new L(Y))}}var y=ae(273);const h=new Map([["left",p.icons.alignLeft],["right",p.icons.alignRight],["center",p.icons.alignCenter],["justify",p.icons.alignJustify]]);class V extends p.Plugin{get localizedOptionTitles(){const Y=this.editor.t;return{left:Y("Align left"),right:Y("Align right"),center:Y("Align center"),justify:Y("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const Y=this.editor,le=Y.ui.componentFactory,q=Y.t,d=l(Y.config.get("alignment.options"));d.map(b=>b.name).filter(v).forEach(b=>this._addButton(b)),le.add("alignment",b=>{const _=(0,y.createDropdown)(b);(0,y.addToolbarToDropdown)(_,()=>d.map(C=>le.create(`alignment:${C.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:q("Text alignment toolbar")}),_.buttonView.set({label:q("Text alignment"),tooltip:!0}),_.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const w=b.contentLanguageDirection==="rtl"?h.get("right"):h.get("left"),E=Y.commands.get("alignment");return _.buttonView.bind("icon").to(E,"value",C=>h.get(C)||w),_.bind("isEnabled").to(E,"isEnabled"),this.listenTo(_,"execute",()=>{Y.editing.view.focus()}),_})}_addButton(Y){const le=this.editor;le.ui.componentFactory.add(`alignment:${Y}`,q=>{const d=le.commands.get("alignment"),b=new y.ButtonView(q);return b.set({label:this.localizedOptionTitles[Y],icon:h.get(Y),tooltip:!0,isToggleable:!0}),b.bind("isEnabled").to(d),b.bind("isOn").to(d,"value",_=>_===Y),this.listenTo(b,"execute",()=>{le.execute("alignment",{value:Y}),le.editing.view.focus()}),b})}}class $ extends p.Plugin{static get requires(){return[z,V]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=Yt})()},15535:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Insert code block":"Insert code block","Plain text":"Plain text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={11:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},331:(p,j,I)=>{p.exports=I(79)("./src/enter.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{CodeBlock:()=>U,CodeBlockEditing:()=>q,CodeBlockUI:()=>ne});var p=ae(704),j=ae(331),I=ae(492),v=ae(209);function A(D){const f=D.t,R=D.config.get("codeBlock.languages");for(const W of R)W.label==="Plain text"&&(W.label=f("Plain text")),W.class===void 0&&(W.class=`language-${W.language}`);return R}function l(D,f,R){const W={};for(const N of D)f==="class"?W[N[f].split(" ").shift()]=N[R]:W[N[f]]=N[R];return W}function c(D){return D.data.match(/^(\s*)/)[0]}function L(D){const f=D.document.selection,R=[];if(f.isCollapsed)return[f.anchor];const W=f.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:N}of W){if(!N.is("$textProxy"))continue;const{parent:oe,startOffset:Te}=N.textNode;if(!oe.is("element","codeBlock"))continue;const Oe=c(N.textNode),xe=D.createPositionAt(oe,Te+Oe.length);R.push(xe)}return R}function z(D){const f=(0,v.first)(D.getSelectedBlocks());return!!f&&f.is("element","codeBlock")}function y(D,f){return!f.is("rootElement")&&!D.isLimit(f)&&D.checkChild(f.parent,"codeBlock")}class h extends p.Command{constructor(f){super(f),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(f={}){const R=this.editor,W=R.model,N=W.document.selection,oe=A(R)[0],Te=Array.from(N.getSelectedBlocks()),Oe=f.forceValue==null?!this.value:f.forceValue,xe=function(Re,lt,rt){return Re.language?Re.language:Re.usePreviousLanguageChoice&&lt?lt:rt}(f,this._lastLanguage,oe.language);W.change(Re=>{Oe?this._applyCodeBlock(Re,Te,xe):this._removeCodeBlock(Re,Te)})}_getValue(){const f=this.editor.model.document.selection,R=(0,v.first)(f.getSelectedBlocks());return!(!R||!R.is("element","codeBlock"))&&R.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const f=this.editor.model.document.selection,R=this.editor.model.schema,W=(0,v.first)(f.getSelectedBlocks());return!!W&&y(R,W)}_applyCodeBlock(f,R,W){this._lastLanguage=W;const N=this.editor.model.schema,oe=R.filter(Te=>y(N,Te));for(const Te of oe)f.rename(Te,"codeBlock"),f.setAttribute("language",W,Te),N.removeDisallowedAttributes([Te],f),Array.from(Te.getChildren()).filter(Oe=>!N.checkChild(Te,Oe)).forEach(Oe=>f.remove(Oe));oe.reverse().forEach((Te,Oe)=>{const xe=oe[Oe+1];Te.previousSibling===xe&&(f.appendElement("softBreak",xe),f.merge(f.createPositionBefore(Te)))})}_removeCodeBlock(f,R){const W=R.filter(N=>N.is("element","codeBlock"));for(const N of W){const oe=f.createRangeOn(N);for(const Te of Array.from(oe.getItems()).reverse())if(Te.is("element","softBreak")&&Te.parent.is("element","codeBlock")){const{position:Oe}=f.split(f.createPositionBefore(Te)),xe=Oe.nodeAfter;f.rename(xe,"paragraph"),f.removeAttribute("language",xe),f.remove(Te)}f.rename(N,"paragraph"),f.removeAttribute("language",N)}}}class V extends p.Command{constructor(f){super(f),this._indentSequence=f.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const f=this.editor.model;f.change(R=>{const W=L(f);for(const N of W){const oe=R.createText(this._indentSequence);f.insertContent(oe,N)}})}_checkEnabled(){return!!this._indentSequence&&z(this.editor.model.document.selection)}}class $ extends p.Command{constructor(f){super(f),this._indentSequence=f.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const f=this.editor.model;f.change(()=>{const R=L(f);for(const W of R){const N=J(f,W,this._indentSequence);N&&f.deleteContent(f.createSelection(N))}})}_checkEnabled(){if(!this._indentSequence)return!1;const f=this.editor.model;return!!z(f.document.selection)&&L(f).some(R=>J(f,R,this._indentSequence))}}function J(D,f,R){const W=function(xe){let Re=xe.parent.getChild(xe.index);return Re&&!Re.is("element","softBreak")||(Re=xe.nodeBefore),!Re||Re.is("element","softBreak")?null:Re}(f);if(!W)return null;const N=c(W),oe=N.lastIndexOf(R);if(oe+R.length!==N.length||oe===-1)return null;const{parent:Te,startOffset:Oe}=W;return D.createRange(D.createPositionAt(Te,Oe+oe),D.createPositionAt(Te,Oe+oe+R.length))}function Y(D,f,R=!1){const W=l(f,"language","class"),N=l(f,"language","label");return(oe,Te,Oe)=>{const{writer:xe,mapper:Re,consumable:lt}=Oe;if(!lt.consume(Te.item,"insert"))return;const rt=Te.item.getAttribute("language"),ct=Re.toViewPosition(D.createPositionBefore(Te.item)),st={};R&&(st["data-language"]=N[rt],st.spellcheck="false");const kt=W[rt]?{class:W[rt]}:void 0,pt=xe.createContainerElement("code",kt),Ze=xe.createContainerElement("pre",st,pt);xe.insert(ct,Ze),Re.bindElements(Te.item,pt)}}const le="paragraph";class q extends p.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[j.ShiftEnter]}constructor(f){super(f),f.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const f=this.editor,R=f.model.schema,W=f.model,N=f.editing.view,oe=f.plugins.has("DocumentListEditing"),Te=A(f);f.commands.add("codeBlock",new h(f)),f.commands.add("indentCodeBlock",new V(f)),f.commands.add("outdentCodeBlock",new $(f)),this.listenTo(N.document,"tab",(Oe,xe)=>{const Re=xe.shiftKey?"outdentCodeBlock":"indentCodeBlock";f.commands.get(Re).isEnabled&&(f.execute(Re),xe.stopPropagation(),xe.preventDefault(),Oe.stop())},{context:"pre"}),R.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),R.addAttributeCheck((Oe,xe)=>{const Re=Oe.endsWith("codeBlock")&&xe.startsWith("list")&&xe!=="list";return!(!oe||!Re)||!Oe.endsWith("codeBlock $text")&&void 0}),f.model.schema.addChildCheck((Oe,xe)=>{if(Oe.endsWith("codeBlock")&&xe.isObject)return!1}),f.editing.downcastDispatcher.on("insert:codeBlock",Y(W,Te,!0)),f.data.downcastDispatcher.on("insert:codeBlock",Y(W,Te)),f.data.downcastDispatcher.on("insert:softBreak",function(Oe){return(xe,Re,lt)=>{if(Re.item.parent.name!=="codeBlock")return;const{writer:rt,mapper:ct,consumable:st}=lt;if(!st.consume(Re.item,"insert"))return;const kt=ct.toViewPosition(Oe.createPositionBefore(Re.item));rt.insert(kt,rt.createText(`
`))}}(W),{priority:"high"}),f.data.upcastDispatcher.on("element:code",function(Oe,xe){const Re=l(xe,"class","language"),lt=xe[0].language;return(rt,ct,st)=>{const kt=ct.viewItem,pt=kt.parent;if(!pt||!pt.is("element","pre")||ct.modelCursor.findAncestor("codeBlock"))return;const{consumable:Ze,writer:mt}=st;if(!Ze.test(kt,{name:!0}))return;const qe=mt.createElement("codeBlock"),et=[...kt.getClassNames()];et.length||et.push("");for(const Q of et){const de=Re[Q];if(de){mt.setAttribute("language",de,qe);break}}qe.hasAttribute("language")||mt.setAttribute("language",lt,qe),st.convertChildren(kt,qe),st.safeInsert(qe,ct.modelCursor)&&(Ze.consume(kt,{name:!0}),st.updateConversionResult(qe,ct))}}(0,Te)),f.data.upcastDispatcher.on("text",(Oe,xe,{consumable:Re,writer:lt})=>{let rt=xe.modelCursor;if(!Re.test(xe.viewItem)||!rt.findAncestor("codeBlock"))return;Re.consume(xe.viewItem);const ct=xe.viewItem.data.split(`
`).map(kt=>lt.createText(kt)),st=ct[ct.length-1];for(const kt of ct)if(lt.insert(kt,rt),rt=rt.getShiftedBy(kt.offsetSize),kt!==st){const pt=lt.createElement("softBreak");lt.insert(pt,rt),rt=lt.createPositionAfter(pt)}xe.modelRange=lt.createRange(xe.modelCursor,rt),xe.modelCursor=rt}),f.data.upcastDispatcher.on("element:pre",(Oe,xe,{consumable:Re})=>{const lt=xe.viewItem;if(lt.findAncestor("pre"))return;const rt=Array.from(lt.getChildren()),ct=rt.find(st=>st.is("element","code"));if(ct)for(const st of rt)st!==ct&&st.is("$text")&&Re.consume(st,{name:!0})},{priority:"high"}),this.listenTo(f.editing.view.document,"clipboardInput",(Oe,xe)=>{let Re=W.createRange(W.document.selection.anchor);if(xe.targetRanges&&(Re=f.editing.mapper.toModelRange(xe.targetRanges[0])),!Re.start.parent.is("element","codeBlock"))return;const lt=xe.dataTransfer.getData("text/plain"),rt=new I.UpcastWriter(f.editing.view.document);xe.content=function(ct,st){const kt=ct.createDocumentFragment(),pt=st.split(`
`),Ze=pt.reduce((mt,qe,et)=>(mt.push(qe),et<pt.length-1&&mt.push(ct.createElement("br")),mt),[]);return ct.appendChild(Ze,kt),kt}(rt,lt)}),this.listenTo(W,"getSelectedContent",(Oe,[xe])=>{const Re=xe.anchor;!xe.isCollapsed&&Re.parent.is("element","codeBlock")&&Re.hasSameParentAs(xe.focus)&&W.change(lt=>{const rt=Oe.return;if(Re.parent.is("element")&&(rt.childCount>1||xe.containsEntireContent(Re.parent))){const st=lt.createElement("codeBlock",Re.parent.getAttributes());lt.append(rt,st);const kt=lt.createDocumentFragment();return lt.append(st,kt),void(Oe.return=kt)}const ct=rt.getChild(0);R.checkAttribute(ct,"code")&&lt.setAttribute("code",!0,ct)})})}afterInit(){const f=this.editor,R=f.commands,W=R.get("indent"),N=R.get("outdent");W&&W.registerChildCommand(R.get("indentCodeBlock"),{priority:"highest"}),N&&N.registerChildCommand(R.get("outdentCodeBlock")),this.listenTo(f.editing.view.document,"enter",(oe,Te)=>{f.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(Oe,xe){const Re=Oe.model,lt=Re.document,rt=Oe.editing.view,ct=lt.selection.getLastPosition(),st=ct.nodeAfter;return xe||!lt.selection.isCollapsed||!ct.isAtStart||!b(st)?!1:(Oe.model.change(kt=>{Oe.execute("enter");const pt=lt.selection.anchor.parent.previousSibling;kt.rename(pt,le),kt.setSelection(pt,"in"),Oe.model.schema.removeDisallowedAttributes([pt],kt),kt.remove(st)}),rt.scrollToTheSelection(),!0)}(f,Te.isSoft)||function(Oe,xe){const Re=Oe.model,lt=Re.document,rt=Oe.editing.view,ct=lt.selection.getLastPosition(),st=ct.nodeBefore;let kt;if(xe||!lt.selection.isCollapsed||!ct.isAtEnd||!st||!st.previousSibling)return!1;if(b(st)&&b(st.previousSibling))kt=Re.createRange(Re.createPositionBefore(st.previousSibling),Re.createPositionAfter(st));else if(d(st)&&b(st.previousSibling)&&b(st.previousSibling.previousSibling))kt=Re.createRange(Re.createPositionBefore(st.previousSibling.previousSibling),Re.createPositionAfter(st));else{if(!(d(st)&&b(st.previousSibling)&&d(st.previousSibling.previousSibling)&&st.previousSibling.previousSibling&&b(st.previousSibling.previousSibling.previousSibling)))return!1;kt=Re.createRange(Re.createPositionBefore(st.previousSibling.previousSibling.previousSibling),Re.createPositionAfter(st))}return Oe.model.change(pt=>{pt.remove(kt),Oe.execute("enter");const Ze=lt.selection.anchor.parent;pt.rename(Ze,le),Oe.model.schema.removeDisallowedAttributes([Ze],pt)}),rt.scrollToTheSelection(),!0}(f,Te.isSoft)||function(Oe){const xe=Oe.model,Re=xe.document,lt=Re.selection.getLastPosition(),rt=lt.nodeBefore||lt.textNode;let ct;rt&&rt.is("$text")&&(ct=c(rt)),Oe.model.change(st=>{Oe.execute("shiftEnter"),ct&&st.insertText(ct,Re.selection.anchor)})}(f),Te.preventDefault(),oe.stop())},{context:"pre"})}}function d(D){return D&&D.is("$text")&&!D.data.match(/\S/)}function b(D){return D&&D.is("element","softBreak")}var _=ae(273),w=ae(62),E=ae.n(w),C=ae(11),S={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};E()(C.Z,S),C.Z.locals;class ne extends p.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const f=this.editor,R=f.t,W=f.ui.componentFactory,N=A(f);W.add("codeBlock",oe=>{const Te=f.commands.get("codeBlock"),Oe=(0,_.createDropdown)(oe,_.SplitButtonView),xe=Oe.buttonView,Re=R("Insert code block");return xe.set({label:Re,tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),xe.bind("isOn").to(Te,"value",lt=>!!lt),xe.on("execute",()=>{f.execute("codeBlock",{usePreviousLanguageChoice:!0}),f.editing.view.focus()}),Oe.on("execute",lt=>{f.execute("codeBlock",{language:lt.source._codeBlockLanguage,forceValue:!0}),f.editing.view.focus()}),Oe.class="ck-code-block-dropdown",Oe.bind("isEnabled").to(Te),(0,_.addListToDropdown)(Oe,()=>this._getLanguageListItemDefinitions(N),{role:"menu",ariaLabel:Re}),Oe})}_getLanguageListItemDefinitions(f){const R=this.editor.commands.get("codeBlock"),W=new v.Collection;for(const N of f){const oe={type:"button",model:new _.Model({_codeBlockLanguage:N.language,label:N.label,role:"menuitemradio",withText:!0})};oe.model.bind("isOn").to(R,"value",Te=>Te===oe.model._codeBlockLanguage),W.add(oe)}return W}}class U extends p.Plugin{static get requires(){return[q,ne]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=Yt})()},46609:(Jt,Zt,ae)=>{(function(Yt){const p=Yt.en=Yt.en||{};p.dictionary=Object.assign(p.dictionary||{},{Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Show options":"Show options","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Yt={487:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const z=L},355:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const z=L},957:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}",""]);const z=L},609:v=>{"use strict";v.exports=function(A){var l=[];return l.toString=function(){return this.map(function(c){var L=A(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,z){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(z)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var $=0;$<c.length;$++){var J=[].concat(c[$]);z&&y[J[0]]||(L&&(J[2]?J[2]="".concat(L," and ").concat(J[2]):J[2]=L),l.push(J))}},l}},62:(v,A,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},z=function(){var w={};return function(E){if(w[E]===void 0){var C=document.querySelector(E);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}w[E]=C}return w[E]}}(),y=[];function h(w){for(var E=-1,C=0;C<y.length;C++)if(y[C].identifier===w){E=C;break}return E}function V(w,E){for(var C={},S=[],ne=0;ne<w.length;ne++){var U=w[ne],D=E.base?U[0]+E.base:U[0],f=C[D]||0,R="".concat(D," ").concat(f);C[D]=f+1;var W=h(R),N={css:U[1],media:U[2],sourceMap:U[3]};W!==-1?(y[W].references++,y[W].updater(N)):y.push({identifier:R,updater:_(N,E),references:1}),S.push(R)}return S}function $(w){var E=document.createElement("style"),C=w.attributes||{};if(C.nonce===void 0){var S=l.nc;S&&(C.nonce=S)}if(Object.keys(C).forEach(function(U){E.setAttribute(U,C[U])}),typeof w.insert=="function")w.insert(E);else{var ne=z(w.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(E)}return E}var J,Y=(J=[],function(w,E){return J[w]=E,J.filter(Boolean).join(`
`)});function le(w,E,C,S){var ne=C?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(w.styleSheet)w.styleSheet.cssText=Y(E,ne);else{var U=document.createTextNode(ne),D=w.childNodes;D[E]&&w.removeChild(D[E]),D.length?w.insertBefore(U,D[E]):w.appendChild(U)}}function q(w,E,C){var S=C.css,ne=C.media,U=C.sourceMap;if(ne?w.setAttribute("media",ne):w.removeAttribute("media"),U&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),w.styleSheet)w.styleSheet.cssText=S;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(S))}}var d=null,b=0;function _(w,E){var C,S,ne;if(E.singleton){var U=b++;C=d||(d=$(E)),S=le.bind(null,C,U,!1),ne=le.bind(null,C,U,!0)}else C=$(E),S=q.bind(null,C,E),ne=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(C)};return S(w),function(D){if(D){if(D.css===w.css&&D.media===w.media&&D.sourceMap===w.sourceMap)return;S(w=D)}else ne()}}v.exports=function(w,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=L());var C=V(w=w||[],E);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ne=0;ne<C.length;ne++){var U=h(C[ne]);y[U].references--}for(var D=V(S,E),f=0;f<C.length;f++){var R=h(C[f]);y[R].references===0&&(y[R].updater(),y.splice(R,1))}C=D}}}},704:(v,A,l)=>{v.exports=l(79)("./src/core.js")},273:(v,A,l)=>{v.exports=l(79)("./src/ui.js")},209:(v,A,l)=>{v.exports=l(79)("./src/utils.js")},79:v=>{"use strict";v.exports=CKEditor5.dll}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={id:v,exports:{}};return Yt[v](l,l.exports,j),l.exports}j.n=v=>{var A=v&&v.__esModule?()=>v.default:()=>v;return j.d(A,{a:A}),A},j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},j.nc=void 0;var I={};(()=>{"use strict";j.r(I),j.d(I,{FindAndReplace:()=>Bi,FindAndReplaceEditing:()=>xi,FindAndReplaceUI:()=>Y,FindAndReplaceUtils:()=>Q,FindCommand:()=>le,FindNextCommand:()=>_,FindPreviousCommand:()=>w,ReplaceAllCommand:()=>b,ReplaceCommand:()=>d});var v=j(704),A=j(273),l=j(209),c=j(62),L=j.n(c),z=j(487),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(z.Z,y),z.Z.locals;var h=j(957),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(h.Z,V),h.Z.locals;const $='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';class J extends A.View{constructor(ue){super(ue);const _e=ue.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(Ie,We)=>Ie>0&&!We),this._findInputView=this._createInputField(_e("Find in text\u2026")),this._replaceInputView=this._createInputField(_e("Replace with\u2026")),this._findButtonView=this._createButton({label:_e("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:_e("Previous result"),class:"ck-button-prev",icon:$,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:_e("Next result"),class:"ck-button-next",icon:$,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:_e("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:_e("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new l.FocusTracker,this._keystrokes=new l.KeystrokeHandler,this._focusables=new A.ViewCollection,this._focusCycler=new A.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new A.FormHeaderView(ue,{label:_e("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]})}render(){super.render(),(0,A.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const ue=this.locale,_e=new A.View(ue);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Ie})=>Ie),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Ie})=>Ie),this._injectFindResultsCounter(),_e.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),_e}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const ue=this.t;this._findInputView.errorText=ue("Text to find must not be empty.")}}_injectFindResultsCounter(){const ue=this.locale,_e=ue.t,Ie=this.bindTemplate,We=new A.View(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(bt,At)=>_e("%0 of %1",[bt,At])),We.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",Ie.if("isDirty","ck-hidden")]},children:[{text:Ie.to("_resultsCounterText")}]});const tt=()=>{const bt=this._findInputView.fieldView.element;if(!bt||!(0,l.isVisible)(bt))return;const At=new l.Rect(We.element).width,xt=ue.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";bt.style[xt]=At?`calc( 2 * var(--ck-spacing-standard) + ${At}px )`:""};this.on("change:_resultsCounterText",tt,{priority:"low"}),this.on("change:isDirty",tt,{priority:"low"}),this._findInputView.template.children[0].children.push(We)}_createReplaceFieldset(){const ue=this.locale.t,_e=new A.View(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ie},We)=>Ie&&We),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:Ie},We)=>Ie&&We),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ie},We)=>Ie&&We),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Ie,We)=>Ie||!We?"":ue("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),_e.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),_e}_createOptionsDropdown(){const ue=this.locale.t,_e=(0,A.createDropdown)(this.locale);_e.class="ck-options-dropdown",_e.buttonView.set({withText:!1,label:ue("Show options"),icon:v.icons.cog,tooltip:!0});const Ie=new A.Model({withText:!0,label:ue("Match case"),_isMatchCaseSwitch:!0}),We=new A.Model({withText:!0,label:ue("Whole words only")});return Ie.bind("isOn").to(this,"_matchCase"),We.bind("isOn").to(this,"_wholeWordsOnly"),_e.on("execute",tt=>{tt.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),(0,A.addListToDropdown)(_e,new l.Collection([{type:"switchbutton",model:Ie},{type:"switchbutton",model:We}])),_e}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(ue=>{this._focusables.add(ue),this._focusTracker.add(ue.element)})}_initKeystrokeHandling(){const ue=Ie=>Ie.stopPropagation(),_e=Ie=>{Ie.stopPropagation(),Ie.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",Ie=>{_e(Ie),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",Ie=>{_e(Ie),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",Ie=>{const We=Ie.target;We===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),_e(Ie)):We!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),_e(Ie))}),this._keystrokes.set("shift+enter",Ie=>{Ie.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),_e(Ie))}),this._keystrokes.set("arrowright",ue),this._keystrokes.set("arrowleft",ue),this._keystrokes.set("arrowup",ue),this._keystrokes.set("arrowdown",ue)}_createButton(ue){const _e=new A.ButtonView(this.locale);return _e.set(ue),_e}_createInputField(ue){const _e=new A.LabeledFieldView(this.locale,A.createLabeledInputText);return _e.label=ue,_e}}class Y extends v.Plugin{static get pluginName(){return"FindAndReplaceUI"}constructor(ue){super(ue),this.formView=null}init(){const ue=this.editor;ue.ui.componentFactory.add("findAndReplace",_e=>{const Ie=(0,A.createDropdown)(_e),We=ue.commands.get("find");return Ie.bind("isEnabled").to(We),Ie.once("change:isOpen",()=>{this.formView=new((0,A.CssTransitionDisablerMixin)(J))(ue.locale),Ie.panelView.children.add(this.formView),this._setupFormView(this.formView)}),Ie.on("change:isOpen",(tt,bt,At)=>{At?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")},{priority:"low"}),this._setupDropdownButton(Ie),Ie})}_setupDropdownButton(ue){const _e=this.editor,Ie=_e.locale.t;ue.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:Ie("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),_e.keystrokes.set("Ctrl+F",(We,tt)=>{ue.isEnabled&&(ue.isOpen=!0,tt())})}_setupFormView(ue){const _e=this.editor.commands,Ie=this.editor.plugins.get("FindAndReplaceEditing").state,We={before:-1,same:0,after:1,different:1};ue.bind("highlightOffset").to(Ie,"highlightedResult",Kt=>Kt?Array.from(Ie.results).sort((ni,ei)=>We[ni.marker.getStart().compareWith(ei.marker.getStart())]).indexOf(Kt)+1:0),ue.listenTo(Ie.results,"change",()=>{ue.matchCount=Ie.results.length});const tt=_e.get("findNext"),bt=_e.get("findPrevious"),At=_e.get("replace"),xt=_e.get("replaceAll");ue.bind("_areCommandsEnabled").to(tt,"isEnabled",bt,"isEnabled",At,"isEnabled",xt,"isEnabled",(Kt,ni,ei,li)=>({findNext:Kt,findPrevious:ni,replace:ei,replaceAll:li})),ue.delegate("findNext","findPrevious","replace","replaceAll").to(this),ue.on("change:isDirty",(Kt,ni,ei)=>{ei&&this.fire("searchReseted")})}}class le extends v.Command{constructor(ue,_e){super(ue),this.isEnabled=!0,this.affectsData=!1,this._state=_e}execute(ue,{matchCase:_e,wholeWords:Ie}={}){const{editor:We}=this,{model:tt}=We,bt=We.plugins.get("FindAndReplaceUtils");let At;typeof ue=="string"?(At=bt.findByTextCallback(ue,{matchCase:_e,wholeWords:Ie}),this._state.searchText=ue):At=ue;const xt=tt.document.getRootNames().reduce((Kt,ni)=>bt.updateFindResultFromRange(tt.createRangeIn(tt.document.getRoot(ni)),tt,At,Kt),null);return this._state.clear(tt),this._state.results.addMany(xt),this._state.highlightedResult=xt.get(0),typeof ue=="string"&&(this._state.searchText=ue),this._state.matchCase=!!_e,this._state.matchWholeWords=!!Ie,{results:xt,findCallback:At}}}class q extends v.Command{constructor(ue,_e){super(ue),this.isEnabled=!0,this._state=_e,this._isEnabledBasedOnSelection=!1}_replace(ue,_e){const{model:Ie}=this.editor,We=_e.marker.getRange();Ie.canEditAt(We)&&Ie.change(tt=>{if(We.root.rootName==="$graveyard")return void this._state.results.remove(_e);let bt={};for(const At of We.getItems())if(At.is("$text")||At.is("$textProxy")){bt=At.getAttributes();break}Ie.insertContent(tt.createText(ue,bt),We),this._state.results.has(_e)&&this._state.results.remove(_e)})}}class d extends q{execute(ue,_e){this._replace(ue,_e)}}class b extends q{execute(ue,_e){const{editor:Ie}=this,{model:We}=Ie,tt=Ie.plugins.get("FindAndReplaceUtils"),bt=_e instanceof l.Collection?_e:We.document.getRootNames().reduce((At,xt)=>tt.updateFindResultFromRange(We.createRangeIn(We.document.getRoot(xt)),We,tt.findByTextCallback(_e,this._state),At),null);bt.length&&We.change(()=>{[...bt].forEach(At=>{this._replace(ue,At)})})}}class _ extends v.Command{constructor(ue,_e){super(ue),this.affectsData=!1,this._state=_e,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const ue=this._state.results,_e=ue.getIndex(this._state.highlightedResult),Ie=_e+1>=ue.length?0:_e+1;this._state.highlightedResult=this._state.results.get(Ie)}}class w extends _{execute(){const ue=this._state.results.getIndex(this._state.highlightedResult),_e=ue-1<0?this._state.results.length-1:ue-1;this._state.highlightedResult=this._state.results.get(_e)}}class E extends(0,l.ObservableMixin)(){constructor(ue){super(),this.set("results",new l.Collection),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(_e,{removed:Ie,index:We})=>{if(Array.from(Ie).length){let tt=!1;if(ue.change(bt=>{for(const At of Ie)this.highlightedResult===At&&(tt=!0),ue.markers.has(At.marker.name)&&bt.removeMarker(At.marker)}),tt){const bt=We>=this.results.length?0:We;this.highlightedResult=this.results.get(bt)}}})}clear(ue){this.searchText="",ue.change(_e=>{if(this.highlightedResult){const Ie=this.highlightedResult.marker.name.split(":")[1],We=ue.markers.get(`findResultHighlighted:${Ie}`);We&&_e.removeMarker(We)}[...this.results].forEach(({marker:Ie})=>{_e.removeMarker(Ie)})}),this.results.clear()}}const C=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var S=typeof self=="object"&&self&&self.Object===Object&&self;const ne=C||S||Function("return this")(),U=ne.Symbol,D=function(nt,ue){for(var _e=-1,Ie=nt==null?0:nt.length,We=Array(Ie);++_e<Ie;)We[_e]=ue(nt[_e],_e,nt);return We},f=Array.isArray;var R=Object.prototype,W=R.hasOwnProperty,N=R.toString,oe=U?U.toStringTag:void 0;const Te=function(nt){var ue=W.call(nt,oe),_e=nt[oe];try{nt[oe]=void 0;var Ie=!0}catch{}var We=N.call(nt);return Ie&&(ue?nt[oe]=_e:delete nt[oe]),We};var Oe=Object.prototype.toString;const xe=function(nt){return Oe.call(nt)};var Re=U?U.toStringTag:void 0;const lt=function(nt){return nt==null?nt===void 0?"[object Undefined]":"[object Null]":Re&&Re in Object(nt)?Te(nt):xe(nt)},rt=function(nt){return nt!=null&&typeof nt=="object"},ct=function(nt){return typeof nt=="symbol"||rt(nt)&&lt(nt)=="[object Symbol]"};var st=U?U.prototype:void 0,kt=st?st.toString:void 0;const pt=function nt(ue){if(typeof ue=="string")return ue;if(f(ue))return D(ue,nt)+"";if(ct(ue))return kt?kt.call(ue):"";var _e=ue+"";return _e=="0"&&1/ue==-1/0?"-0":_e},Ze=function(nt){return nt==null?"":pt(nt)};var mt=/[\\^$.*+?()[\]{}|]/g,qe=RegExp(mt.source);const et=function(nt){return(nt=Ze(nt))&&qe.test(nt)?nt.replace(mt,"\\$&"):nt};class Q extends v.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(ue,_e,Ie,We){const tt=We||new l.Collection;return _e.change(bt=>{[...ue].forEach(({type:At,item:xt})=>{if(At==="elementStart"&&_e.schema.checkChild(xt,"$text")){const Kt=Ie({item:xt,text:this.rangeToText(_e.createRangeIn(xt))});if(!Kt)return;Kt.forEach(ni=>{const ei=`findResult:${(0,l.uid)()}`,li=bt.addMarker(ei,{usingOperation:!1,affectsData:!1,range:bt.createRange(bt.createPositionAt(xt,ni.start),bt.createPositionAt(xt,ni.end))}),Ci=function(yi,Ri){const qi=yi.find(({marker:Ui})=>Ri.getStart().isBefore(Ui.getStart()));return qi?yi.getIndex(qi):yi.length}(tt,li);tt.add({id:ei,label:ni.label,marker:li},Ci)})}})}),tt}rangeToText(ue){return Array.from(ue.getItems()).reduce((_e,Ie)=>Ie.is("$text")||Ie.is("$textProxy")?_e+Ie.data:`${_e}
`,"")}findByTextCallback(ue,_e){let Ie="gu";_e.matchCase||(Ie+="i");let We=`(${et(ue)})`;if(_e.wholeWords){const bt="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+bt).test(ue)||(We=`(^|${bt}|_)${We}`),new RegExp(bt+"$").test(ue)||(We=`${We}(?=_|${bt}|$)`)}const tt=new RegExp(We,Ie);return function({text:bt}){return[...bt.matchAll(tt)].map(de)}}}function de(nt){const ue=nt.length-1;let _e=nt.index;return nt.length===3&&(_e+=nt[1].length),{label:nt[ue],start:_e,end:_e+nt[ue].length}}const we=function(nt){var ue=typeof nt;return nt!=null&&(ue=="object"||ue=="function")},Be=function(){return ne.Date.now()};var Ge=/\s/;const Fe=function(nt){for(var ue=nt.length;ue--&&Ge.test(nt.charAt(ue)););return ue};var Ve=/^\s+/;const ut=function(nt){return nt&&nt.slice(0,Fe(nt)+1).replace(Ve,"")};var St=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Qt=/^0o[0-7]+$/i,yt=parseInt;const Tt=function(nt){if(typeof nt=="number")return nt;if(ct(nt))return NaN;if(we(nt)){var ue=typeof nt.valueOf=="function"?nt.valueOf():nt;nt=we(ue)?ue+"":ue}if(typeof nt!="string")return nt===0?nt:+nt;nt=ut(nt);var _e=Lt.test(nt);return _e||Qt.test(nt)?yt(nt.slice(2),_e?2:8):St.test(nt)?NaN:+nt};var mi=Math.max,pi=Math.min;const Li=function(nt,ue,_e){var Ie,We,tt,bt,At,xt,Kt=0,ni=!1,ei=!1,li=!0;if(typeof nt!="function")throw new TypeError("Expected a function");function Ci(ji){var he=Ie,B=We;return Ie=We=void 0,Kt=ji,bt=nt.apply(B,he)}function yi(ji){var he=ji-xt;return xt===void 0||he>=ue||he<0||ei&&ji-Kt>=tt}function Ri(){var ji=Be();if(yi(ji))return qi(ji);At=setTimeout(Ri,function(he){var B=ue-(he-xt);return ei?pi(B,tt-(he-Kt)):B}(ji))}function qi(ji){return At=void 0,li&&Ie?Ci(ji):(Ie=We=void 0,bt)}function Ui(){var ji=Be(),he=yi(ji);if(Ie=arguments,We=this,xt=ji,he){if(At===void 0)return function(B){return Kt=B,At=setTimeout(Ri,ue),ni?Ci(B):bt}(xt);if(ei)return clearTimeout(At),At=setTimeout(Ri,ue),Ci(xt)}return At===void 0&&(At=setTimeout(Ri,ue)),bt}return ue=Tt(ue)||0,we(_e)&&(ni=!!_e.leading,tt=(ei="maxWait"in _e)?mi(Tt(_e.maxWait)||0,ue):tt,li="trailing"in _e?!!_e.trailing:li),Ui.cancel=function(){At!==void 0&&clearTimeout(At),Kt=0,Ie=xt=We=At=void 0},Ui.flush=function(){return At===void 0?bt:qi(Be())},Ui};var Ei=j(355),Ni={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(Ei.Z,Ni),Ei.Z.locals;class xi extends v.Plugin{static get requires(){return[Q]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new E(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(_e,Ie,We,tt)=>{const{model:bt}=this.editor;bt.change(At=>{if(tt){const xt=tt.marker.name.split(":")[1],Kt=bt.markers.get(`findResultHighlighted:${xt}`);Kt&&At.removeMarker(Kt)}if(We){const xt=We.marker.name.split(":")[1];At.addMarker(`findResultHighlighted:${xt}`,{usingOperation:!1,affectsData:!1,range:We.marker.getRange()})}})});const ue=Li(((_e,Ie,We)=>{if(We){const tt=this.editor.editing.view.domConverter,bt=this.editor.editing.mapper.toViewRange(We.marker.getRange());(0,l.scrollViewportToShowTarget)({target:tt.viewRangeToDom(bt),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",ue,{priority:"low"}),this.listenTo(this.editor,"destroy",ue.cancel)}find(ue){const{editor:_e}=this,{model:Ie}=_e,{findCallback:We,results:tt}=_e.execute("find",ue);return this._activeResults=tt,this.listenTo(Ie.document,"change:data",()=>function(bt,At,xt){const Kt=new Set,ni=new Set,ei=At.model;ei.document.differ.getChanges().forEach(li=>{li.name==="$text"||ei.schema.isInline(li.position.nodeAfter)?(Kt.add(li.position.parent),[...ei.markers.getMarkersAtPosition(li.position)].forEach(Ci=>{ni.add(Ci.name)})):li.type==="insert"&&Kt.add(li.position.nodeAfter)}),ei.document.differ.getChangedMarkers().forEach(({name:li,data:{newRange:Ci}})=>{Ci&&Ci.start.root.rootName==="$graveyard"&&ni.add(li)}),Kt.forEach(li=>{[...ei.markers.getMarkersIntersectingRange(ei.createRangeIn(li))].forEach(Ci=>ni.add(Ci.name))}),ei.change(li=>{ni.forEach(Ci=>{bt.has(Ci)&&bt.remove(Ci),li.removeMarker(Ci)})}),Kt.forEach(li=>{At.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(ei.createRangeOn(li),ei,xt,bt)})}(this._activeResults,_e,We)),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new le(this.editor,this.state)),this.editor.commands.add("findNext",new _(this.editor,this.state)),this.editor.commands.add("findPrevious",new w(this.editor,this.state)),this.editor.commands.add("replace",new d(this.editor,this.state)),this.editor.commands.add("replaceAll",new b(this.editor,this.state))}_defineConverters(){const{editor:ue}=this;ue.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:_e})=>{const[,Ie]=_e.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":Ie}}}}),ue.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:_e})=>{const[,Ie]=_e.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":Ie}}}})}}class Bi extends v.Plugin{static get requires(){return[xi,Y]}static get pluginName(){return"FindAndReplace"}init(){const ue=this.editor.plugins.get("FindAndReplaceUI"),_e=this.editor.plugins.get("FindAndReplaceEditing"),Ie=_e.state;ue.on("findNext",(We,tt)=>{tt?(Ie.searchText=tt.searchText,this.editor.execute("find",tt.searchText,tt)):this.editor.execute("findNext")}),ue.on("findPrevious",(We,tt)=>{tt&&Ie.searchText!==tt.searchText?this.editor.execute("find",tt.searchText):this.editor.execute("findPrevious")}),ue.on("replace",(We,tt)=>{Ie.searchText!==tt.searchText&&this.editor.execute("find",tt.searchText);const bt=Ie.highlightedResult;bt&&this.editor.execute("replace",tt.replaceText,bt)}),ue.on("replaceAll",(We,tt)=>{Ie.searchText!==tt.searchText&&this.editor.execute("find",tt.searchText),this.editor.execute("replaceAll",tt.replaceText,Ie.results)}),ue.on("searchReseted",()=>{Ie.clear(this.editor.model),_e.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=I})()},20978:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={610:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Font:()=>kt,FontBackgroundColor:()=>st,FontBackgroundColorEditing:()=>rt,FontBackgroundColorUI:()=>ct,FontColor:()=>Re,FontColorEditing:()=>Te,FontColorUI:()=>xe,FontFamily:()=>d,FontFamilyEditing:()=>Y,FontFamilyUI:()=>q,FontSize:()=>N,FontSizeEditing:()=>ne,FontSizeUI:()=>W});var p=ae(704);class j extends p.Command{constructor(Ze,mt){super(Ze),this.attributeKey=mt}refresh(){const Ze=this.editor.model,mt=Ze.document;this.value=mt.selection.getAttribute(this.attributeKey),this.isEnabled=Ze.schema.checkAttributeInSelection(mt.selection,this.attributeKey)}execute(Ze={}){const mt=this.editor.model,qe=mt.document.selection,et=Ze.value,Q=Ze.batch,de=we=>{if(qe.isCollapsed)et?we.setSelectionAttribute(this.attributeKey,et):we.removeSelectionAttribute(this.attributeKey);else{const Be=mt.schema.getValidRanges(qe.getRanges(),this.attributeKey);for(const Ge of Be)et?we.setAttribute(this.attributeKey,et,Ge):we.removeAttribute(this.attributeKey,Ge)}};Q?mt.enqueueChange(Q,we=>{de(we)}):mt.change(we=>{de(we)})}}var I=ae(273);const v="fontSize",A="fontFamily",l="fontColor",c="fontBackgroundColor";function L(pt,Ze){const mt={model:{key:pt,values:[]},view:{},upcastAlso:{}};for(const qe of Ze)mt.model.values.push(qe.model),mt.view[qe.model]=qe.view,qe.upcastAlso&&(mt.upcastAlso[qe.model]=qe.upcastAlso);return mt}function z(pt){return Ze=>Ze.getStyle(pt).replace(/\s/g,"")}function y(pt){return(Ze,{writer:mt})=>mt.createAttributeElement("span",{style:`${pt}:${Ze}`},{priority:7})}class h extends j{constructor(Ze){super(Ze,A)}}function V(pt){return pt.map($).filter(Ze=>Ze!==void 0)}function $(pt){return typeof pt=="object"?pt:pt==="default"?{title:"Default",model:void 0}:typeof pt=="string"?function(Ze){const mt=Ze.replace(/"|'/g,"").split(","),qe=mt[0],et=mt.map(J).join(", ");return{title:qe,model:et,view:{name:"span",styles:{"font-family":et},priority:7}}}(pt):void 0}function J(pt){return(pt=pt.trim()).indexOf(" ")>0&&(pt=`'${pt}'`),pt}class Y extends p.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(Ze){super(Ze),Ze.config.define(A,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const Ze=this.editor;Ze.model.schema.extend("$text",{allowAttributes:A}),Ze.model.schema.setAttributeProperties(A,{isFormatting:!0,copyOnEnter:!0});const mt=V(Ze.config.get("fontFamily.options")).filter(et=>et.model),qe=L(A,mt);Ze.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):Ze.conversion.attributeToElement(qe),Ze.commands.add(A,new h(Ze))}_prepareAnyValueConverters(){const Ze=this.editor;Ze.conversion.for("downcast").attributeToElement({model:A,view:(mt,{writer:qe})=>qe.createAttributeElement("span",{style:"font-family:"+mt},{priority:7})}),Ze.conversion.for("upcast").elementToAttribute({model:{key:A,value:mt=>mt.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:A,value:Ze=>Ze.getAttribute("face")}})}}var le=ae(209);class q extends p.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const Ze=this.editor,mt=Ze.t,qe=this._getLocalizedOptions(),et=Ze.commands.get(A),Q=mt("Font Family");Ze.ui.componentFactory.add(A,de=>{const we=(0,I.createDropdown)(de);return(0,I.addListToDropdown)(we,()=>function(Be,Ge){const Fe=new le.Collection;for(const Ve of Be){const ut={type:"button",model:new I.Model({commandName:A,commandParam:Ve.model,label:Ve.title,role:"menuitemradio",withText:!0})};ut.model.bind("isOn").to(Ge,"value",St=>St===Ve.model||!(!St||!Ve.model)&&St.split(",")[0].replace(/'/g,"").toLowerCase()===Ve.model.toLowerCase()),Ve.view&&typeof Ve.view!="string"&&Ve.view.styles&&ut.model.set("labelStyle",`font-family: ${Ve.view.styles["font-family"]}`),Fe.add(ut)}return Fe}(qe,et),{role:"menu",ariaLabel:Q}),we.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),we.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),we.bind("isEnabled").to(et),this.listenTo(we,"execute",Be=>{Ze.execute(Be.source.commandName,{value:Be.source.commandParam}),Ze.editing.view.focus()}),we})}_getLocalizedOptions(){const Ze=this.editor,mt=Ze.t;return V(Ze.config.get(A).options).map(qe=>(qe.title==="Default"&&(qe.title=mt("Default")),qe))}}class d extends p.Plugin{static get requires(){return[Y,q]}static get pluginName(){return"FontFamily"}}var b=ae(492);class _ extends j{constructor(Ze){super(Ze,v)}}function w(pt){return pt.map(Ze=>function(mt){if(typeof mt=="number"&&(mt=String(mt)),typeof mt=="object"&&(qe=mt,qe.title&&qe.model&&qe.view))return C(mt);var qe;const et=function(Q){return typeof Q=="string"?E[Q]:E[Q.model]}(mt);if(et)return C(et);if(mt==="default")return{model:void 0,title:"Default"};if(!function(Q){let de;if(typeof Q=="object"){if(!Q.model)throw new le.CKEditorError("font-size-invalid-definition",null,Q);de=parseFloat(Q.model)}else de=parseFloat(Q);return isNaN(de)}(mt))return function(Q){return typeof Q=="string"&&(Q={title:Q,model:`${parseFloat(Q)}px`}),Q.view={name:"span",styles:{"font-size":Q.model}},C(Q)}(mt)}(Ze)).filter(Ze=>Ze!==void 0)}const E={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function C(pt){return pt.view&&typeof pt.view!="string"&&!pt.view.priority&&(pt.view.priority=7),pt}const S=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class ne extends p.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(Ze){super(Ze),Ze.config.define(v,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const Ze=this.editor;Ze.model.schema.extend("$text",{allowAttributes:v}),Ze.model.schema.setAttributeProperties(v,{isFormatting:!0,copyOnEnter:!0});const mt=Ze.config.get("fontSize.supportAllValues"),qe=w(this.editor.config.get("fontSize.options")).filter(Q=>Q.model),et=L(v,qe);mt?(this._prepareAnyValueConverters(et),this._prepareCompatibilityConverter()):Ze.conversion.attributeToElement(et),Ze.commands.add(v,new _(Ze))}_prepareAnyValueConverters(Ze){const mt=this.editor,qe=Ze.model.values.filter(et=>!(0,b.isLength)(String(et))&&!(0,b.isPercentage)(String(et)));if(qe.length)throw new le.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:qe});mt.conversion.for("downcast").attributeToElement({model:v,view:(et,{writer:Q})=>{if(et)return Q.createAttributeElement("span",{style:"font-size:"+et},{priority:7})}}),mt.conversion.for("upcast").elementToAttribute({model:{key:v,value:et=>et.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:v,value:Ze=>{const mt=Ze.getAttribute("size"),qe=mt[0]==="-"||mt[0]==="+";let et=parseInt(mt,10);qe&&(et=3+et);const Q=S.length-1,de=Math.min(Math.max(et,0),Q);return S[de]}}})}}var U=ae(62),D=ae.n(U),f=ae(610),R={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};D()(f.Z,R),f.Z.locals;class W extends p.Plugin{static get pluginName(){return"FontSizeUI"}init(){const Ze=this.editor,mt=Ze.t,qe=this._getLocalizedOptions(),et=Ze.commands.get(v),Q=mt("Font Size");Ze.ui.componentFactory.add(v,de=>{const we=(0,I.createDropdown)(de);return(0,I.addListToDropdown)(we,()=>function(Be,Ge){const Fe=new le.Collection;for(const Ve of Be){const ut={type:"button",model:new I.Model({commandName:v,commandParam:Ve.model,label:Ve.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};Ve.view&&typeof Ve.view!="string"&&(Ve.view.styles&&ut.model.set("labelStyle",`font-size:${Ve.view.styles["font-size"]}`),Ve.view.classes&&ut.model.set("class",`${ut.model.class} ${Ve.view.classes}`)),ut.model.bind("isOn").to(Ge,"value",St=>St===Ve.model),Fe.add(ut)}return Fe}(qe,et),{role:"menu",ariaLabel:Q}),we.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),we.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),we.bind("isEnabled").to(et),this.listenTo(we,"execute",Be=>{Ze.execute(Be.source.commandName,{value:Be.source.commandParam}),Ze.editing.view.focus()}),we})}_getLocalizedOptions(){const Ze=this.editor,mt=Ze.t,qe={Default:mt("Default"),Tiny:mt("Tiny"),Small:mt("Small"),Big:mt("Big"),Huge:mt("Huge")};return w(Ze.config.get(v).options).map(et=>{const Q=qe[et.title];return Q&&Q!=et.title&&(et=Object.assign({},et,{title:Q})),et})}}class N extends p.Plugin{static get requires(){return[ne,W]}static get pluginName(){return"FontSize"}normalizeSizeOptions(Ze){return w(Ze)}}class oe extends j{constructor(Ze){super(Ze,l)}}class Te extends p.Plugin{static get pluginName(){return"FontColorEditing"}constructor(Ze){super(Ze),Ze.config.define(l,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Ze.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:l,value:z("color")}}),Ze.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:l,value:mt=>mt.getAttribute("color")}}),Ze.conversion.for("downcast").attributeToElement({model:l,view:y("color")}),Ze.commands.add(l,new oe(Ze)),Ze.model.schema.extend("$text",{allowAttributes:l}),Ze.model.schema.setAttributeProperties(l,{isFormatting:!0,copyOnEnter:!0})}}class Oe extends p.Plugin{constructor(Ze,{commandName:mt,componentName:qe,icon:et,dropdownLabel:Q}){super(Ze),this.commandName=mt,this.componentName=qe,this.icon=et,this.dropdownLabel=Q,this.columns=Ze.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const Ze=this.editor,mt=Ze.locale,qe=mt.t,et=Ze.commands.get(this.commandName),Q=Ze.config.get(this.componentName),de=(0,I.normalizeColorOptions)(Q.colors),we=(0,I.getLocalizedColorOptions)(mt,de),Be=Q.documentColors,Ge=Q.colorPicker!==!1;Ze.ui.componentFactory.add(this.componentName,Fe=>{const Ve=(0,I.createDropdown)(Fe);let ut=!1;return this.colorSelectorView=function({dropdownView:St,colors:Lt,columns:Qt,removeButtonLabel:yt,colorPickerLabel:Tt,documentColorsLabel:mi,documentColorsCount:pi,colorPickerViewConfig:Li}){const Ei=St.locale,Ni=new I.ColorSelectorView(Ei,{colors:Lt,columns:Qt,removeButtonLabel:yt,colorPickerLabel:Tt,documentColorsLabel:mi,documentColorsCount:pi,colorPickerViewConfig:Li});return St.colorSelectorView=Ni,St.panelView.children.add(Ni),Ni}({dropdownView:Ve,colors:we.map(St=>({label:St.label,color:St.model,options:{hasBorder:St.hasBorder}})),columns:this.columns,removeButtonLabel:qe("Remove color"),colorPickerLabel:qe("Color picker"),documentColorsLabel:Be!==0?qe("Document colors"):"",documentColorsCount:Be===void 0?this.columns:Be,colorPickerViewConfig:!!Ge&&(Q.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(et,"value"),Ve.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),Ve.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),Ve.bind("isEnabled").to(et),this.colorSelectorView.on("execute",(St,Lt)=>{Ve.isOpen&&Ze.execute(this.commandName,{value:Lt.value,batch:this._undoStepBatch}),Lt.source!=="colorPicker"&&Ze.editing.view.focus(),Lt.source==="colorPickerSaveButton"&&(Ve.isOpen=!1)}),this.colorSelectorView.on("colorPicker:show",()=>{this._undoStepBatch=Ze.model.createBatch()}),this.colorSelectorView.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(Ve.isOpen=!1,Ze.execute("undo",this._undoStepBatch)),Ze.editing.view.focus()}),Ve.on("change:isOpen",(St,Lt,Qt)=>{ut||(ut=!0,Ve.colorSelectorView.appendUI()),Qt&&(Be!==0&&this.colorSelectorView.updateDocumentColors(Ze.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())}),(0,I.focusChildOnDropdownOpen)(Ve,()=>Ve.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(St=>St.isOn)),Ve})}}class xe extends Oe{constructor(Ze){const mt=Ze.locale.t;super(Ze,{commandName:l,componentName:l,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:mt("Font Color")})}static get pluginName(){return"FontColorUI"}}class Re extends p.Plugin{static get requires(){return[Te,xe]}static get pluginName(){return"FontColor"}}class lt extends j{constructor(Ze){super(Ze,c)}}class rt extends p.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(Ze){super(Ze),Ze.config.define(c,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Ze.data.addStyleProcessorRules(b.addBackgroundRules),Ze.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:c,value:z("background-color")}}),Ze.conversion.for("downcast").attributeToElement({model:c,view:y("background-color")}),Ze.commands.add(c,new lt(Ze)),Ze.model.schema.extend("$text",{allowAttributes:c}),Ze.model.schema.setAttributeProperties(c,{isFormatting:!0,copyOnEnter:!0})}}class ct extends Oe{constructor(Ze){const mt=Ze.locale.t;super(Ze,{commandName:c,componentName:c,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:mt("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class st extends p.Plugin{static get requires(){return[rt,ct]}static get pluginName(){return"FontBackgroundColor"}}class kt extends p.Plugin{static get requires(){return[d,N,Re,st]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=Yt})()},99416:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={401:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Highlight:()=>h,HighlightEditing:()=>I,HighlightUI:()=>z});var p=ae(704);class j extends p.Command{refresh(){const $=this.editor.model,J=$.document;this.value=J.selection.getAttribute("highlight"),this.isEnabled=$.schema.checkAttributeInSelection(J.selection,"highlight")}execute($={}){const J=this.editor.model,Y=J.document.selection,le=$.value;J.change(q=>{if(Y.isCollapsed){const d=Y.getFirstPosition();if(Y.hasAttribute("highlight")){const b=C=>C.item.hasAttribute("highlight")&&C.item.getAttribute("highlight")===this.value,_=d.getLastMatchingPosition(b,{direction:"backward"}),w=d.getLastMatchingPosition(b),E=q.createRange(_,w);le&&this.value!==le?(d.isEqual(w)||q.setAttribute("highlight",le,E),q.setSelectionAttribute("highlight",le)):(d.isEqual(w)||q.removeAttribute("highlight",E),q.removeSelectionAttribute("highlight"))}else le&&q.setSelectionAttribute("highlight",le)}else{const d=J.schema.getValidRanges(Y.getRanges(),"highlight");for(const b of d)le?q.setAttribute("highlight",le,b):q.removeAttribute("highlight",b)}})}}class I extends p.Plugin{static get pluginName(){return"HighlightEditing"}constructor($){super($),$.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const $=this.editor;$.model.schema.extend("$text",{allowAttributes:"highlight"});const J=$.config.get("highlight.options");$.conversion.attributeToElement(function(Y){const le={model:{key:"highlight",values:[]},view:{}};for(const q of Y)le.model.values.push(q.model),le.view[q.model]={name:"mark",classes:q.class};return le}(J)),$.commands.add("highlight",new j($))}}var v=ae(273),A=ae(62),l=ae.n(A),c=ae(401),L={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};l()(c.Z,L),c.Z.locals;class z extends p.Plugin{get localizedOptionTitles(){const $=this.editor.t;return{"Yellow marker":$("Yellow marker"),"Green marker":$("Green marker"),"Pink marker":$("Pink marker"),"Blue marker":$("Blue marker"),"Red pen":$("Red pen"),"Green pen":$("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const $=this.editor.config.get("highlight.options");for(const J of $)this._addHighlighterButton(J);this._addRemoveHighlightButton(),this._addDropdown($)}_addRemoveHighlightButton(){const $=this.editor.t,J=this.editor.commands.get("highlight");this._addButton("removeHighlight",$("Remove highlight"),p.icons.eraser,null,Y=>{Y.bind("isEnabled").to(J,"isEnabled")})}_addHighlighterButton($){const J=this.editor.commands.get("highlight");this._addButton("highlight:"+$.model,$.title,y($.type),$.model,function(Y){Y.bind("isEnabled").to(J,"isEnabled"),Y.bind("isOn").to(J,"value",le=>le===$.model),Y.iconView.fillColor=$.color,Y.isToggleable=!0})}_addButton($,J,Y,le,q){const d=this.editor;d.ui.componentFactory.add($,b=>{const _=new v.ButtonView(b),w=this.localizedOptionTitles[J]?this.localizedOptionTitles[J]:J;return _.set({label:w,icon:Y,tooltip:!0}),_.on("execute",()=>{d.execute("highlight",{value:le}),d.editing.view.focus()}),q(_),_})}_addDropdown($){const J=this.editor,Y=J.t,le=J.ui.componentFactory,q=$[0],d=$.reduce((b,_)=>(b[_.model]=_,b),{});le.add("highlight",b=>{const _=J.commands.get("highlight"),w=(0,v.createDropdown)(b,v.SplitButtonView),E=w.buttonView;E.set({label:Y("Highlight"),tooltip:!0,lastExecuted:q.model,commandValue:q.model,isToggleable:!0}),E.bind("icon").to(_,"value",S=>y(C(S,"type"))),E.bind("color").to(_,"value",S=>C(S,"color")),E.bind("commandValue").to(_,"value",S=>C(S,"model")),E.bind("isOn").to(_,"value",S=>!!S),E.delegate("execute").to(w);function C(S,ne){const U=S&&S!==E.lastExecuted?S:E.lastExecuted;return d[U][ne]}return w.bind("isEnabled").to(_,"isEnabled"),(0,v.addToolbarToDropdown)(w,()=>{const S=$.map(ne=>{const U=le.create("highlight:"+ne.model);return this.listenTo(U,"execute",()=>{w.buttonView.set({lastExecuted:ne.model})}),U});return S.push(new v.ToolbarSeparatorView),S.push(le.create("removeHighlight")),S},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:Y("Text highlight toolbar")}),function(S){S.buttonView.actionView.iconView.bind("fillColor").to(S.buttonView,"color")}(w),E.on("execute",()=>{J.execute("highlight",{value:E.commandValue})}),this.listenTo(w,"execute",()=>{J.editing.view.focus()}),w})}}function y(V){return V==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class h extends p.Plugin{static get requires(){return[I,z]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=Yt})()},29781:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Horizontal line":"Horizontal line"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={217:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},995:(p,j,I)=>{p.exports=I(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{HorizontalLine:()=>h,HorizontalLineEditing:()=>L,HorizontalLineUI:()=>y});var p=ae(704),j=ae(995);class I extends p.Command{refresh(){const $=this.editor.model,J=$.schema,Y=$.document.selection;this.isEnabled=function(le,q,d){const b=function(_,w){const E=(0,j.findOptimalInsertionRange)(_,w),C=E.start.parent;return C.isEmpty&&!C.is("element","$root")?C.parent:C}(le,d);return q.checkChild(b,"horizontalLine")}(Y,J,$)}execute(){const $=this.editor.model;$.change(J=>{const Y=J.createElement("horizontalLine");$.insertObject(Y,null,null,{setSelection:"after"})})}}var v=ae(62),A=ae.n(v),l=ae(217),c={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(l.Z,c),l.Z.locals;class L extends p.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const $=this.editor,J=$.model.schema,Y=$.t,le=$.conversion;J.register("horizontalLine",{inheritAllFrom:"$blockObject"}),le.for("dataDowncast").elementToElement({model:"horizontalLine",view:(q,{writer:d})=>d.createEmptyElement("hr")}),le.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(q,{writer:d})=>{const b=Y("Horizontal line"),_=d.createContainerElement("div",null,d.createEmptyElement("hr"));return d.addClass("ck-horizontal-line",_),d.setCustomProperty("hr",!0,_),function(w,E,C){return E.setCustomProperty("horizontalLine",!0,w),(0,j.toWidget)(w,E,{label:C})}(_,d,b)}}),le.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),$.commands.add("horizontalLine",new I($))}}var z=ae(273);class y extends p.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const $=this.editor,J=$.t;$.ui.componentFactory.add("horizontalLine",Y=>{const le=$.commands.get("horizontalLine"),q=new z.ButtonView(Y);return q.set({label:J("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),q.bind("isEnabled").to(le,"isEnabled"),this.listenTo(q,"execute",()=>{$.execute("horizontalLine"),$.editing.view.focus()}),q})}}class h extends p.Plugin{static get requires(){return[L,y,j.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=Yt})()},78590:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={5:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},995:(p,j,I)=>{p.exports=I(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{HtmlEmbed:()=>J,HtmlEmbedEditing:()=>h,HtmlEmbedUI:()=>$});var p=ae(704),j=ae(995),I=ae(273),v=ae(209);class A extends p.Command{refresh(){const le=this.editor.model,q=le.schema,d=le.document.selection,b=l(d);this.isEnabled=function(_,w,E){const C=function(S,ne){const U=(0,j.findOptimalInsertionRange)(S,ne),D=U.start.parent;return D.isEmpty&&!D.is("rootElement")?D.parent:D}(_,E);return w.checkChild(C,"rawHtml")}(d,q,le),this.value=b?b.getAttribute("value")||"":null}execute(le){const q=this.editor.model,d=q.document.selection;q.change(b=>{let _;this.value!==null?_=l(d):(_=b.createElement("rawHtml"),q.insertObject(_,null,null,{setSelection:"on"})),b.setAttribute("value",le,_)})}}function l(Y){const le=Y.getSelectedElement();return le&&le.is("element","rawHtml")?le:null}var c=ae(62),L=ae.n(c),z=ae(5),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(z.Z,y),z.Z.locals;class h extends p.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(le){super(le),this._widgetButtonViewReferences=new Set,le.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:q=>((0,v.logWarning)("html-embed-provide-sanitize-function"),{html:q,hasChanged:!1})})}init(){const le=this.editor;le.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),le.commands.add("htmlEmbed",new A(le)),this._setupConversion()}_setupConversion(){const le=this.editor,q=le.t,d=le.editing.view,b=this._widgetButtonViewReferences,_=le.config.get("htmlEmbed");function w({editor:C,domElement:S,state:ne,props:U}){S.textContent="";const D=S.ownerDocument;let f;if(ne.isEditable){const W={isDisabled:!1,placeholder:U.textareaPlaceholder};f=E({domDocument:D,state:ne,props:W}),S.append(f)}else if(ne.showPreviews){const W={sanitizeHtml:U.sanitizeHtml};S.append(function({editor:N,domDocument:oe,state:Te,props:Oe}){const xe=Oe.sanitizeHtml(Te.getRawHtmlValue()),Re=Te.getRawHtmlValue().length>0?q("No preview available"):q("Empty snippet content"),lt=(0,v.createElement)(oe,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},Re),rt=(0,v.createElement)(oe,"div",{class:"raw-html-embed__preview-content",dir:N.locale.contentLanguageDirection}),ct=oe.createRange(),st=ct.createContextualFragment(xe.html);return rt.appendChild(st),(0,v.createElement)(oe,"div",{class:"raw-html-embed__preview"},[lt,rt])}({domDocument:D,state:ne,props:W,editor:C}))}else{const W={isDisabled:!0,placeholder:U.textareaPlaceholder};S.append(E({domDocument:D,state:ne,props:W}))}const R={onEditClick:U.onEditClick,onSaveClick:()=>{U.onSaveClick(f.value)},onCancelClick:U.onCancelClick};S.prepend(function({editor:W,domDocument:N,state:oe,props:Te}){const Oe=(0,v.createElement)(N,"div",{class:"raw-html-embed__buttons-wrapper"});if(oe.isEditable){const xe=V(W,"save",Te.onSaveClick),Re=V(W,"cancel",Te.onCancelClick);Oe.append(xe.element,Re.element),b.add(xe).add(Re)}else{const xe=V(W,"edit",Te.onEditClick);Oe.append(xe.element),b.add(xe)}return Oe}({editor:C,domDocument:D,state:ne,props:R}))}function E({domDocument:C,state:S,props:ne}){const U=(0,v.createElement)(C,"textarea",{placeholder:ne.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return U.disabled=ne.isDisabled,U.value=S.getRawHtmlValue(),U}this.editor.editing.view.on("render",()=>{for(const C of b){if(C.element&&C.element.isConnected)return;C.destroy(),b.delete(C)}},{priority:"lowest"}),le.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),le.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(C,{writer:S})=>S.createElement("rawHtml",{value:C.getCustomProperty("$rawContent")})}),le.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(C,{writer:S})=>S.createRawElement("div",{class:"raw-html-embed"},function(ne){ne.innerHTML=C.getAttribute("value")||""})}),le.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(C,{writer:S})=>{let ne,U,D;const f=S.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(N){ne=N,w({editor:le,domElement:N,state:U,props:D}),ne.addEventListener("mousedown",()=>{if(U.isEditable){const oe=le.model;oe.document.selection.getSelectedElement()!==C&&oe.change(Te=>Te.setSelection(C,"on"))}},!0)}),R={makeEditable(){U=Object.assign({},U,{isEditable:!0}),w({domElement:ne,editor:le,state:U,props:D}),d.change(N=>{N.setAttribute("data-cke-ignore-events","true",f)}),ne.querySelector("textarea").focus()},save(N){N!==U.getRawHtmlValue()?(le.execute("htmlEmbed",N),le.editing.view.focus()):this.cancel()},cancel(){U=Object.assign({},U,{isEditable:!1}),w({domElement:ne,editor:le,state:U,props:D}),le.editing.view.focus(),d.change(N=>{N.removeAttribute("data-cke-ignore-events",f)})}};U={showPreviews:_.showPreviews,isEditable:!1,getRawHtmlValue:()=>C.getAttribute("value")||""},D={sanitizeHtml:_.sanitizeHtml,textareaPlaceholder:q("Paste raw HTML here..."),onEditClick(){R.makeEditable()},onSaveClick(N){R.save(N)},onCancelClick(){R.cancel()}};const W=S.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":q("HTML snippet"),dir:le.locale.uiLanguageDirection},f);return S.setCustomProperty("rawHtmlApi",R,W),S.setCustomProperty("rawHtml",!0,W),(0,j.toWidget)(W,S,{label:q("HTML snippet"),hasSelectionHandle:!0})}})}}function V(Y,le,q){const{t:d}=Y.locale,b=new I.ButtonView(Y.locale),_=Y.commands.get("htmlEmbed");return b.set({class:`raw-html-embed__${le}-button`,icon:p.icons.pencil,tooltip:!0,tooltipPosition:Y.locale.uiLanguageDirection==="rtl"?"e":"w"}),b.render(),le==="edit"?(b.set({icon:p.icons.pencil,label:d("Edit source")}),b.bind("isEnabled").to(_)):le==="save"?(b.set({icon:p.icons.check,label:d("Save changes")}),b.bind("isEnabled").to(_)):b.set({icon:p.icons.cancel,label:d("Cancel")}),b.on("execute",q),b}class $ extends p.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const le=this.editor,q=le.t;le.ui.componentFactory.add("htmlEmbed",d=>{const b=le.commands.get("htmlEmbed"),_=new I.ButtonView(d);return _.set({label:q("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),_.bind("isEnabled").to(b,"isEnabled"),this.listenTo(_,"execute",()=>{le.execute("htmlEmbed"),le.editing.view.focus(),le.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),_})}}class J extends p.Plugin{static get requires(){return[h,$,j.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=Yt})()},5978:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Jt={704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},79:p=>{"use strict";p.exports=CKEditor5.dll},915:()=>{}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Markdown:()=>ji});var p=ae(704),j=ae(492);function I(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let v={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const A=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,L=/[<>"']|&(?!#?\w+;)/g,z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=he=>z[he];function h(he,B){if(B){if(A.test(he))return he.replace(l,y)}else if(c.test(he))return he.replace(L,y);return he}const V=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function $(he){return he.replace(V,(B,ee)=>(ee=ee.toLowerCase())==="colon"?":":ee.charAt(0)==="#"?ee.charAt(1)==="x"?String.fromCharCode(parseInt(ee.substring(2),16)):String.fromCharCode(+ee.substring(1)):"")}const J=/(^|[^\[])\^/g;function Y(he,B){he=he.source||he,B=B||"";const ee={replace:(se,Pe)=>(Pe=(Pe=Pe.source||Pe).replace(J,"$1"),he=he.replace(se,Pe),ee),getRegex:()=>new RegExp(he,B)};return ee}const le=/[^\w:]/g,q=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(he,B,ee){if(he){let se;try{se=decodeURIComponent($(ee)).replace(le,"").toLowerCase()}catch{return null}if(se.indexOf("javascript:")===0||se.indexOf("vbscript:")===0||se.indexOf("data:")===0)return null}B&&!q.test(ee)&&(ee=function(se,Pe){b[" "+se]||(_.test(se)?b[" "+se]=se+"/":b[" "+se]=U(se,"/",!0)),se=b[" "+se];const Ct=se.indexOf(":")===-1;return Pe.substring(0,2)==="//"?Ct?Pe:se.replace(w,"$1")+Pe:Pe.charAt(0)==="/"?Ct?Pe:se.replace(E,"$1")+Pe:se+Pe}(B,ee));try{ee=encodeURI(ee).replace(/%25/g,"%")}catch{return null}return ee}const b={},_=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,E=/^([^:]+:\/*[^/]*)[\s\S]*$/,C={exec:function(){}};function S(he){let B,ee,se=1;for(;se<arguments.length;se++)for(ee in B=arguments[se],B)Object.prototype.hasOwnProperty.call(B,ee)&&(he[ee]=B[ee]);return he}function ne(he,B){const ee=he.replace(/\|/g,(Pe,Ct,Ht)=>{let wt=!1,zt=Ct;for(;--zt>=0&&Ht[zt]==="\\";)wt=!wt;return wt?"|":" |"}).split(/ \|/);let se=0;if(ee[0].trim()||ee.shift(),ee.length>0&&!ee[ee.length-1].trim()&&ee.pop(),ee.length>B)ee.splice(B);else for(;ee.length<B;)ee.push("");for(;se<ee.length;se++)ee[se]=ee[se].trim().replace(/\\\|/g,"|");return ee}function U(he,B,ee){const se=he.length;if(se===0)return"";let Pe=0;for(;Pe<se;){const Ct=he.charAt(se-Pe-1);if(Ct!==B||ee){if(Ct===B||!ee)break;Pe++}else Pe++}return he.substr(0,se-Pe)}function D(he){he&&he.sanitize&&!he.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function f(he,B){if(B<1)return"";let ee="";for(;B>1;)1&B&&(ee+=he),B>>=1,he+=he;return ee+he}function R(he,B,ee,se){const Pe=B.href,Ct=B.title?h(B.title):null,Ht=he[1].replace(/\\([\[\]])/g,"$1");if(he[0].charAt(0)!=="!"){se.state.inLink=!0;const wt={type:"link",raw:ee,href:Pe,title:Ct,text:Ht,tokens:se.inlineTokens(Ht,[])};return se.state.inLink=!1,wt}return{type:"image",raw:ee,href:Pe,title:Ct,text:h(Ht)}}class W{constructor(B){this.options=B||v}space(B){const ee=this.rules.block.newline.exec(B);if(ee&&ee[0].length>0)return{type:"space",raw:ee[0]}}code(B){const ee=this.rules.block.code.exec(B);if(ee){const se=ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ee[0],codeBlockStyle:"indented",text:this.options.pedantic?se:U(se,`
`)}}}fences(B){const ee=this.rules.block.fences.exec(B);if(ee){const se=ee[0],Pe=function(Ct,Ht){const wt=Ct.match(/^(\s+)(?:```)/);if(wt===null)return Ht;const zt=wt[1];return Ht.split(`
`).map(fi=>{const gi=fi.match(/^\s+/);if(gi===null)return fi;const[Oi]=gi;return Oi.length>=zt.length?fi.slice(zt.length):fi}).join(`
`)}(se,ee[3]||"");return{type:"code",raw:se,lang:ee[2]?ee[2].trim():ee[2],text:Pe}}}heading(B){const ee=this.rules.block.heading.exec(B);if(ee){let se=ee[2].trim();if(/#$/.test(se)){const Ct=U(se,"#");this.options.pedantic?se=Ct.trim():Ct&&!/ $/.test(Ct)||(se=Ct.trim())}const Pe={type:"heading",raw:ee[0],depth:ee[1].length,text:se,tokens:[]};return this.lexer.inline(Pe.text,Pe.tokens),Pe}}hr(B){const ee=this.rules.block.hr.exec(B);if(ee)return{type:"hr",raw:ee[0]}}blockquote(B){const ee=this.rules.block.blockquote.exec(B);if(ee){const se=ee[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ee[0],tokens:this.lexer.blockTokens(se,[]),text:se}}}list(B){let ee=this.rules.block.list.exec(B);if(ee){let se,Pe,Ct,Ht,wt,zt,fi,gi,Oi,Ti,Yi,Ut,Ae=ee[1].trim();const Ye=Ae.length>1,it={type:"list",raw:"",ordered:Ye,start:Ye?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Ye?`\\d{1,9}\\${Ae.slice(-1)}`:`\\${Ae}`,this.options.pedantic&&(Ae=Ye?Ae:"[*+-]");const ht=new RegExp(`^( {0,3}${Ae})((?: [^\\n]*)?(?:\\n|$))`);for(;B&&(Ut=!1,ee=ht.exec(B))&&!this.rules.block.hr.test(B);){if(se=ee[0],B=B.substring(se.length),gi=ee[2].split(`
`,1)[0],Oi=B.split(`
`,1)[0],this.options.pedantic?(Ht=2,Yi=gi.trimLeft()):(Ht=ee[2].search(/[^ ]/),Ht=Ht>4?1:Ht,Yi=gi.slice(Ht),Ht+=ee[1].length),zt=!1,!gi&&/^ *$/.test(Oi)&&(se+=Oi+`
`,B=B.substring(Oi.length+1),Ut=!0),!Ut){const Xt=new RegExp(`^ {0,${Math.min(3,Ht-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;B&&(Ti=B.split(`
`,1)[0],gi=Ti,this.options.pedantic&&(gi=gi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Xt.test(gi));){if(gi.search(/[^ ]/)>=Ht||!gi.trim())Yi+=`
`+gi.slice(Ht);else{if(zt)break;Yi+=`
`+gi}zt||gi.trim()||(zt=!0),se+=Ti+`
`,B=B.substring(Ti.length+1)}}it.loose||(fi?it.loose=!0:/\n *\n *$/.test(se)&&(fi=!0)),this.options.gfm&&(Pe=/^\[[ xX]\] /.exec(Yi),Pe&&(Ct=Pe[0]!=="[ ] ",Yi=Yi.replace(/^\[[ xX]\] +/,""))),it.items.push({type:"list_item",raw:se,task:!!Pe,checked:Ct,loose:!1,text:Yi}),it.raw+=se}it.items[it.items.length-1].raw=se.trimRight(),it.items[it.items.length-1].text=Yi.trimRight(),it.raw=it.raw.trimRight();const Ot=it.items.length;for(wt=0;wt<Ot;wt++){this.lexer.state.top=!1,it.items[wt].tokens=this.lexer.blockTokens(it.items[wt].text,[]);const Xt=it.items[wt].tokens.filter(di=>di.type==="space"),ii=Xt.every(di=>{const Ai=di.raw.split("");let wi=0;for(const Mi of Ai)if(Mi===`
`&&(wi+=1),wi>1)return!0;return!1});!it.loose&&Xt.length&&ii&&(it.loose=!0,it.items[wt].loose=!0)}return it}}html(B){const ee=this.rules.block.html.exec(B);if(ee){const se={type:"html",raw:ee[0],pre:!this.options.sanitizer&&(ee[1]==="pre"||ee[1]==="script"||ee[1]==="style"),text:ee[0]};return this.options.sanitize&&(se.type="paragraph",se.text=this.options.sanitizer?this.options.sanitizer(ee[0]):h(ee[0]),se.tokens=[],this.lexer.inline(se.text,se.tokens)),se}}def(B){const ee=this.rules.block.def.exec(B);if(ee)return ee[3]&&(ee[3]=ee[3].substring(1,ee[3].length-1)),{type:"def",tag:ee[1].toLowerCase().replace(/\s+/g," "),raw:ee[0],href:ee[2],title:ee[3]}}table(B){const ee=this.rules.block.table.exec(B);if(ee){const se={type:"table",header:ne(ee[1]).map(Pe=>({text:Pe})),align:ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ee[3]&&ee[3].trim()?ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(se.header.length===se.align.length){se.raw=ee[0];let Pe,Ct,Ht,wt,zt=se.align.length;for(Pe=0;Pe<zt;Pe++)/^ *-+: *$/.test(se.align[Pe])?se.align[Pe]="right":/^ *:-+: *$/.test(se.align[Pe])?se.align[Pe]="center":/^ *:-+ *$/.test(se.align[Pe])?se.align[Pe]="left":se.align[Pe]=null;for(zt=se.rows.length,Pe=0;Pe<zt;Pe++)se.rows[Pe]=ne(se.rows[Pe],se.header.length).map(fi=>({text:fi}));for(zt=se.header.length,Ct=0;Ct<zt;Ct++)se.header[Ct].tokens=[],this.lexer.inlineTokens(se.header[Ct].text,se.header[Ct].tokens);for(zt=se.rows.length,Ct=0;Ct<zt;Ct++)for(wt=se.rows[Ct],Ht=0;Ht<wt.length;Ht++)wt[Ht].tokens=[],this.lexer.inlineTokens(wt[Ht].text,wt[Ht].tokens);return se}}}lheading(B){const ee=this.rules.block.lheading.exec(B);if(ee){const se={type:"heading",raw:ee[0],depth:ee[2].charAt(0)==="="?1:2,text:ee[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}paragraph(B){const ee=this.rules.block.paragraph.exec(B);if(ee){const se={type:"paragraph",raw:ee[0],text:ee[1].charAt(ee[1].length-1)===`
`?ee[1].slice(0,-1):ee[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}text(B){const ee=this.rules.block.text.exec(B);if(ee){const se={type:"text",raw:ee[0],text:ee[0],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}escape(B){const ee=this.rules.inline.escape.exec(B);if(ee)return{type:"escape",raw:ee[0],text:h(ee[1])}}tag(B){const ee=this.rules.inline.tag.exec(B);if(ee)return!this.lexer.state.inLink&&/^<a /i.test(ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):h(ee[0]):ee[0]}}link(B){const ee=this.rules.inline.link.exec(B);if(ee){const se=ee[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const Ht=U(se.slice(0,-1),"\\");if((se.length-Ht.length)%2==0)return}else{const Ht=function(wt,zt){if(wt.indexOf(zt[1])===-1)return-1;const fi=wt.length;let gi=0,Oi=0;for(;Oi<fi;Oi++)if(wt[Oi]==="\\")Oi++;else if(wt[Oi]===zt[0])gi++;else if(wt[Oi]===zt[1]&&(gi--,gi<0))return Oi;return-1}(ee[2],"()");if(Ht>-1){const wt=(ee[0].indexOf("!")===0?5:4)+ee[1].length+Ht;ee[2]=ee[2].substring(0,Ht),ee[0]=ee[0].substring(0,wt).trim(),ee[3]=""}}let Pe=ee[2],Ct="";if(this.options.pedantic){const Ht=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Pe);Ht&&(Pe=Ht[1],Ct=Ht[3])}else Ct=ee[3]?ee[3].slice(1,-1):"";return Pe=Pe.trim(),/^</.test(Pe)&&(Pe=this.options.pedantic&&!/>$/.test(se)?Pe.slice(1):Pe.slice(1,-1)),R(ee,{href:Pe&&Pe.replace(this.rules.inline._escapes,"$1"),title:Ct&&Ct.replace(this.rules.inline._escapes,"$1")},ee[0],this.lexer)}}reflink(B,ee){let se;if((se=this.rules.inline.reflink.exec(B))||(se=this.rules.inline.nolink.exec(B))){let Pe=(se[2]||se[1]).replace(/\s+/g," ");if(Pe=ee[Pe.toLowerCase()],!Pe||!Pe.href){const Ct=se[0].charAt(0);return{type:"text",raw:Ct,text:Ct}}return R(se,Pe,se[0],this.lexer)}}emStrong(B,ee,se=""){let Pe=this.rules.inline.emStrong.lDelim.exec(B);if(!Pe||Pe[3]&&se.match(/[\p{L}\p{N}]/u))return;const Ct=Pe[1]||Pe[2]||"";if(!Ct||Ct&&(se===""||this.rules.inline.punctuation.exec(se))){const Ht=Pe[0].length-1;let wt,zt,fi=Ht,gi=0;const Oi=Pe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Oi.lastIndex=0,ee=ee.slice(-1*B.length+Ht);(Pe=Oi.exec(ee))!=null;){if(wt=Pe[1]||Pe[2]||Pe[3]||Pe[4]||Pe[5]||Pe[6],!wt)continue;if(zt=wt.length,Pe[3]||Pe[4]){fi+=zt;continue}if((Pe[5]||Pe[6])&&Ht%3&&!((Ht+zt)%3)){gi+=zt;continue}if(fi-=zt,fi>0)continue;if(zt=Math.min(zt,zt+fi+gi),Math.min(Ht,zt)%2){const Yi=B.slice(1,Ht+Pe.index+zt);return{type:"em",raw:B.slice(0,Ht+Pe.index+zt+1),text:Yi,tokens:this.lexer.inlineTokens(Yi,[])}}const Ti=B.slice(2,Ht+Pe.index+zt-1);return{type:"strong",raw:B.slice(0,Ht+Pe.index+zt+1),text:Ti,tokens:this.lexer.inlineTokens(Ti,[])}}}}codespan(B){const ee=this.rules.inline.code.exec(B);if(ee){let se=ee[2].replace(/\n/g," ");const Pe=/[^ ]/.test(se),Ct=/^ /.test(se)&&/ $/.test(se);return Pe&&Ct&&(se=se.substring(1,se.length-1)),se=h(se,!0),{type:"codespan",raw:ee[0],text:se}}}br(B){const ee=this.rules.inline.br.exec(B);if(ee)return{type:"br",raw:ee[0]}}del(B){const ee=this.rules.inline.del.exec(B);if(ee)return{type:"del",raw:ee[0],text:ee[2],tokens:this.lexer.inlineTokens(ee[2],[])}}autolink(B,ee){const se=this.rules.inline.autolink.exec(B);if(se){let Pe,Ct;return se[2]==="@"?(Pe=h(this.options.mangle?ee(se[1]):se[1]),Ct="mailto:"+Pe):(Pe=h(se[1]),Ct=Pe),{type:"link",raw:se[0],text:Pe,href:Ct,tokens:[{type:"text",raw:Pe,text:Pe}]}}}url(B,ee){let se;if(se=this.rules.inline.url.exec(B)){let Pe,Ct;if(se[2]==="@")Pe=h(this.options.mangle?ee(se[0]):se[0]),Ct="mailto:"+Pe;else{let Ht;do Ht=se[0],se[0]=this.rules.inline._backpedal.exec(se[0])[0];while(Ht!==se[0]);Pe=h(se[0]),Ct=se[1]==="www."?"http://"+Pe:Pe}return{type:"link",raw:se[0],text:Pe,href:Ct,tokens:[{type:"text",raw:Pe,text:Pe}]}}}inlineText(B,ee){const se=this.rules.inline.text.exec(B);if(se){let Pe;return Pe=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(se[0]):h(se[0]):se[0]:h(this.options.smartypants?ee(se[0]):se[0]),{type:"text",raw:se[0],text:Pe}}}}const N={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:C,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};N.def=Y(N.def).replace("label",N._label).replace("title",N._title).getRegex(),N.bullet=/(?:[*+-]|\d{1,9}[.)])/,N.listItemStart=Y(/^( *)(bull) */).replace("bull",N.bullet).getRegex(),N.list=Y(N.list).replace(/bull/g,N.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+N.def.source+")").getRegex(),N._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",N._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,N.html=Y(N.html,"i").replace("comment",N._comment).replace("tag",N._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),N.paragraph=Y(N._paragraph).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N._tag).getRegex(),N.blockquote=Y(N.blockquote).replace("paragraph",N.paragraph).getRegex(),N.normal=S({},N),N.gfm=S({},N.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),N.gfm.table=Y(N.gfm.table).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N._tag).getRegex(),N.gfm.paragraph=Y(N._paragraph).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",N.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N._tag).getRegex(),N.pedantic=S({},N.normal,{html:Y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",N._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,paragraph:Y(N.normal._paragraph).replace("hr",N.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",N.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const oe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:C,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:C,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Te(he){return he.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Oe(he){let B,ee,se="";const Pe=he.length;for(B=0;B<Pe;B++)ee=he.charCodeAt(B),Math.random()>.5&&(ee="x"+ee.toString(16)),se+="&#"+ee+";";return se}oe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",oe.punctuation=Y(oe.punctuation).replace(/punctuation/g,oe._punctuation).getRegex(),oe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,oe.escapedEmSt=/\\\*|\\_/g,oe._comment=Y(N._comment).replace("(?:-->|$)","-->").getRegex(),oe.emStrong.lDelim=Y(oe.emStrong.lDelim).replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimAst=Y(oe.emStrong.rDelimAst,"g").replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimUnd=Y(oe.emStrong.rDelimUnd,"g").replace(/punct/g,oe._punctuation).getRegex(),oe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,oe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oe.autolink=Y(oe.autolink).replace("scheme",oe._scheme).replace("email",oe._email).getRegex(),oe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oe.tag=Y(oe.tag).replace("comment",oe._comment).replace("attribute",oe._attribute).getRegex(),oe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oe.link=Y(oe.link).replace("label",oe._label).replace("href",oe._href).replace("title",oe._title).getRegex(),oe.reflink=Y(oe.reflink).replace("label",oe._label).replace("ref",N._label).getRegex(),oe.nolink=Y(oe.nolink).replace("ref",N._label).getRegex(),oe.reflinkSearch=Y(oe.reflinkSearch,"g").replace("reflink",oe.reflink).replace("nolink",oe.nolink).getRegex(),oe.normal=S({},oe),oe.pedantic=S({},oe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Y(/^!?\[(label)\]\((.*?)\)/).replace("label",oe._label).getRegex(),reflink:Y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oe._label).getRegex()}),oe.gfm=S({},oe.normal,{escape:Y(oe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),oe.gfm.url=Y(oe.gfm.url,"i").replace("email",oe.gfm._extended_email).getRegex(),oe.breaks=S({},oe.gfm,{br:Y(oe.br).replace("{2,}","*").getRegex(),text:Y(oe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class xe{constructor(B){this.tokens=[],this.tokens.links=Object.create(null),this.options=B||v,this.options.tokenizer=this.options.tokenizer||new W,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ee={block:N.normal,inline:oe.normal};this.options.pedantic?(ee.block=N.pedantic,ee.inline=oe.pedantic):this.options.gfm&&(ee.block=N.gfm,this.options.breaks?ee.inline=oe.breaks:ee.inline=oe.gfm),this.tokenizer.rules=ee}static get rules(){return{block:N,inline:oe}}static lex(B,ee){return new xe(ee).lex(B)}static lexInline(B,ee){return new xe(ee).inlineTokens(B)}lex(B){let ee;for(B=B.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(B,this.tokens);ee=this.inlineQueue.shift();)this.inlineTokens(ee.src,ee.tokens);return this.tokens}blockTokens(B,ee=[]){let se,Pe,Ct,Ht;for(this.options.pedantic&&(B=B.replace(/^ +$/gm,""));B;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(wt=>!!(se=wt.call({lexer:this},B,ee))&&(B=B.substring(se.raw.length),ee.push(se),!0))))if(se=this.tokenizer.space(B))B=B.substring(se.raw.length),se.raw.length===1&&ee.length>0?ee[ee.length-1].raw+=`
`:ee.push(se);else if(se=this.tokenizer.code(B))B=B.substring(se.raw.length),Pe=ee[ee.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?ee.push(se):(Pe.raw+=`
`+se.raw,Pe.text+=`
`+se.text,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(se=this.tokenizer.fences(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.heading(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.hr(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.blockquote(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.list(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.html(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.def(B))B=B.substring(se.raw.length),Pe=ee[ee.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title}):(Pe.raw+=`
`+se.raw,Pe.text+=`
`+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(se=this.tokenizer.table(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.lheading(B))B=B.substring(se.raw.length),ee.push(se);else{if(Ct=B,this.options.extensions&&this.options.extensions.startBlock){let wt=1/0;const zt=B.slice(1);let fi;this.options.extensions.startBlock.forEach(function(gi){fi=gi.call({lexer:this},zt),typeof fi=="number"&&fi>=0&&(wt=Math.min(wt,fi))}),wt<1/0&&wt>=0&&(Ct=B.substring(0,wt+1))}if(this.state.top&&(se=this.tokenizer.paragraph(Ct)))Pe=ee[ee.length-1],Ht&&Pe.type==="paragraph"?(Pe.raw+=`
`+se.raw,Pe.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):ee.push(se),Ht=Ct.length!==B.length,B=B.substring(se.raw.length);else if(se=this.tokenizer.text(B))B=B.substring(se.raw.length),Pe=ee[ee.length-1],Pe&&Pe.type==="text"?(Pe.raw+=`
`+se.raw,Pe.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):ee.push(se);else if(B){const wt="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(wt);break}throw new Error(wt)}}return this.state.top=!0,ee}inline(B,ee){this.inlineQueue.push({src:B,tokens:ee})}inlineTokens(B,ee=[]){let se,Pe,Ct,Ht,wt,zt,fi=B;if(this.tokens.links){const gi=Object.keys(this.tokens.links);if(gi.length>0)for(;(Ht=this.tokenizer.rules.inline.reflinkSearch.exec(fi))!=null;)gi.includes(Ht[0].slice(Ht[0].lastIndexOf("[")+1,-1))&&(fi=fi.slice(0,Ht.index)+"["+f("a",Ht[0].length-2)+"]"+fi.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ht=this.tokenizer.rules.inline.blockSkip.exec(fi))!=null;)fi=fi.slice(0,Ht.index)+"["+f("a",Ht[0].length-2)+"]"+fi.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ht=this.tokenizer.rules.inline.escapedEmSt.exec(fi))!=null;)fi=fi.slice(0,Ht.index)+"++"+fi.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;B;)if(wt||(zt=""),wt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(gi=>!!(se=gi.call({lexer:this},B,ee))&&(B=B.substring(se.raw.length),ee.push(se),!0))))if(se=this.tokenizer.escape(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.tag(B))B=B.substring(se.raw.length),Pe=ee[ee.length-1],Pe&&se.type==="text"&&Pe.type==="text"?(Pe.raw+=se.raw,Pe.text+=se.text):ee.push(se);else if(se=this.tokenizer.link(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.reflink(B,this.tokens.links))B=B.substring(se.raw.length),Pe=ee[ee.length-1],Pe&&se.type==="text"&&Pe.type==="text"?(Pe.raw+=se.raw,Pe.text+=se.text):ee.push(se);else if(se=this.tokenizer.emStrong(B,fi,zt))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.codespan(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.br(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.del(B))B=B.substring(se.raw.length),ee.push(se);else if(se=this.tokenizer.autolink(B,Oe))B=B.substring(se.raw.length),ee.push(se);else if(this.state.inLink||!(se=this.tokenizer.url(B,Oe))){if(Ct=B,this.options.extensions&&this.options.extensions.startInline){let gi=1/0;const Oi=B.slice(1);let Ti;this.options.extensions.startInline.forEach(function(Yi){Ti=Yi.call({lexer:this},Oi),typeof Ti=="number"&&Ti>=0&&(gi=Math.min(gi,Ti))}),gi<1/0&&gi>=0&&(Ct=B.substring(0,gi+1))}if(se=this.tokenizer.inlineText(Ct,Te))B=B.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(zt=se.raw.slice(-1)),wt=!0,Pe=ee[ee.length-1],Pe&&Pe.type==="text"?(Pe.raw+=se.raw,Pe.text+=se.text):ee.push(se);else if(B){const gi="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(gi);break}throw new Error(gi)}}else B=B.substring(se.raw.length),ee.push(se);return ee}}class Re{constructor(B){this.options=B||v}code(B,ee,se){const Pe=(ee||"").match(/\S*/)[0];if(this.options.highlight){const Ct=this.options.highlight(B,Pe);Ct!=null&&Ct!==B&&(se=!0,B=Ct)}return B=B.replace(/\n$/,"")+`
`,Pe?'<pre><code class="'+this.options.langPrefix+h(Pe,!0)+'">'+(se?B:h(B,!0))+`</code></pre>
`:"<pre><code>"+(se?B:h(B,!0))+`</code></pre>
`}blockquote(B){return`<blockquote>
`+B+`</blockquote>
`}html(B){return B}heading(B,ee,se,Pe){return this.options.headerIds?"<h"+ee+' id="'+this.options.headerPrefix+Pe.slug(se)+'">'+B+"</h"+ee+`>
`:"<h"+ee+">"+B+"</h"+ee+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(B,ee,se){const Pe=ee?"ol":"ul";return"<"+Pe+(ee&&se!==1?' start="'+se+'"':"")+`>
`+B+"</"+Pe+`>
`}listitem(B){return"<li>"+B+`</li>
`}checkbox(B){return"<input "+(B?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(B){return"<p>"+B+`</p>
`}table(B,ee){return ee&&(ee="<tbody>"+ee+"</tbody>"),`<table>
<thead>
`+B+`</thead>
`+ee+`</table>
`}tablerow(B){return`<tr>
`+B+`</tr>
`}tablecell(B,ee){const se=ee.header?"th":"td";return(ee.align?"<"+se+' align="'+ee.align+'">':"<"+se+">")+B+"</"+se+`>
`}strong(B){return"<strong>"+B+"</strong>"}em(B){return"<em>"+B+"</em>"}codespan(B){return"<code>"+B+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(B){return"<del>"+B+"</del>"}link(B,ee,se){if((B=d(this.options.sanitize,this.options.baseUrl,B))===null)return se;let Pe='<a href="'+h(B)+'"';return ee&&(Pe+=' title="'+ee+'"'),Pe+=">"+se+"</a>",Pe}image(B,ee,se){if((B=d(this.options.sanitize,this.options.baseUrl,B))===null)return se;let Pe='<img src="'+B+'" alt="'+se+'"';return ee&&(Pe+=' title="'+ee+'"'),Pe+=this.options.xhtml?"/>":">",Pe}text(B){return B}}class lt{strong(B){return B}em(B){return B}codespan(B){return B}del(B){return B}html(B){return B}text(B){return B}link(B,ee,se){return""+se}image(B,ee,se){return""+se}br(){return""}}class rt{constructor(){this.seen={}}serialize(B){return B.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(B,ee){let se=B,Pe=0;if(this.seen.hasOwnProperty(se)){Pe=this.seen[B];do Pe++,se=B+"-"+Pe;while(this.seen.hasOwnProperty(se))}return ee||(this.seen[B]=Pe,this.seen[se]=0),se}slug(B,ee={}){const se=this.serialize(B);return this.getNextSafeSlug(se,ee.dryrun)}}class ct{constructor(B){this.options=B||v,this.options.renderer=this.options.renderer||new Re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new lt,this.slugger=new rt}static parse(B,ee){return new ct(ee).parse(B)}static parseInline(B,ee){return new ct(ee).parseInline(B)}parse(B,ee=!0){let se,Pe,Ct,Ht,wt,zt,fi,gi,Oi,Ti,Yi,Ut,Ae,Ye,it,ht,Ot,Xt,ii,di="";const Ai=B.length;for(se=0;se<Ai;se++)if(Ti=B[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ti.type]&&(ii=this.options.extensions.renderers[Ti.type].call({parser:this},Ti),ii!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ti.type)))di+=ii||"";else switch(Ti.type){case"space":continue;case"hr":di+=this.renderer.hr();continue;case"heading":di+=this.renderer.heading(this.parseInline(Ti.tokens),Ti.depth,$(this.parseInline(Ti.tokens,this.textRenderer)),this.slugger);continue;case"code":di+=this.renderer.code(Ti.text,Ti.lang,Ti.escaped);continue;case"table":for(gi="",fi="",Ht=Ti.header.length,Pe=0;Pe<Ht;Pe++)fi+=this.renderer.tablecell(this.parseInline(Ti.header[Pe].tokens),{header:!0,align:Ti.align[Pe]});for(gi+=this.renderer.tablerow(fi),Oi="",Ht=Ti.rows.length,Pe=0;Pe<Ht;Pe++){for(zt=Ti.rows[Pe],fi="",wt=zt.length,Ct=0;Ct<wt;Ct++)fi+=this.renderer.tablecell(this.parseInline(zt[Ct].tokens),{header:!1,align:Ti.align[Ct]});Oi+=this.renderer.tablerow(fi)}di+=this.renderer.table(gi,Oi);continue;case"blockquote":Oi=this.parse(Ti.tokens),di+=this.renderer.blockquote(Oi);continue;case"list":for(Yi=Ti.ordered,Ut=Ti.start,Ae=Ti.loose,Ht=Ti.items.length,Oi="",Pe=0;Pe<Ht;Pe++)it=Ti.items[Pe],ht=it.checked,Ot=it.task,Ye="",it.task&&(Xt=this.renderer.checkbox(ht),Ae?it.tokens.length>0&&it.tokens[0].type==="paragraph"?(it.tokens[0].text=Xt+" "+it.tokens[0].text,it.tokens[0].tokens&&it.tokens[0].tokens.length>0&&it.tokens[0].tokens[0].type==="text"&&(it.tokens[0].tokens[0].text=Xt+" "+it.tokens[0].tokens[0].text)):it.tokens.unshift({type:"text",text:Xt}):Ye+=Xt),Ye+=this.parse(it.tokens,Ae),Oi+=this.renderer.listitem(Ye,Ot,ht);di+=this.renderer.list(Oi,Yi,Ut);continue;case"html":di+=this.renderer.html(Ti.text);continue;case"paragraph":di+=this.renderer.paragraph(this.parseInline(Ti.tokens));continue;case"text":for(Oi=Ti.tokens?this.parseInline(Ti.tokens):Ti.text;se+1<Ai&&B[se+1].type==="text";)Ti=B[++se],Oi+=`
`+(Ti.tokens?this.parseInline(Ti.tokens):Ti.text);di+=ee?this.renderer.paragraph(Oi):Oi;continue;default:{const wi='Token with "'+Ti.type+'" type was not found.';if(this.options.silent)return void console.error(wi);throw new Error(wi)}}return di}parseInline(B,ee){ee=ee||this.renderer;let se,Pe,Ct,Ht="";const wt=B.length;for(se=0;se<wt;se++)if(Pe=B[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Pe.type]&&(Ct=this.options.extensions.renderers[Pe.type].call({parser:this},Pe),Ct!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Pe.type)))Ht+=Ct||"";else switch(Pe.type){case"escape":case"text":Ht+=ee.text(Pe.text);break;case"html":Ht+=ee.html(Pe.text);break;case"link":Ht+=ee.link(Pe.href,Pe.title,this.parseInline(Pe.tokens,ee));break;case"image":Ht+=ee.image(Pe.href,Pe.title,Pe.text);break;case"strong":Ht+=ee.strong(this.parseInline(Pe.tokens,ee));break;case"em":Ht+=ee.em(this.parseInline(Pe.tokens,ee));break;case"codespan":Ht+=ee.codespan(Pe.text);break;case"br":Ht+=ee.br();break;case"del":Ht+=ee.del(this.parseInline(Pe.tokens,ee));break;default:{const zt='Token with "'+Pe.type+'" type was not found.';if(this.options.silent)return void console.error(zt);throw new Error(zt)}}return Ht}}function st(he,B,ee){if(he==null)throw new Error("marked(): input parameter is undefined or null");if(typeof he!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(he)+", string expected");if(typeof B=="function"&&(ee=B,B=null),D(B=S({},st.defaults,B||{})),ee){const se=B.highlight;let Pe;try{Pe=xe.lex(he,B)}catch(wt){return ee(wt)}const Ct=function(wt){let zt;if(!wt)try{B.walkTokens&&st.walkTokens(Pe,B.walkTokens),zt=ct.parse(Pe,B)}catch(fi){wt=fi}return B.highlight=se,wt?ee(wt):ee(null,zt)};if(!se||se.length<3||(delete B.highlight,!Pe.length))return Ct();let Ht=0;return st.walkTokens(Pe,function(wt){wt.type==="code"&&(Ht++,setTimeout(()=>{se(wt.text,wt.lang,function(zt,fi){if(zt)return Ct(zt);fi!=null&&fi!==wt.text&&(wt.text=fi,wt.escaped=!0),Ht--,Ht===0&&Ct()})},0))}),void(Ht===0&&Ct())}try{const se=xe.lex(he,B);return B.walkTokens&&st.walkTokens(se,B.walkTokens),ct.parse(se,B)}catch(se){if(se.message+=`
Please report this to https://github.com/markedjs/marked.`,B.silent)return"<p>An error occurred:</p><pre>"+h(se.message+"",!0)+"</pre>";throw se}}st.options=st.setOptions=function(he){var B;return S(st.defaults,he),B=st.defaults,v=B,st},st.getDefaults=I,st.defaults=v,st.use=function(...he){const B=S({},...he),ee=st.defaults.extensions||{renderers:{},childTokens:{}};let se;he.forEach(Pe=>{if(Pe.extensions&&(se=!0,Pe.extensions.forEach(Ct=>{if(!Ct.name)throw new Error("extension name required");if(Ct.renderer){const Ht=ee.renderers?ee.renderers[Ct.name]:null;ee.renderers[Ct.name]=Ht?function(...wt){let zt=Ct.renderer.apply(this,wt);return zt===!1&&(zt=Ht.apply(this,wt)),zt}:Ct.renderer}if(Ct.tokenizer){if(!Ct.level||Ct.level!=="block"&&Ct.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ee[Ct.level]?ee[Ct.level].unshift(Ct.tokenizer):ee[Ct.level]=[Ct.tokenizer],Ct.start&&(Ct.level==="block"?ee.startBlock?ee.startBlock.push(Ct.start):ee.startBlock=[Ct.start]:Ct.level==="inline"&&(ee.startInline?ee.startInline.push(Ct.start):ee.startInline=[Ct.start]))}Ct.childTokens&&(ee.childTokens[Ct.name]=Ct.childTokens)})),Pe.renderer){const Ct=st.defaults.renderer||new Re;for(const Ht in Pe.renderer){const wt=Ct[Ht];Ct[Ht]=(...zt)=>{let fi=Pe.renderer[Ht].apply(Ct,zt);return fi===!1&&(fi=wt.apply(Ct,zt)),fi}}B.renderer=Ct}if(Pe.tokenizer){const Ct=st.defaults.tokenizer||new W;for(const Ht in Pe.tokenizer){const wt=Ct[Ht];Ct[Ht]=(...zt)=>{let fi=Pe.tokenizer[Ht].apply(Ct,zt);return fi===!1&&(fi=wt.apply(Ct,zt)),fi}}B.tokenizer=Ct}if(Pe.walkTokens){const Ct=st.defaults.walkTokens;B.walkTokens=function(Ht){Pe.walkTokens.call(this,Ht),Ct&&Ct.call(this,Ht)}}se&&(B.extensions=ee),st.setOptions(B)})},st.walkTokens=function(he,B){for(const ee of he)switch(B.call(st,ee),ee.type){case"table":for(const se of ee.header)st.walkTokens(se.tokens,B);for(const se of ee.rows)for(const Pe of se)st.walkTokens(Pe.tokens,B);break;case"list":st.walkTokens(ee.items,B);break;default:st.defaults.extensions&&st.defaults.extensions.childTokens&&st.defaults.extensions.childTokens[ee.type]?st.defaults.extensions.childTokens[ee.type].forEach(function(se){st.walkTokens(ee[se],B)}):ee.tokens&&st.walkTokens(ee.tokens,B)}},st.parseInline=function(he,B){if(he==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof he!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(he)+", string expected");D(B=S({},st.defaults,B||{}));try{const ee=xe.lexInline(he,B);return B.walkTokens&&st.walkTokens(ee,B.walkTokens),ct.parseInline(ee,B)}catch(ee){if(ee.message+=`
Please report this to https://github.com/markedjs/marked.`,B.silent)return"<p>An error occurred:</p><pre>"+h(ee.message+"",!0)+"</pre>";throw ee}},st.Parser=ct,st.parser=ct.parse,st.Renderer=Re,st.TextRenderer=lt,st.Lexer=xe,st.lexer=xe.lex,st.Tokenizer=W,st.Slugger=rt,st.parse=st,st.options,st.setOptions,st.use,st.walkTokens,st.parseInline,ct.parse,xe.lex;function kt(he,B){return Array(B+1).join(he)}st.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...he){return Object.getPrototypeOf(this).checkbox.call(this,...he).trimRight()},code(...he){return Object.getPrototypeOf(this).code.call(this,...he).replace(`
</code>`,"</code>")}}});var pt=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function Ze(he){return pt.indexOf(he.nodeName.toLowerCase())!==-1}var mt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function qe(he){return mt.indexOf(he.nodeName.toLowerCase())!==-1}var et=mt.join(),Q={};function de(he){for(var B in this.options=he,this._keep=[],this._remove=[],this.blankRule={replacement:he.blankReplacement},this.keepReplacement=he.keepReplacement,this.defaultRule={replacement:he.defaultReplacement},this.array=[],he.rules)this.array.push(he.rules[B])}function we(he,B,ee){for(var se=0;se<he.length;se++){var Pe=he[se];if(Be(Pe,B,ee))return Pe}}function Be(he,B,ee){var se=he.filter;if(typeof se=="string"){if(se===B.nodeName.toLowerCase())return!0}else if(Array.isArray(se)){if(se.indexOf(B.nodeName.toLowerCase())>-1)return!0}else{if(typeof se!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(se.call(he,B,ee))return!0}}function Ge(he){var B=he.nextSibling||he.parentNode;return he.parentNode.removeChild(he),B}function Fe(he,B,ee){return he&&he.parentNode===B||ee(B)?B.nextSibling||B.parentNode:B.firstChild||B.nextSibling||B.parentNode}Q.paragraph={filter:"p",replacement:function(he){return`

`+he+`

`}},Q.lineBreak={filter:"br",replacement:function(he,B,ee){return ee.br+`
`}},Q.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(he,B,ee){var se=Number(B.nodeName.charAt(1));return ee.headingStyle==="setext"&&se<3?`

`+he+`
`+kt(se===1?"=":"-",he.length)+`

`:`

`+kt("#",se)+" "+he+`

`}},Q.blockquote={filter:"blockquote",replacement:function(he){return`

`+(he=(he=he.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Q.list={filter:["ul","ol"],replacement:function(he,B){var ee=B.parentNode;return ee.nodeName==="LI"&&ee.lastElementChild===B?`
`+he:`

`+he+`

`}},Q.listItem={filter:"li",replacement:function(he,B,ee){he=he.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var se=ee.bulletListMarker+"   ",Pe=B.parentNode;if(Pe.nodeName==="OL"){var Ct=Pe.getAttribute("start"),Ht=Array.prototype.indexOf.call(Pe.children,B);se=(Ct?Number(Ct)+Ht:Ht+1)+".  "}return se+he+(B.nextSibling&&!/\n$/.test(he)?`
`:"")}},Q.indentedCodeBlock={filter:function(he,B){return B.codeBlockStyle==="indented"&&he.nodeName==="PRE"&&he.firstChild&&he.firstChild.nodeName==="CODE"},replacement:function(he,B,ee){return`

    `+B.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Q.fencedCodeBlock={filter:function(he,B){return B.codeBlockStyle==="fenced"&&he.nodeName==="PRE"&&he.firstChild&&he.firstChild.nodeName==="CODE"},replacement:function(he,B,ee){for(var se,Pe=((B.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],Ct=B.firstChild.textContent,Ht=ee.fence.charAt(0),wt=3,zt=new RegExp("^"+Ht+"{3,}","gm");se=zt.exec(Ct);)se[0].length>=wt&&(wt=se[0].length+1);var fi=kt(Ht,wt);return`

`+fi+Pe+`
`+Ct.replace(/\n$/,"")+`
`+fi+`

`}},Q.horizontalRule={filter:"hr",replacement:function(he,B,ee){return`

`+ee.hr+`

`}},Q.inlineLink={filter:function(he,B){return B.linkStyle==="inlined"&&he.nodeName==="A"&&he.getAttribute("href")},replacement:function(he,B){return"["+he+"]("+B.getAttribute("href")+(B.title?' "'+B.title+'"':"")+")"}},Q.referenceLink={filter:function(he,B){return B.linkStyle==="referenced"&&he.nodeName==="A"&&he.getAttribute("href")},replacement:function(he,B,ee){var se,Pe,Ct=B.getAttribute("href"),Ht=B.title?' "'+B.title+'"':"";switch(ee.linkReferenceStyle){case"collapsed":se="["+he+"][]",Pe="["+he+"]: "+Ct+Ht;break;case"shortcut":se="["+he+"]",Pe="["+he+"]: "+Ct+Ht;break;default:var wt=this.references.length+1;se="["+he+"]["+wt+"]",Pe="["+wt+"]: "+Ct+Ht}return this.references.push(Pe),se},references:[],append:function(he){var B="";return this.references.length&&(B=`

`+this.references.join(`
`)+`

`,this.references=[]),B}},Q.emphasis={filter:["em","i"],replacement:function(he,B,ee){return he.trim()?ee.emDelimiter+he+ee.emDelimiter:""}},Q.strong={filter:["strong","b"],replacement:function(he,B,ee){return he.trim()?ee.strongDelimiter+he+ee.strongDelimiter:""}},Q.code={filter:function(he){var B=he.previousSibling||he.nextSibling,ee=he.parentNode.nodeName==="PRE"&&!B;return he.nodeName==="CODE"&&!ee},replacement:function(he){if(!he.trim())return"";var B="`",ee="",se="",Pe=he.match(/`+/gm);if(Pe)for(/^`/.test(he)&&(ee=" "),/`$/.test(he)&&(se=" ");Pe.indexOf(B)!==-1;)B+="`";return B+ee+he+se+B}},Q.image={filter:"img",replacement:function(he,B){var ee=B.alt||"",se=B.getAttribute("src")||"",Pe=B.title||"";return se?"!["+ee+"]("+se+(Pe?' "'+Pe+'"':"")+")":""}},de.prototype={add:function(he,B){this.array.unshift(B)},keep:function(he){this._keep.unshift({filter:he,replacement:this.keepReplacement})},remove:function(he){this._remove.unshift({filter:he,replacement:function(){return""}})},forNode:function(he){return he.isBlank?this.blankRule:(B=we(this.array,he,this.options))||(B=we(this._keep,he,this.options))||(B=we(this._remove,he,this.options))?B:this.defaultRule;var B},forEach:function(he){for(var B=0;B<this.array.length;B++)he(this.array[B],B)}};var Ve=typeof window<"u"?window:{},ut,St=function(){var he=Ve.DOMParser,B=!1;try{new he().parseFromString("","text/html")&&(B=!0)}catch{}return B}()?Ve.DOMParser:function(){var he=function(){},B=ae(915).JSDOM;return he.prototype.parseFromString=function(ee){return new B(ee).window.document},he}();function Lt(he){var B;return typeof he=="string"?B=(ut=ut||new St).parseFromString('<x-turndown id="turndown-root">'+he+"</x-turndown>","text/html").getElementById("turndown-root"):B=he.cloneNode(!0),function(ee){var se=ee.element,Pe=ee.isBlock,Ct=ee.isVoid,Ht=ee.isPre||function(Yi){return Yi.nodeName==="PRE"};if(se.firstChild&&!Ht(se)){for(var wt=null,zt=!1,fi=null,gi=Fe(fi,se,Ht);gi!==se;){if(gi.nodeType===3||gi.nodeType===4){var Oi=gi.data.replace(/[ \r\n\t]+/g," ");if(wt&&!/ $/.test(wt.data)||zt||Oi[0]!==" "||(Oi=Oi.substr(1)),!Oi){gi=Ge(gi);continue}gi.data=Oi,wt=gi}else{if(gi.nodeType!==1){gi=Ge(gi);continue}Pe(gi)||gi.nodeName==="BR"?(wt&&(wt.data=wt.data.replace(/ $/,"")),wt=null,zt=!1):Ct(gi)&&(wt=null,zt=!0)}var Ti=Fe(fi,gi,Ht);fi=gi,gi=Ti}wt&&(wt.data=wt.data.replace(/ $/,""),wt.data||Ge(wt))}}({element:B,isBlock:Ze,isVoid:qe}),B}function Qt(he){return he.isBlock=Ze(he),he.isCode=he.nodeName.toLowerCase()==="code"||he.parentNode.isCode,he.isBlank=function(B){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(B.nodeName)===-1&&/^\s*$/i.test(B.textContent)&&!qe(B)&&!function(ee){return ee.querySelector&&ee.querySelector(et)}(B)}(he),he.flankingWhitespace=function(B){var ee="",se="";if(!B.isBlock){var Pe=/^\s/.test(B.textContent),Ct=/\s$/.test(B.textContent),Ht=B.isBlank&&Pe&&Ct;Pe&&!yt("left",B)&&(ee=" "),Ht||!Ct||yt("right",B)||(se=" ")}return{leading:ee,trailing:se}}(he),he}function yt(he,B){var ee,se,Pe;return he==="left"?(ee=B.previousSibling,se=/ $/):(ee=B.nextSibling,se=/^ /),ee&&(ee.nodeType===3?Pe=se.test(ee.nodeValue):ee.nodeType!==1||Ze(ee)||(Pe=se.test(ee.textContent))),Pe}var Tt=Array.prototype.reduce,mi=/^\n*/,pi=/\n*$/,Li=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Ei(he){if(!(this instanceof Ei))return new Ei(he);var B={rules:Q,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(ee,se){return se.isBlock?`

`:""},keepReplacement:function(ee,se){return se.isBlock?`

`+se.outerHTML+`

`:se.outerHTML},defaultReplacement:function(ee,se){return se.isBlock?`

`+ee+`

`:ee}};this.options=function(ee){for(var se=1;se<arguments.length;se++){var Pe=arguments[se];for(var Ct in Pe)Pe.hasOwnProperty(Ct)&&(ee[Ct]=Pe[Ct])}return ee}({},B,he),this.rules=new de(this.options)}function Ni(he){var B=this;return Tt.call(he.childNodes,function(ee,se){var Pe="";return(se=new Qt(se)).nodeType===3?Pe=se.isCode?se.nodeValue:B.escape(se.nodeValue):se.nodeType===1&&(Pe=Bi.call(B,se)),nt(ee,Pe)},"")}function xi(he){var B=this;return this.rules.forEach(function(ee){typeof ee.append=="function"&&(he=nt(he,ee.append(B.options)))}),he.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Bi(he){var B=this.rules.forNode(he),ee=Ni.call(this,he),se=he.flankingWhitespace;return(se.leading||se.trailing)&&(ee=ee.trim()),se.leading+B.replacement(ee,he,this.options)+se.trailing}function nt(he,B){var ee,se,Pe,Ct=(ee=B,se=[he.match(pi)[0],ee.match(mi)[0]].sort(),(Pe=se[se.length-1]).length<2?Pe:`

`);return(he=he.replace(pi,""))+Ct+(B=B.replace(mi,""))}Ei.prototype={turndown:function(he){if(!function(ee){return ee!=null&&(typeof ee=="string"||ee.nodeType&&(ee.nodeType===1||ee.nodeType===9||ee.nodeType===11))}(he))throw new TypeError(he+" is not a string, or an element/document/fragment node.");if(he==="")return"";var B=Ni.call(this,new Lt(he));return xi.call(this,B)},use:function(he){if(Array.isArray(he))for(var B=0;B<he.length;B++)this.use(he[B]);else{if(typeof he!="function")throw new TypeError("plugin must be a Function or an Array of Functions");he(this)}return this},addRule:function(he,B){return this.rules.add(he,B),this},keep:function(he){return this.rules.keep(he),this},remove:function(he){return this.rules.remove(he),this},escape:function(he){return Li.reduce(function(B,ee){return B.replace(ee[0],ee[1])},he)}};const ue=Ei;var _e=/highlight-(?:text|source)-([a-z0-9]+)/;function Ie(he){he.addRule("highlightedCodeBlock",{filter:function(B){var ee=B.firstChild;return B.nodeName==="DIV"&&_e.test(B.className)&&ee&&ee.nodeName==="PRE"},replacement:function(B,ee,se){var Pe=((ee.className||"").match(_e)||[null,""])[1];return`

`+se.fence+Pe+`
`+ee.firstChild.textContent+`
`+se.fence+`

`}})}function We(he){he.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(B){return"~"+B+"~"}})}var tt=Array.prototype.indexOf,bt=Array.prototype.every,At={};function xt(he){var B,ee,se=he.parentNode;return se.nodeName==="THEAD"||se.firstChild===he&&(se.nodeName==="TABLE"||(ee=(B=se).previousSibling,B.nodeName==="TBODY"&&(!ee||ee.nodeName==="THEAD"&&/^\s*$/i.test(ee.textContent))))&&bt.call(he.childNodes,function(Pe){return Pe.nodeName==="TH"})}function Kt(he,B){var ee=" ";return tt.call(B.parentNode.childNodes,B)===0&&(ee="| "),ee+he+" |"}function ni(he){for(var B in he.keep(function(ee){return ee.nodeName==="TABLE"&&!xt(ee.rows[0])}),At)he.addRule(B,At[B])}function ei(he){he.addRule("taskListItems",{filter:function(B){return B.type==="checkbox"&&B.parentNode.nodeName==="LI"},replacement:function(B,ee){return(ee.checked?"[x]":"[ ]")+" "}})}At.tableCell={filter:["th","td"],replacement:function(he,B){return Kt(he,B)}},At.tableRow={filter:"tr",replacement:function(he,B){var ee="",se={left:":--",right:"--:",center:":-:"};if(xt(B))for(var Pe=0;Pe<B.childNodes.length;Pe++){var Ct="---",Ht=(B.childNodes[Pe].getAttribute("align")||"").toLowerCase();Ht&&(Ct=se[Ht]||Ct),ee+=Kt(Ct,B.childNodes[Pe])}return`
`+he+(ee?`
`+ee:"")}},At.table={filter:function(he){return he.nodeName==="TABLE"&&xt(he.rows[0])},replacement:function(he){return`

`+(he=he.replace(`

`,`
`))+`

`}},At.tableSection={filter:["thead","tbody","tfoot"],replacement:function(he){return he}};const li=ue.prototype.escape;function Ci(he){return he=(he=li(he)).replace(/</g,"\\<")}ue.prototype.escape=function(he){let B="",ee=0;for(const se of function*(Pe){for(const Ct of Pe.matchAll(Ri)){const Ht=Ct[0],wt=qi(Ht);yield Object.assign([Ht.substring(0,wt)],{index:Ct.index})}}(he)){const Pe=se.index;Pe>ee&&(B+=Ci(he.substring(ee,Pe)));const Ct=se[0];B+=Ct,ee=Pe+Ct.length}return ee<he.length&&(B+=Ci(he.substring(ee,he.length))),B};const yi=new ue({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});yi.use([function(he){he.use([Ie,We,ni,ei])},function(he){he.addRule("taskListItems",{filter:B=>B.type==="checkbox"&&(B.parentNode.nodeName==="LI"||B.parentNode.parentNode.nodeName==="LI"),replacement:(B,ee)=>(ee.checked?"[x]":"[ ]")+" "})}]);const Ri=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function qi(he){let B=he.length;for(;B>0;){const ee=he[B-1];if(`?!.,:*_~'"`.includes(ee))B--;else{if(ee!=")")break;{let se=0;for(let Pe=0;Pe<B;Pe++)he[Pe]=="("?se++:he[Pe]==")"&&se--;if(!(se<0))break;B--}}}return B}class Ui{constructor(B){this._htmlDP=new j.HtmlDataProcessor(B)}keepHtml(B){yi.keep([B])}toView(B){const ee=(se=B,st.parse(se,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var se;return this._htmlDP.toView(ee)}toData(B){return function(ee){return yi.turndown(ee)}(this._htmlDP.toData(B))}registerRawContentMatcher(B){this._htmlDP.registerRawContentMatcher(B)}useFillerType(){}}class ji extends p.Plugin{constructor(B){super(B),B.data.processor=new Ui(B.data.viewDocument)}static get pluginName(){return"Markdown"}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=Yt})()},54132:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Remove Format":"Remove Format"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{RemoveFormat:()=>L,RemoveFormatEditing:()=>c,RemoveFormatUI:()=>v});var p=ae(704),j=ae(273);const I="removeFormat";class v extends p.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const y=this.editor,h=y.t;y.ui.componentFactory.add(I,V=>{const $=y.commands.get(I),J=new j.ButtonView(V);return J.set({label:h("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),J.bind("isOn","isEnabled").to($,"value","isEnabled"),this.listenTo(J,"execute",()=>{y.execute(I),y.editing.view.focus()}),J})}}var A=ae(209);class l extends p.Command{refresh(){const y=this.editor.model;this.isEnabled=!!(0,A.first)(this._getFormattingItems(y.document.selection,y.schema))}execute(){const y=this.editor.model,h=y.schema;y.change(V=>{for(const $ of this._getFormattingItems(y.document.selection,h))if($.is("selection"))for(const J of this._getFormattingAttributes($,h))V.removeSelectionAttribute(J);else{const J=V.createRangeOn($);for(const Y of this._getFormattingAttributes($,h))V.removeAttribute(Y,J)}})}*_getFormattingItems(y,h){const V=$=>!!(0,A.first)(this._getFormattingAttributes($,h));for(const $ of y.getRanges())for(const J of $.getItems())!h.isBlock(J)&&V(J)&&(yield J);for(const $ of y.getSelectedBlocks())V($)&&(yield $);V(y)&&(yield y)}*_getFormattingAttributes(y,h){for(const[V]of y.getAttributes()){const $=h.getAttributeProperties(V);$&&$.isFormatting&&(yield V)}}}class c extends p.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const y=this.editor;y.commands.add("removeFormat",new l(y))}}class L extends p.Plugin{static get requires(){return[c,v]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=Yt})()},51207:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={298:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const l=A},507:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const l=A},911:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{SpecialCharacters:()=>b,SpecialCharactersArrows:()=>_,SpecialCharactersCurrency:()=>S,SpecialCharactersEssentials:()=>ne,SpecialCharactersLatin:()=>C,SpecialCharactersMathematical:()=>E,SpecialCharactersText:()=>w});var p=ae(704),j=ae(181),I=ae(273),v=ae(209);class A extends I.FormHeaderView{constructor(D,f){super(D);const R=D.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(f),this.groupDropdownView.panelPosition=D.uiLanguageDirection==="rtl"?"se":"sw",this.label=R("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(D){const f=this.locale,R=f.t,W=(0,I.createDropdown)(f),N=this._getCharacterGroupListItemDefinitions(W,D),oe=R("Character categories");return W.set("value",N.first.model.name),W.buttonView.bind("label").to(W,"value",Te=>D.get(Te)),W.buttonView.set({isOn:!1,withText:!0,tooltip:oe,class:["ck-dropdown__button_label-width_auto"],ariaLabel:oe,ariaLabelledBy:void 0}),W.on("execute",Te=>{W.value=Te.source.name}),W.delegate("execute").to(this),(0,I.addListToDropdown)(W,N,{ariaLabel:oe,role:"menu"}),W}_getCharacterGroupListItemDefinitions(D,f){const R=new v.Collection;for(const[W,N]of f){const oe=new I.Model({name:W,label:N,withText:!0,role:"menuitemradio"});oe.bind("isOn").to(D,"value",Te=>Te===oe.name),R.add({type:"button",model:oe})}return R}}var l=ae(62),c=ae.n(l),L=ae(298),z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(L.Z,z),L.Z.locals;class y extends I.View{constructor(D){super(D),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new v.FocusTracker,this.keystrokes=new v.KeystrokeHandler,(0,I.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>v.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(D,f){const R=new I.ButtonView(this.locale);return R.set({label:D,withText:!0,class:"ck-character-grid__tile"}),R.extendTemplate({attributes:{title:f},on:{mouseover:R.bindTemplate.to("mouseover"),focus:R.bindTemplate.to("focus")}}),R.on("mouseover",()=>{this.fire("tileHover",{name:f,character:D})}),R.on("focus",()=>{this.fire("tileFocus",{name:f,character:D})}),R.on("execute",()=>{this.fire("execute",{name:f,character:D})}),R}render(){super.render();for(const D of this.tiles)this.focusTracker.add(D.element);this.tiles.on("change",(D,{added:f,removed:R})=>{if(f.length>0)for(const W of f)this.focusTracker.add(W.element);if(R.length>0)for(const W of R)this.focusTracker.remove(W.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var h=ae(507),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(h.Z,V),h.Z.locals;class $ extends I.View{constructor(D){super(D);const f=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",J),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:f.to("name",R=>R||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:f.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function J(U){return U===null?"":"U+"+("0000"+U.codePointAt(0).toString(16)).slice(-4)}class Y extends I.View{constructor(D,f,R,W){super(D),this.navigationView=f,this.gridView=R,this.infoView=W,this.items=this.createCollection(),this.focusTracker=new v.FocusTracker,this.keystrokes=new v.KeystrokeHandler,this._focusCycler=new I.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var le=ae(911),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(le.Z,q),le.Z.locals;const d="All";class b extends p.Plugin{static get requires(){return[j.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(D){super(D);const f=D.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=f("All")}init(){const D=this.editor,f=D.t,R=D.commands.get("insertText");D.ui.componentFactory.add("specialCharacters",W=>{const N=(0,I.createDropdown)(W);let oe;return N.buttonView.set({label:f("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),N.bind("isEnabled").to(R),N.on("execute",(Te,Oe)=>{D.execute("insertText",{text:Oe.character}),D.editing.view.focus()}),N.on("change:isOpen",()=>{if(!oe){oe=this._createDropdownPanelContent(W,N);const Te=new Y(W,oe.navigationView,oe.gridView,oe.infoView);N.panelView.children.add(Te)}oe.infoView.set({character:null,name:null})}),N})}addItems(D,f,R={label:D}){if(D===d)throw new v.CKEditorError("special-character-invalid-group-name",null);const W=this._getGroup(D,R.label);for(const N of f)W.items.add(N.title),this._characters.set(N.title,N.character)}getGroups(){const D=Array.from(this._groups.keys()),f=this.editor.config.get("specialCharacters.order")||[],R=f.find(W=>!D.includes(W));if(R)throw new v.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:R});return new Set([...f,...D])}getCharactersForGroup(D){if(D===d)return new Set(this._characters.keys());const f=this._groups.get(D);return f?f.items:void 0}getCharacter(D){return this._characters.get(D)}_getGroup(D,f){return this._groups.has(D)||this._groups.set(D,{items:new Set,label:f}),this._groups.get(D)}_updateGrid(D,f){f.tiles.clear();const R=this.getCharactersForGroup(D);for(const W of R){const N=this.getCharacter(W);f.tiles.add(f.createTile(N,W))}}_createDropdownPanelContent(D,f){const R=Array.from(this.getGroups()).map(Oe=>[Oe,this._groups.get(Oe).label]),W=new Map([[d,this._allSpecialCharactersGroupLabel],...R]),N=new A(D,W),oe=new y(D),Te=new $(D);return oe.delegate("execute").to(f),oe.on("tileHover",(Oe,xe)=>{Te.set(xe)}),oe.on("tileFocus",(Oe,xe)=>{Te.set(xe)}),N.on("execute",()=>{this._updateGrid(N.currentGroupName,oe)}),this._updateGrid(N.currentGroupName,oe),{navigationView:N,gridView:oe,infoView:Te}}}class _ extends p.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const D=this.editor,f=D.t;D.plugins.get("SpecialCharacters").addItems("Arrows",[{title:f("leftwards simple arrow"),character:"\u2190"},{title:f("rightwards simple arrow"),character:"\u2192"},{title:f("upwards simple arrow"),character:"\u2191"},{title:f("downwards simple arrow"),character:"\u2193"},{title:f("leftwards double arrow"),character:"\u21D0"},{title:f("rightwards double arrow"),character:"\u21D2"},{title:f("upwards double arrow"),character:"\u21D1"},{title:f("downwards double arrow"),character:"\u21D3"},{title:f("leftwards dashed arrow"),character:"\u21E0"},{title:f("rightwards dashed arrow"),character:"\u21E2"},{title:f("upwards dashed arrow"),character:"\u21E1"},{title:f("downwards dashed arrow"),character:"\u21E3"},{title:f("leftwards arrow to bar"),character:"\u21E4"},{title:f("rightwards arrow to bar"),character:"\u21E5"},{title:f("upwards arrow to bar"),character:"\u2912"},{title:f("downwards arrow to bar"),character:"\u2913"},{title:f("up down arrow with base"),character:"\u21A8"},{title:f("back with leftwards arrow above"),character:"\u{1F519}"},{title:f("end with leftwards arrow above"),character:"\u{1F51A}"},{title:f("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:f("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:f("top with upwards arrow above"),character:"\u{1F51D}"}],{label:f("Arrows")})}}class w extends p.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const D=this.editor,f=D.t;D.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:f("Single left-pointing angle quotation mark")},{character:"\u203A",title:f("Single right-pointing angle quotation mark")},{character:"\xAB",title:f("Left-pointing double angle quotation mark")},{character:"\xBB",title:f("Right-pointing double angle quotation mark")},{character:"\u2018",title:f("Left single quotation mark")},{character:"\u2019",title:f("Right single quotation mark")},{character:"\u201C",title:f("Left double quotation mark")},{character:"\u201D",title:f("Right double quotation mark")},{character:"\u201A",title:f("Single low-9 quotation mark")},{character:"\u201E",title:f("Double low-9 quotation mark")},{character:"\xA1",title:f("Inverted exclamation mark")},{character:"\xBF",title:f("Inverted question mark")},{character:"\u2025",title:f("Two dot leader")},{character:"\u2026",title:f("Horizontal ellipsis")},{character:"\u2021",title:f("Double dagger")},{character:"\u2030",title:f("Per mille sign")},{character:"\u2031",title:f("Per ten thousand sign")},{character:"\u203C",title:f("Double exclamation mark")},{character:"\u2048",title:f("Question exclamation mark")},{character:"\u2049",title:f("Exclamation question mark")},{character:"\u2047",title:f("Double question mark")},{character:"\xA9",title:f("Copyright sign")},{character:"\xAE",title:f("Registered sign")},{character:"\u2122",title:f("Trade mark sign")},{character:"\xA7",title:f("Section sign")},{character:"\xB6",title:f("Paragraph sign")},{character:"\u204B",title:f("Reversed paragraph sign")}],{label:f("Text")})}}class E extends p.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const D=this.editor,f=D.t;D.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:f("Less-than sign")},{character:">",title:f("Greater-than sign")},{character:"\u2264",title:f("Less-than or equal to")},{character:"\u2265",title:f("Greater-than or equal to")},{character:"\u2013",title:f("En dash")},{character:"\u2014",title:f("Em dash")},{character:"\xAF",title:f("Macron")},{character:"\u203E",title:f("Overline")},{character:"\xB0",title:f("Degree sign")},{character:"\u2212",title:f("Minus sign")},{character:"\xB1",title:f("Plus-minus sign")},{character:"\xF7",title:f("Division sign")},{character:"\u2044",title:f("Fraction slash")},{character:"\xD7",title:f("Multiplication sign")},{character:"\u0192",title:f("Latin small letter f with hook")},{character:"\u222B",title:f("Integral")},{character:"\u2211",title:f("N-ary summation")},{character:"\u221E",title:f("Infinity")},{character:"\u221A",title:f("Square root")},{character:"\u223C",title:f("Tilde operator")},{character:"\u2245",title:f("Approximately equal to")},{character:"\u2248",title:f("Almost equal to")},{character:"\u2260",title:f("Not equal to")},{character:"\u2261",title:f("Identical to")},{character:"\u2208",title:f("Element of")},{character:"\u2209",title:f("Not an element of")},{character:"\u220B",title:f("Contains as member")},{character:"\u220F",title:f("N-ary product")},{character:"\u2227",title:f("Logical and")},{character:"\u2228",title:f("Logical or")},{character:"\xAC",title:f("Not sign")},{character:"\u2229",title:f("Intersection")},{character:"\u222A",title:f("Union")},{character:"\u2202",title:f("Partial differential")},{character:"\u2200",title:f("For all")},{character:"\u2203",title:f("There exists")},{character:"\u2205",title:f("Empty set")},{character:"\u2207",title:f("Nabla")},{character:"\u2217",title:f("Asterisk operator")},{character:"\u221D",title:f("Proportional to")},{character:"\u2220",title:f("Angle")},{character:"\xBC",title:f("Vulgar fraction one quarter")},{character:"\xBD",title:f("Vulgar fraction one half")},{character:"\xBE",title:f("Vulgar fraction three quarters")}],{label:f("Mathematical")})}}class C extends p.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const D=this.editor,f=D.t;D.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:f("Latin capital letter a with macron")},{character:"\u0101",title:f("Latin small letter a with macron")},{character:"\u0102",title:f("Latin capital letter a with breve")},{character:"\u0103",title:f("Latin small letter a with breve")},{character:"\u0104",title:f("Latin capital letter a with ogonek")},{character:"\u0105",title:f("Latin small letter a with ogonek")},{character:"\u0106",title:f("Latin capital letter c with acute")},{character:"\u0107",title:f("Latin small letter c with acute")},{character:"\u0108",title:f("Latin capital letter c with circumflex")},{character:"\u0109",title:f("Latin small letter c with circumflex")},{character:"\u010A",title:f("Latin capital letter c with dot above")},{character:"\u010B",title:f("Latin small letter c with dot above")},{character:"\u010C",title:f("Latin capital letter c with caron")},{character:"\u010D",title:f("Latin small letter c with caron")},{character:"\u010E",title:f("Latin capital letter d with caron")},{character:"\u010F",title:f("Latin small letter d with caron")},{character:"\u0110",title:f("Latin capital letter d with stroke")},{character:"\u0111",title:f("Latin small letter d with stroke")},{character:"\u0112",title:f("Latin capital letter e with macron")},{character:"\u0113",title:f("Latin small letter e with macron")},{character:"\u0114",title:f("Latin capital letter e with breve")},{character:"\u0115",title:f("Latin small letter e with breve")},{character:"\u0116",title:f("Latin capital letter e with dot above")},{character:"\u0117",title:f("Latin small letter e with dot above")},{character:"\u0118",title:f("Latin capital letter e with ogonek")},{character:"\u0119",title:f("Latin small letter e with ogonek")},{character:"\u011A",title:f("Latin capital letter e with caron")},{character:"\u011B",title:f("Latin small letter e with caron")},{character:"\u011C",title:f("Latin capital letter g with circumflex")},{character:"\u011D",title:f("Latin small letter g with circumflex")},{character:"\u011E",title:f("Latin capital letter g with breve")},{character:"\u011F",title:f("Latin small letter g with breve")},{character:"\u0120",title:f("Latin capital letter g with dot above")},{character:"\u0121",title:f("Latin small letter g with dot above")},{character:"\u0122",title:f("Latin capital letter g with cedilla")},{character:"\u0123",title:f("Latin small letter g with cedilla")},{character:"\u0124",title:f("Latin capital letter h with circumflex")},{character:"\u0125",title:f("Latin small letter h with circumflex")},{character:"\u0126",title:f("Latin capital letter h with stroke")},{character:"\u0127",title:f("Latin small letter h with stroke")},{character:"\u0128",title:f("Latin capital letter i with tilde")},{character:"\u0129",title:f("Latin small letter i with tilde")},{character:"\u012A",title:f("Latin capital letter i with macron")},{character:"\u012B",title:f("Latin small letter i with macron")},{character:"\u012C",title:f("Latin capital letter i with breve")},{character:"\u012D",title:f("Latin small letter i with breve")},{character:"\u012E",title:f("Latin capital letter i with ogonek")},{character:"\u012F",title:f("Latin small letter i with ogonek")},{character:"\u0130",title:f("Latin capital letter i with dot above")},{character:"\u0131",title:f("Latin small letter dotless i")},{character:"\u0132",title:f("Latin capital ligature ij")},{character:"\u0133",title:f("Latin small ligature ij")},{character:"\u0134",title:f("Latin capital letter j with circumflex")},{character:"\u0135",title:f("Latin small letter j with circumflex")},{character:"\u0136",title:f("Latin capital letter k with cedilla")},{character:"\u0137",title:f("Latin small letter k with cedilla")},{character:"\u0138",title:f("Latin small letter kra")},{character:"\u0139",title:f("Latin capital letter l with acute")},{character:"\u013A",title:f("Latin small letter l with acute")},{character:"\u013B",title:f("Latin capital letter l with cedilla")},{character:"\u013C",title:f("Latin small letter l with cedilla")},{character:"\u013D",title:f("Latin capital letter l with caron")},{character:"\u013E",title:f("Latin small letter l with caron")},{character:"\u013F",title:f("Latin capital letter l with middle dot")},{character:"\u0140",title:f("Latin small letter l with middle dot")},{character:"\u0141",title:f("Latin capital letter l with stroke")},{character:"\u0142",title:f("Latin small letter l with stroke")},{character:"\u0143",title:f("Latin capital letter n with acute")},{character:"\u0144",title:f("Latin small letter n with acute")},{character:"\u0145",title:f("Latin capital letter n with cedilla")},{character:"\u0146",title:f("Latin small letter n with cedilla")},{character:"\u0147",title:f("Latin capital letter n with caron")},{character:"\u0148",title:f("Latin small letter n with caron")},{character:"\u0149",title:f("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:f("Latin capital letter eng")},{character:"\u014B",title:f("Latin small letter eng")},{character:"\u014C",title:f("Latin capital letter o with macron")},{character:"\u014D",title:f("Latin small letter o with macron")},{character:"\u014E",title:f("Latin capital letter o with breve")},{character:"\u014F",title:f("Latin small letter o with breve")},{character:"\u0150",title:f("Latin capital letter o with double acute")},{character:"\u0151",title:f("Latin small letter o with double acute")},{character:"\u0152",title:f("Latin capital ligature oe")},{character:"\u0153",title:f("Latin small ligature oe")},{character:"\u0154",title:f("Latin capital letter r with acute")},{character:"\u0155",title:f("Latin small letter r with acute")},{character:"\u0156",title:f("Latin capital letter r with cedilla")},{character:"\u0157",title:f("Latin small letter r with cedilla")},{character:"\u0158",title:f("Latin capital letter r with caron")},{character:"\u0159",title:f("Latin small letter r with caron")},{character:"\u015A",title:f("Latin capital letter s with acute")},{character:"\u015B",title:f("Latin small letter s with acute")},{character:"\u015C",title:f("Latin capital letter s with circumflex")},{character:"\u015D",title:f("Latin small letter s with circumflex")},{character:"\u015E",title:f("Latin capital letter s with cedilla")},{character:"\u015F",title:f("Latin small letter s with cedilla")},{character:"\u0160",title:f("Latin capital letter s with caron")},{character:"\u0161",title:f("Latin small letter s with caron")},{character:"\u0162",title:f("Latin capital letter t with cedilla")},{character:"\u0163",title:f("Latin small letter t with cedilla")},{character:"\u0164",title:f("Latin capital letter t with caron")},{character:"\u0165",title:f("Latin small letter t with caron")},{character:"\u0166",title:f("Latin capital letter t with stroke")},{character:"\u0167",title:f("Latin small letter t with stroke")},{character:"\u0168",title:f("Latin capital letter u with tilde")},{character:"\u0169",title:f("Latin small letter u with tilde")},{character:"\u016A",title:f("Latin capital letter u with macron")},{character:"\u016B",title:f("Latin small letter u with macron")},{character:"\u016C",title:f("Latin capital letter u with breve")},{character:"\u016D",title:f("Latin small letter u with breve")},{character:"\u016E",title:f("Latin capital letter u with ring above")},{character:"\u016F",title:f("Latin small letter u with ring above")},{character:"\u0170",title:f("Latin capital letter u with double acute")},{character:"\u0171",title:f("Latin small letter u with double acute")},{character:"\u0172",title:f("Latin capital letter u with ogonek")},{character:"\u0173",title:f("Latin small letter u with ogonek")},{character:"\u0174",title:f("Latin capital letter w with circumflex")},{character:"\u0175",title:f("Latin small letter w with circumflex")},{character:"\u0176",title:f("Latin capital letter y with circumflex")},{character:"\u0177",title:f("Latin small letter y with circumflex")},{character:"\u0178",title:f("Latin capital letter y with diaeresis")},{character:"\u0179",title:f("Latin capital letter z with acute")},{character:"\u017A",title:f("Latin small letter z with acute")},{character:"\u017B",title:f("Latin capital letter z with dot above")},{character:"\u017C",title:f("Latin small letter z with dot above")},{character:"\u017D",title:f("Latin capital letter z with caron")},{character:"\u017E",title:f("Latin small letter z with caron")},{character:"\u017F",title:f("Latin small letter long s")}],{label:f("Latin")})}}class S extends p.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const D=this.editor,f=D.t;D.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:f("Dollar sign")},{character:"\u20AC",title:f("Euro sign")},{character:"\xA5",title:f("Yen sign")},{character:"\xA3",title:f("Pound sign")},{character:"\xA2",title:f("Cent sign")},{character:"\u20A0",title:f("Euro-currency sign")},{character:"\u20A1",title:f("Colon sign")},{character:"\u20A2",title:f("Cruzeiro sign")},{character:"\u20A3",title:f("French franc sign")},{character:"\u20A4",title:f("Lira sign")},{character:"\xA4",title:f("Currency sign")},{character:"\u20BF",title:f("Bitcoin sign")},{character:"\u20A5",title:f("Mill sign")},{character:"\u20A6",title:f("Naira sign")},{character:"\u20A7",title:f("Peseta sign")},{character:"\u20A8",title:f("Rupee sign")},{character:"\u20A9",title:f("Won sign")},{character:"\u20AA",title:f("New sheqel sign")},{character:"\u20AB",title:f("Dong sign")},{character:"\u20AD",title:f("Kip sign")},{character:"\u20AE",title:f("Tugrik sign")},{character:"\u20AF",title:f("Drachma sign")},{character:"\u20B0",title:f("German penny sign")},{character:"\u20B1",title:f("Peso sign")},{character:"\u20B2",title:f("Guarani sign")},{character:"\u20B3",title:f("Austral sign")},{character:"\u20B4",title:f("Hryvnia sign")},{character:"\u20B5",title:f("Cedi sign")},{character:"\u20B6",title:f("Livre tournois sign")},{character:"\u20B7",title:f("Spesmilo sign")},{character:"\u20B8",title:f("Tenge sign")},{character:"\u20B9",title:f("Indian rupee sign")},{character:"\u20BA",title:f("Turkish lira sign")},{character:"\u20BB",title:f("Nordic mark sign")},{character:"\u20BC",title:f("Manat sign")},{character:"\u20BD",title:f("Ruble sign")}],{label:f("Currency")})}}class ne extends p.Plugin{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[S,w,E,_,C]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=Yt})()},6653:(Jt,Zt,ae)=>{(function(Yt){const p=Yt.en=Yt.en||{};p.dictionary=Object.assign(p.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Yt={704:(v,A,l)=>{v.exports=l(79)("./src/core.js")},273:(v,A,l)=>{v.exports=l(79)("./src/ui.js")},209:(v,A,l)=>{v.exports=l(79)("./src/utils.js")},79:v=>{"use strict";v.exports=CKEditor5.dll}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={exports:{}};return Yt[v](l,l.exports,j),l.exports}j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var I={};(()=>{"use strict";j.r(I),j.d(I,{WordCount:()=>et});var v=j(704),A=j(273),l=j(209);function c(Q){if(Q.is("$text")||Q.is("$textProxy"))return Q.data;const de=Q;let we="",Be=null;for(const Ge of de.getChildren()){const Fe=c(Ge);Be&&Be.is("element")&&(we+=`
`),we+=Fe,Be=Ge}return we}const L=function(Q){var de=typeof Q;return Q!=null&&(de=="object"||de=="function")},z=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var y=typeof self=="object"&&self&&self.Object===Object&&self;const h=z||y||Function("return this")(),V=function(){return h.Date.now()};var $=/\s/;const J=function(Q){for(var de=Q.length;de--&&$.test(Q.charAt(de)););return de};var Y=/^\s+/;const le=function(Q){return Q&&Q.slice(0,J(Q)+1).replace(Y,"")},q=h.Symbol;var d=Object.prototype,b=d.hasOwnProperty,_=d.toString,w=q?q.toStringTag:void 0;const E=function(Q){var de=b.call(Q,w),we=Q[w];try{Q[w]=void 0;var Be=!0}catch{}var Ge=_.call(Q);return Be&&(de?Q[w]=we:delete Q[w]),Ge};var C=Object.prototype.toString;const S=function(Q){return C.call(Q)};var ne=q?q.toStringTag:void 0;const U=function(Q){return Q==null?Q===void 0?"[object Undefined]":"[object Null]":ne&&ne in Object(Q)?E(Q):S(Q)},D=function(Q){return Q!=null&&typeof Q=="object"},f=function(Q){return typeof Q=="symbol"||D(Q)&&U(Q)=="[object Symbol]"};var R=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,N=/^0o[0-7]+$/i,oe=parseInt;const Te=function(Q){if(typeof Q=="number")return Q;if(f(Q))return NaN;if(L(Q)){var de=typeof Q.valueOf=="function"?Q.valueOf():Q;Q=L(de)?de+"":de}if(typeof Q!="string")return Q===0?Q:+Q;Q=le(Q);var we=W.test(Q);return we||N.test(Q)?oe(Q.slice(2),we?2:8):R.test(Q)?NaN:+Q};var Oe=Math.max,xe=Math.min;const Re=function(Q,de,we){var Be,Ge,Fe,Ve,ut,St,Lt=0,Qt=!1,yt=!1,Tt=!0;if(typeof Q!="function")throw new TypeError("Expected a function");function mi(xi){var Bi=Be,nt=Ge;return Be=Ge=void 0,Lt=xi,Ve=Q.apply(nt,Bi)}function pi(xi){var Bi=xi-St;return St===void 0||Bi>=de||Bi<0||yt&&xi-Lt>=Fe}function Li(){var xi=V();if(pi(xi))return Ei(xi);ut=setTimeout(Li,function(Bi){var nt=de-(Bi-St);return yt?xe(nt,Fe-(Bi-Lt)):nt}(xi))}function Ei(xi){return ut=void 0,Tt&&Be?mi(xi):(Be=Ge=void 0,Ve)}function Ni(){var xi=V(),Bi=pi(xi);if(Be=arguments,Ge=this,St=xi,Bi){if(ut===void 0)return function(nt){return Lt=nt,ut=setTimeout(Li,de),Qt?mi(nt):Ve}(St);if(yt)return clearTimeout(ut),ut=setTimeout(Li,de),mi(St)}return ut===void 0&&(ut=setTimeout(Li,de)),Ve}return de=Te(de)||0,L(we)&&(Qt=!!we.leading,Fe=(yt="maxWait"in we)?Oe(Te(we.maxWait)||0,de):Fe,Tt="trailing"in we?!!we.trailing:Tt),Ni.cancel=function(){ut!==void 0&&clearTimeout(ut),Lt=0,Be=St=Ge=ut=void 0},Ni.flush=function(){return ut===void 0?Ve:Ei(V())},Ni},lt=function(Q,de,we){var Be=!0,Ge=!0;if(typeof Q!="function")throw new TypeError("Expected a function");return L(we)&&(Be="leading"in we?!!we.leading:Be,Ge="trailing"in we?!!we.trailing:Ge),Re(Q,de,{leading:Be,maxWait:de,trailing:Ge})},rt=function(Q,de){return function(we){return Q(de(we))}}(Object.getPrototypeOf,Object);var ct=Function.prototype,st=Object.prototype,kt=ct.toString,pt=st.hasOwnProperty,Ze=kt.call(Object);const mt=function(Q){if(!D(Q)||U(Q)!="[object Object]")return!1;var de=rt(Q);if(de===null)return!0;var we=pt.call(de,"constructor")&&de.constructor;return typeof we=="function"&&we instanceof we&&kt.call(we)==Ze},qe=function(Q){return D(Q)&&Q.nodeType===1&&!mt(Q)};class et extends v.Plugin{constructor(de){super(de),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=de.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=l.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",lt(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(de,we)=>{this._config.onUpdate(we)}),qe(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const de=this.editor,we=de.t,Be=de.config.get("wordCount.displayWords"),Ge=de.config.get("wordCount.displayCharacters"),Fe=A.Template.bind(this,this),Ve=[];return this._outputView||(this._outputView=new A.View,(Be||Be===void 0)&&(this.bind("_wordsLabel").to(this,"words",ut=>we("Words: %0",ut)),Ve.push({tag:"div",children:[{text:[Fe.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(Ge||Ge===void 0)&&(this.bind("_charactersLabel").to(this,"characters",ut=>we("Characters: %0",ut)),Ve.push({tag:"div",children:[{text:[Fe.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:Ve}),this._outputView.render()),this._outputView.element}_getText(){let de="";for(const we of this.editor.model.document.getRoots())de!==""&&(de+=`
`),de+=c(we);return de}_getCharacters(de){return de.replace(/\n/g,"").length}_getWords(de){return(de.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const de=this._getText(),we=this.words=this._getWords(de),Be=this.characters=this._getCharacters(de);this.fire("update",{words:we,characters:Be})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=I})()},47655:()=>{(()=>{var Jt={98:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(645),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const l=A},645:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},379:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{MaximumLength:()=>l});var p=ae(704),j=ae(379),I=ae.n(j),v=ae(98),A={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};I()(v.Z,A),v.Z.locals;class l extends p.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const L=this.editor,z=L.plugins.get("WordCount"),y=L.config.get("maximumLength.characters");let h=!1;L.model.document.registerPostFixer(V=>{const $=z.characters,J=this._calculateExcessRange(y,$);J?h?V.updateMarker("maximumLengthExcess",{range:J,usingOperation:!1}):(V.addMarker("maximumLengthExcess",{range:J,usingOperation:!1}),h=!0):h&&(V.removeMarker("maximumLengthExcess"),h=!1)}),L.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(L,z){if(L>z)return null;const y=this.editor,h=y.model.createRangeIn(y.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let V,$,J=z;for(const Y of h)if(Y.type=="text"&&(V||(V=Y.previousPosition),J--,J<L))return $=Y.previousPosition,y.model.createRange($,V)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=Yt})()},54482:(Jt,Zt,ae)=>{"use strict";ae.r(Zt),ae.d(Zt,{default:()=>Fe});var Yt=ae(67294),p=ae(86896),j=ae(7681),I=ae(54574),v=ae(19270),A=ae(63428),l=ae(96404),c=ae(45697),L=ae.n(c),z=ae(88972);const y=z.iv`
  .ck-word-count {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-block: 0.2rem;
    font-size: 0.875rem;
  }

  .ck-editor__main {
    --ck-font-face: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", "Helvetica", Arial, sans-serif;
    color: var(--ck-color-editor-base-text);
    font-family: var(--ck-font-face);

    * {
      font: revert;
      margin: revert;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0.6em;
      font-weight: 400;
    }

    h2 {
      font-size: 1.68em;
      margin-bottom: 0.4em;
      font-weight: 400;
    }

    h3 {
      font-size: 1.36em;
      margin-bottom: 0.2em;
      font-weight: 400;
    }

    h4 {
      font-size: 1.15em;
      margin-bottom: 0.1em;
      font-weight: 400;
    }

    p {
      font-size: 1em;
      line-height: 1.6em;
      margin-bottom: 0.8em;
    }

    figcaption {
      background-color: var(--ck-color-image-caption-background);
      caption-side: bottom;
      color: var(--ck-color-image-caption-text);
      display: table-caption;
      font-size: .75em;
      outline-offset: -1px;
      padding: 0.6em;
      word-break: break-word;
    }

    blockquote {
    }

    .table {
      margin: 0;
    }

    ul.todo-list {
      list-style: none;
      margin: revert;
      color: revert;
      font-family: revert;
      margin-left: 2rem;
    }

    ul,
    ol {
      list-style: initial;
      margin-left: 2rem;
    }

    ol {
      list-style: decimal;
    }

    sub {
      vertical-align: sub
    }

    sup {
      vertical-align: super
    }

    // higher specificity needed
    .ck.ck-content.ck-editor__editable {
      line-height: initial;
      min-height: 12.5rem;
      border-bottom-left-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;

      // so it's more Strapi alike
      &.ck-focused:not(.ck-editor__nested-editable) {
        border: 1px solid rgb(73, 69, 255);
        box-shadow: rgb(73 69 255) 0 0 0 0.125rem;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        transition-property: border-color, box-shadow;
        transition-duration: 0.2s;
      }
    }
  }
`,h=z.iv`
`,V=z.iv`
  .ck {
    --ck-color-toolbar-background: rgb(24, 24, 38);
    --ck-color-text: rgb(165, 165, 186);
    --ck-color-editor-base-text: rgb(255, 255, 255);
    --ck-color-toolbar-border: rgb(74, 74, 106);
    --ck-color-base-border: rgb(74, 74, 106);
    --ck-color-base-background: rgb(33, 33, 52);
    --ck-color-button-default-background: rgb(33, 33, 52);
    --ck-color-list-button-hover-background: rgb(24, 24, 38);
    --ck-color-button-default-hover-background: rgb(33, 33, 52);
    --ck-color-button-on-background: rgb(33, 33, 52);
    --ck-color-button-on-hover-background: rgb(33, 33, 52);
    --ck-color-button-default-active-background: rgb(33, 33, 52);
  }
  .ck-word-count {
    color: rgb(165, 165, 186)
  }
`,$=Ve=>{let ut=null;switch(Ve){case"dark":ut=V;break;case"light":ut=h;break}return z.vJ`
    ${y}
    ${ut}
  `};var J=ae(99452),Y=ae(53844),le=ae(76079),q=ae(11026),d=ae(50952),b=ae(15535),_=ae(66064),w=ae(20978),E=ae(63856),C=ae(99416),S=ae(78590),ne=ae(29781),U=ae(5978),D=ae(17680),f=ae(77606),R=ae(57051),W=ae(81460),N=ae(66491),oe=ae(51609),Te=ae(46609),Oe=ae(54132),xe=ae(51207),Re=ae(20060),lt=ae(6653),rt=ae(47655);const ct=window.CKEditor5.core.Plugin,st=window.CKEditor5.ui.ButtonView,kt='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.3.6a.9.9 0 100 1.8h15.311a.9.9 0 100-1.8H4.301zm17.1 3.7A1.6 1.6 0 0123 5.9v15.5a1.6 1.6 0 01-1.6 1.6H2.6A1.601 1.601 0 011 21.4V8 5.915C1 5.03 1.716 4.3 2.6 4.3h18.8zM5.032 19.18h14.336l-3.136-3.205-1.792 1.831-4.032-4.12-5.376 5.494zm13.44-8.697c0 1.282-.985 2.289-2.24 2.289-1.254 0-2.24-1.007-2.24-2.29 0-1.281.986-2.288 2.24-2.288 1.255 0 2.24 1.007 2.24 2.289z"></path></svg>';class pt extends ct{strapiToggle=null;static get pluginName(){return"strapiMediaLib"}init(){this.editor.ui.componentFactory.add("strapiMediaLib",()=>{const St=new st;return St.set({label:"Media Library",icon:kt,tooltip:!0}),St.on("execute",this.toggle.bind(this)),St})}connect(ut){if(typeof ut!="function")throw new Error("Input parameter for toogle should be a function");this.strapiToggle=ut}toggle(){if(typeof this.strapiToggle!="function")throw new Error("Strapi media library toggle function not connected. Use connect function first");this.strapiToggle()}}const Ze={light:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.list.List,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,pt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","insertTable","|","bulletedList","numberedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},standard:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,pt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","mediaEmbed","blockQuote","insertTable","codeBlock","|","bulletedList","numberedList","outdent","indent"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},rich:{plugins:[window.CKEditor5.alignment.Alignment,window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.basicStyles.Underline,window.CKEditor5.basicStyles.Strikethrough,window.CKEditor5.basicStyles.Code,window.CKEditor5.basicStyles.Subscript,window.CKEditor5.basicStyles.Superscript,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.font.FontSize,window.CKEditor5.font.FontFamily,window.CKEditor5.font.FontColor,window.CKEditor5.font.FontBackgroundColor,window.CKEditor5.findAndReplace.FindAndReplace,window.CKEditor5.heading.Heading,window.CKEditor5.horizontalLine.HorizontalLine,window.CKEditor5.htmlEmbed.HtmlEmbed,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.image.ImageResize,window.CKEditor5.indent.Indent,window.CKEditor5.indent.IndentBlock,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.list.ListProperties,window.CKEditor5.list.TodoList,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.removeFormat.RemoveFormat,window.CKEditor5.specialCharacters.SpecialCharacters,window.CKEditor5.specialCharacters.SpecialCharactersEssentials,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableProperties,window.CKEditor5.table.TableCellProperties,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,window.CKEditor5.highlight.Highlight,pt],toolbar:{items:["undo","redo","|","findAndReplace","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","superscript","subscript","code","removeFormat","-","link","strapiMediaLib","mediaEmbed","insertTable","horizontalLine","blockQuote","codeBlock","htmlEmbed","specialCharacters","highlight","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage","|","resizeImage:25","resizeImage:50","resizeImage:75","resizeImage:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","tableCellProperties","tableProperties","|","toggleTableCaption"]},fontSize:{options:[9,11,13,"default",17,19,21,27,35],supportAllValues:!1},fontFamily:{options:["default","Arial, Helvetica Neue, Helvetica, Source Sans Pro, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Roboto, Roboto Black, Roboto Medium, Roboto Light, sans-serif"],supportAllValues:!0},fontColor:{columns:5,documentColors:10},fontBackgroundColor:{columns:5,documentColors:10}}};class mt{constructor(ut){this.fieldConfig=ut}getEditorConfig(){const ut=this._getBaseConfig(),St=this.fieldConfig.maxLength;return this.fieldConfig.options.output==="Markdown"&&ut.plugins.push(window.CKEditor5.markdownGfm.Markdown),St&&(ut.plugins.push(window.CKEditor5.maximumLength.MaximumLength),ut.maximumLength={characters:St}),ut}_getBaseConfig(){const ut=this.fieldConfig.options.preset;switch(ut){case"light":return Ze.light;case"standard":return Ze.standard;case"rich":return Ze.rich;default:throw new Error("Invalid preset name "+ut)}}}var qe=ae(86597);const et=({isOpen:Ve,onChange:ut,onToggle:St})=>{const{components:Lt}=(0,qe.yX)(),Qt=Lt["media-library"],yt=Tt=>{const mi=Tt.map(pi=>({alt:pi.alternativeText||pi.name,url:(0,qe.CR)(pi.url),mime:pi.mime}));ut(mi)};return Ve?Yt.createElement(Qt,{onClose:St,onSelectAssets:yt}):null};et.defaultProps={isOpen:!1,onChange:()=>{},onToggle:()=>{}},et.propTypes={isOpen:L().bool,onChange:L().func,onToggle:L().func};const Q=et;var de=ae(42979),we=ae(97846);function Be(Ve){const ut={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};for(const St in ut){const Lt=ut[St];Ve=Ve.replaceAll(St,Lt)}return Ve}const Ge=({attribute:Ve,onChange:ut,name:St,value:Lt,disabled:Qt,labelAction:yt,intlLabel:Tt,required:mi,description:pi,error:Li})=>{const[Ei,Ni]=(0,Yt.useState)(!1),{formatMessage:xi}=(0,p.Z)(),{maxLengthCharacters:Bi,...nt}=Ve.options,_e=new mt({options:nt,maxLength:Bi}).getEditorConfig(),Ie=(0,Yt.useRef)(null),We=localStorage.getItem("STRAPI_THEME"),tt=$(We),[bt,At]=(0,Yt.useState)(!1),xt=()=>At(ni=>!ni),Kt=ni=>{let ei="";ni.map(yi=>{if(yi.mime.includes("image")){const Ri=Be(yi.url),qi=Be(yi.alt);ei+=`<img src="${Ri}" alt="${qi}" />`}});const li=Ei.data.processor.toView(ei),Ci=Ei.data.toModel(li);Ei.model.insertContent(Ci),xt()};return Yt.createElement(I.g,{name:St,id:St,error:Li,hint:pi&&xi(pi)},Yt.createElement(j.K,{spacing:1},Yt.createElement(v.Q,{action:yt,required:mi},xi(Tt)),Yt.createElement(tt,null),Yt.createElement(de.CKEditor,{editor:window.CKEditor5.editorClassic.ClassicEditor,disabled:Qt,data:Lt,onReady:ni=>{const ei=ni.plugins.get("WordCount");Ie.current.appendChild(ei.wordCountContainer),ni.plugins.get("strapiMediaLib").connect(xt),Ni(ni)},onChange:(ni,ei)=>{const li=ei.getData();ut({target:{name:St,value:li}}),ei.plugins.get("WordCount").characters>Bi&&console.log("Too long")},config:_e}),Yt.createElement("div",{ref:Ie}),Yt.createElement(A.J,null),Yt.createElement(l.c,null)),Yt.createElement(Q,{isOpen:bt,onChange:Kt,onToggle:xt}))};Ge.defaultProps={description:null,disabled:!1,error:null,labelAction:null,required:!1,value:""},Ge.propTypes={intlLabel:L().object.isRequired,onChange:L().func.isRequired,attribute:L().object.isRequired,name:L().string.isRequired,description:L().object,disabled:L().bool,error:L().string,labelAction:L().object,required:L().bool,value:L().string};const Fe=Ge},76079:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Jt={704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Autoformat:()=>L});var p=ae(704),j=ae(181),I=ae(492),v=ae(209);function A(y,h,V,$){let J,Y=null;typeof $=="function"?J=$:(Y=y.commands.get($),J=()=>{y.execute($)}),y.model.document.on("change:data",(le,q)=>{if(Y&&!Y.isEnabled||!h.isEnabled)return;const d=(0,v.first)(y.model.document.selection.getRanges());if(!d.isCollapsed||q.isUndo||!q.isLocal)return;const b=Array.from(y.model.document.differ.getChanges()),_=b[0];if(b.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const w=_.position.parent;if(w.is("element","codeBlock")||w.is("element","listItem")&&typeof $!="function"&&!["numberedList","bulletedList","todoList"].includes($)||Y&&Y.value===!0)return;const E=w.getChild(0),C=y.model.createRangeOn(E);if(!C.containsRange(d)&&!d.end.isEqual(C.end))return;const S=V.exec(E.data.substr(0,d.end.offset));S&&y.model.enqueueChange(ne=>{const U=ne.createPositionAt(w,0),D=ne.createPositionAt(w,S[0].length),f=new I.LiveRange(U,D);if(J({match:S})!==!1){ne.remove(f);const R=y.model.document.selection.getFirstRange(),W=ne.createRangeIn(w);!w.isEmpty||W.isEqual(R)||W.containsRange(R,!0)||ne.remove(w)}f.detach(),y.model.enqueueChange(()=>{y.plugins.get("Delete").requestUndoOnBackspace()})})})}function l(y,h,V,$){let J,Y;V instanceof RegExp?J=V:Y=V,Y=Y||(le=>{let q;const d=[],b=[];for(;(q=J.exec(le))!==null&&!(q&&q.length<4);){let{index:_,1:w,2:E,3:C}=q;const S=w+E+C;_+=q[0].length-S.length;const ne=[_,_+w.length],U=[_+w.length+E.length,_+w.length+E.length+C.length];d.push(ne),d.push(U),b.push([_+w.length,_+w.length+E.length])}return{remove:d,format:b}}),y.model.document.on("change:data",(le,q)=>{if(q.isUndo||!q.isLocal||!h.isEnabled)return;const d=y.model,b=d.document.selection;if(!b.isCollapsed)return;const _=Array.from(d.document.differ.getChanges()),w=_[0];if(_.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const E=b.focus,C=E.parent,{text:S,range:ne}=function(R,W){let N=R.start;return{text:Array.from(R.getItems()).reduce((Te,Oe)=>!Oe.is("$text")&&!Oe.is("$textProxy")||Oe.getAttribute("code")?(N=W.createPositionAfter(Oe),""):Te+Oe.data,""),range:W.createRange(N,R.end)}}(d.createRange(d.createPositionAt(C,0),E),d),U=Y(S),D=c(ne.start,U.format,d),f=c(ne.start,U.remove,d);D.length&&f.length&&d.enqueueChange(R=>{if($(R,D)!==!1){for(const W of f.reverse())R.remove(W);d.enqueueChange(()=>{y.plugins.get("Delete").requestUndoOnBackspace()})}})})}function c(y,h,V){return h.filter($=>$[0]!==void 0&&$[1]!==void 0).map($=>V.createRange(y.getShiftedBy($[0]),y.getShiftedBy($[1])))}class L extends p.Plugin{static get requires(){return[j.Delete]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const h=this.editor.commands;h.get("bulletedList")&&A(this.editor,this,/^[*-]\s$/,"bulletedList"),h.get("numberedList")&&A(this.editor,this,/^1[.|)]\s$/,"numberedList"),h.get("todoList")&&A(this.editor,this,/^\[\s?\]\s$/,"todoList"),h.get("checkTodoList")&&A(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const h=this.editor.commands;if(h.get("bold")){const V=z(this.editor,"bold");l(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,V),l(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,V)}if(h.get("italic")){const V=z(this.editor,"italic");l(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,V),l(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,V)}if(h.get("code")){const V=z(this.editor,"code");l(this.editor,this,/(`)([^`]+)(`)$/g,V)}if(h.get("strikethrough")){const V=z(this.editor,"strikethrough");l(this.editor,this,/(~~)([^~]+)(~~)$/g,V)}}_addHeadingAutoformats(){const h=this.editor.commands.get("heading");h&&h.modelElements.filter(V=>V.match(/^heading[1-6]$/)).forEach(V=>{const $=V[7],J=new RegExp(`^(#{${$}})\\s$`);A(this.editor,this,J,()=>{if(!h.isEnabled||h.value===V)return!1;this.editor.execute("heading",{value:V})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&A(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const h=this.editor,V=h.model.document.selection;h.commands.get("codeBlock")&&A(h,this,/^```$/,()=>{if(V.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&A(this.editor,this,/^---$/,"horizontalLine")}}function z(y,h){return(V,$)=>{if(!y.commands.get(h).isEnabled)return!1;const J=y.model.schema.getValidRanges($,h);for(const Y of J)V.setAttribute(h,!0,Y);V.removeSelectionAttribute(h)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=Yt})()},11026:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{Bold:"Bold",Code:"Code",Italic:"Italic",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={55:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Bold:()=>L,BoldEditing:()=>v,BoldUI:()=>c,Code:()=>d,CodeEditing:()=>h,CodeUI:()=>q,Italic:()=>C,ItalicEditing:()=>_,ItalicUI:()=>E,Strikethrough:()=>f,StrikethroughEditing:()=>ne,StrikethroughUI:()=>D,Subscript:()=>Te,SubscriptEditing:()=>W,SubscriptUI:()=>oe,Superscript:()=>rt,SuperscriptEditing:()=>xe,SuperscriptUI:()=>lt,Underline:()=>Ze,UnderlineEditing:()=>st,UnderlineUI:()=>pt});var p=ae(704);class j extends p.Command{constructor(qe,et){super(qe),this.attributeKey=et}refresh(){const qe=this.editor.model,et=qe.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=qe.schema.checkAttributeInSelection(et.selection,this.attributeKey)}execute(qe={}){const et=this.editor.model,Q=et.document.selection,de=qe.forceValue===void 0?!this.value:qe.forceValue;et.change(we=>{if(Q.isCollapsed)de?we.setSelectionAttribute(this.attributeKey,!0):we.removeSelectionAttribute(this.attributeKey);else{const Be=et.schema.getValidRanges(Q.getRanges(),this.attributeKey);for(const Ge of Be)de?we.setAttribute(this.attributeKey,de,Ge):we.removeAttribute(this.attributeKey,Ge)}})}_getValueFromFirstAllowedNode(){const qe=this.editor.model,et=qe.schema,Q=qe.document.selection;if(Q.isCollapsed)return Q.hasAttribute(this.attributeKey);for(const de of Q.getRanges())for(const we of de.getItems())if(et.checkAttribute(we,this.attributeKey))return we.hasAttribute(this.attributeKey);return!1}}const I="bold";class v extends p.Plugin{static get pluginName(){return"BoldEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:I}),qe.model.schema.setAttributeProperties(I,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:I,view:"strong",upcastAlso:["b",et=>{const Q=et.getStyle("font-weight");return Q&&(Q=="bold"||Number(Q)>=600)?{name:!0,styles:["font-weight"]}:null}]}),qe.commands.add(I,new j(qe,I)),qe.keystrokes.set("CTRL+B",I)}}var A=ae(273);const l="bold";class c extends p.Plugin{static get pluginName(){return"BoldUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(l,Q=>{const de=qe.commands.get(l),we=new A.ButtonView(Q);return we.set({label:et("Bold"),icon:p.icons.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(l),qe.editing.view.focus()}),we})}}class L extends p.Plugin{static get requires(){return[v,c]}static get pluginName(){return"Bold"}}var z=ae(181);const y="code";class h extends p.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[z.TwoStepCaretMovement]}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:y}),qe.model.schema.setAttributeProperties(y,{isFormatting:!0,copyOnEnter:!1}),qe.conversion.attributeToElement({model:y,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),qe.commands.add(y,new j(qe,y)),qe.plugins.get(z.TwoStepCaretMovement).registerAttribute(y),(0,z.inlineHighlight)(qe,y,"code","ck-code_selected")}}var V=ae(62),$=ae.n(V),J=ae(55),Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$()(J.Z,Y),J.Z.locals;const le="code";class q extends p.Plugin{static get pluginName(){return"CodeUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(le,Q=>{const de=qe.commands.get(le),we=new A.ButtonView(Q);return we.set({label:et("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(le),qe.editing.view.focus()}),we})}}class d extends p.Plugin{static get requires(){return[h,q]}static get pluginName(){return"Code"}}const b="italic";class _ extends p.Plugin{static get pluginName(){return"ItalicEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:b}),qe.model.schema.setAttributeProperties(b,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:b,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),qe.commands.add(b,new j(qe,b)),qe.keystrokes.set("CTRL+I",b)}}const w="italic";class E extends p.Plugin{static get pluginName(){return"ItalicUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(w,Q=>{const de=qe.commands.get(w),we=new A.ButtonView(Q);return we.set({label:et("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(w),qe.editing.view.focus()}),we})}}class C extends p.Plugin{static get requires(){return[_,E]}static get pluginName(){return"Italic"}}const S="strikethrough";class ne extends p.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:S}),qe.model.schema.setAttributeProperties(S,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:S,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),qe.commands.add(S,new j(qe,S)),qe.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const U="strikethrough";class D extends p.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(U,Q=>{const de=qe.commands.get(U),we=new A.ButtonView(Q);return we.set({label:et("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(U),qe.editing.view.focus()}),we})}}class f extends p.Plugin{static get requires(){return[ne,D]}static get pluginName(){return"Strikethrough"}}const R="subscript";class W extends p.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:R}),qe.model.schema.setAttributeProperties(R,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:R,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),qe.commands.add(R,new j(qe,R))}}const N="subscript";class oe extends p.Plugin{static get pluginName(){return"SubscriptUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(N,Q=>{const de=qe.commands.get(N),we=new A.ButtonView(Q);return we.set({label:et("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(N),qe.editing.view.focus()}),we})}}class Te extends p.Plugin{static get requires(){return[W,oe]}static get pluginName(){return"Subscript"}}const Oe="superscript";class xe extends p.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:Oe}),qe.model.schema.setAttributeProperties(Oe,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:Oe,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),qe.commands.add(Oe,new j(qe,Oe))}}const Re="superscript";class lt extends p.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(Re,Q=>{const de=qe.commands.get(Re),we=new A.ButtonView(Q);return we.set({label:et("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(Re),qe.editing.view.focus()}),we})}}class rt extends p.Plugin{static get requires(){return[xe,lt]}static get pluginName(){return"Superscript"}}const ct="underline";class st extends p.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const qe=this.editor;qe.model.schema.extend("$text",{allowAttributes:ct}),qe.model.schema.setAttributeProperties(ct,{isFormatting:!0,copyOnEnter:!0}),qe.conversion.attributeToElement({model:ct,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),qe.commands.add(ct,new j(qe,ct)),qe.keystrokes.set("CTRL+U","underline")}}const kt="underline";class pt extends p.Plugin{static get pluginName(){return"UnderlineUI"}init(){const qe=this.editor,et=qe.t;qe.ui.componentFactory.add(kt,Q=>{const de=qe.commands.get(kt),we=new A.ButtonView(Q);return we.set({label:et("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),we.bind("isOn","isEnabled").to(de,"value","isEnabled"),this.listenTo(we,"execute",()=>{qe.execute(kt),qe.editing.view.focus()}),we})}}class Ze extends p.Plugin{static get requires(){return[st,pt]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=Yt})()},50952:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Block quote":"Block quote"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={93:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},331:(p,j,I)=>{p.exports=I(79)("./src/enter.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{BlockQuote:()=>le,BlockQuoteEditing:()=>z,BlockQuoteUI:()=>Y});var p=ae(704),j=ae(331),I=ae(181),v=ae(209);class A extends p.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const b=this.editor.model,_=b.schema,w=b.document.selection,E=Array.from(w.getSelectedBlocks()),C=d.forceValue===void 0?!this.value:d.forceValue;b.change(S=>{if(C){const ne=E.filter(U=>l(U)||L(_,U));this._applyQuote(S,ne)}else this._removeQuote(S,E.filter(l))})}_getValue(){const d=this.editor.model.document.selection,b=(0,v.first)(d.getSelectedBlocks());return!(!b||!l(b))}_checkEnabled(){if(this.value)return!0;const d=this.editor.model.document.selection,b=this.editor.model.schema,_=(0,v.first)(d.getSelectedBlocks());return!!_&&L(b,_)}_removeQuote(d,b){c(d,b).reverse().forEach(_=>{if(_.start.isAtStart&&_.end.isAtEnd)return void d.unwrap(_.start.parent);if(_.start.isAtStart){const E=d.createPositionBefore(_.start.parent);return void d.move(_,E)}_.end.isAtEnd||d.split(_.end);const w=d.createPositionAfter(_.end.parent);d.move(_,w)})}_applyQuote(d,b){const _=[];c(d,b).reverse().forEach(w=>{let E=l(w.start);E||(E=d.createElement("blockQuote"),d.wrap(w,E)),_.push(E)}),_.reverse().reduce((w,E)=>w.nextSibling==E?(d.merge(d.createPositionAfter(w)),w):E)}}function l(q){return q.parent.name=="blockQuote"?q.parent:null}function c(q,d){let b,_=0;const w=[];for(;_<d.length;){const E=d[_],C=d[_+1];b||(b=q.createPositionBefore(E)),C&&E.nextSibling==C||(w.push(q.createRange(b,q.createPositionAfter(E))),b=null),_++}return w}function L(q,d){const b=q.checkChild(d.parent,"blockQuote"),_=q.checkChild(["$root","blockQuote"],d);return b&&_}class z extends p.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[j.Enter,I.Delete]}init(){const d=this.editor,b=d.model.schema;d.commands.add("blockQuote",new A(d)),b.register("blockQuote",{inheritAllFrom:"$container"}),d.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),d.model.document.registerPostFixer(C=>{const S=d.model.document.differ.getChanges();for(const ne of S)if(ne.type=="insert"){const U=ne.position.nodeAfter;if(!U)continue;if(U.is("element","blockQuote")&&U.isEmpty)return C.remove(U),!0;if(U.is("element","blockQuote")&&!b.checkChild(ne.position,U))return C.unwrap(U),!0;if(U.is("element")){const D=C.createRangeIn(U);for(const f of D.getItems())if(f.is("element","blockQuote")&&!b.checkChild(C.createPositionBefore(f),f))return C.unwrap(f),!0}}else if(ne.type=="remove"){const U=ne.position.parent;if(U.is("element","blockQuote")&&U.isEmpty)return C.remove(U),!0}return!1});const _=this.editor.editing.view.document,w=d.model.document.selection,E=d.commands.get("blockQuote");this.listenTo(_,"enter",(C,S)=>{!w.isCollapsed||!E.value||w.getLastPosition().parent.isEmpty&&(d.execute("blockQuote"),d.editing.view.scrollToTheSelection(),S.preventDefault(),C.stop())},{context:"blockquote"}),this.listenTo(_,"delete",(C,S)=>{if(S.direction!="backward"||!w.isCollapsed||!E.value)return;const ne=w.getLastPosition().parent;ne.isEmpty&&!ne.previousSibling&&(d.execute("blockQuote"),d.editing.view.scrollToTheSelection(),S.preventDefault(),C.stop())},{context:"blockquote"})}}var y=ae(273),h=ae(62),V=ae.n(h),$=ae(93),J={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};V()($.Z,J),$.Z.locals;class Y extends p.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const d=this.editor,b=d.t;d.ui.componentFactory.add("blockQuote",_=>{const w=d.commands.get("blockQuote"),E=new y.ButtonView(_);return E.set({label:b("Block quote"),icon:p.icons.quote,tooltip:!0,isToggleable:!0}),E.bind("isOn","isEnabled").to(w,"value","isEnabled"),this.listenTo(E,"execute",()=>{d.execute("blockQuote"),d.editing.view.focus()}),E})}}class le extends p.Plugin{static get requires(){return[z,Y]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=Yt})()},97846:(Jt,Zt,ae)=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Yt={73:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const z=L},609:v=>{"use strict";v.exports=function(A){var l=[];return l.toString=function(){return this.map(function(c){var L=A(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,z){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(z)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var $=0;$<c.length;$++){var J=[].concat(c[$]);z&&y[J[0]]||(L&&(J[2]?J[2]="".concat(L," and ").concat(J[2]):J[2]=L),l.push(J))}},l}},62:(v,A,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},z=function(){var w={};return function(E){if(w[E]===void 0){var C=document.querySelector(E);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}w[E]=C}return w[E]}}(),y=[];function h(w){for(var E=-1,C=0;C<y.length;C++)if(y[C].identifier===w){E=C;break}return E}function V(w,E){for(var C={},S=[],ne=0;ne<w.length;ne++){var U=w[ne],D=E.base?U[0]+E.base:U[0],f=C[D]||0,R="".concat(D," ").concat(f);C[D]=f+1;var W=h(R),N={css:U[1],media:U[2],sourceMap:U[3]};W!==-1?(y[W].references++,y[W].updater(N)):y.push({identifier:R,updater:_(N,E),references:1}),S.push(R)}return S}function $(w){var E=document.createElement("style"),C=w.attributes||{};if(C.nonce===void 0){var S=l.nc;S&&(C.nonce=S)}if(Object.keys(C).forEach(function(U){E.setAttribute(U,C[U])}),typeof w.insert=="function")w.insert(E);else{var ne=z(w.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(E)}return E}var J,Y=(J=[],function(w,E){return J[w]=E,J.filter(Boolean).join(`
`)});function le(w,E,C,S){var ne=C?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(w.styleSheet)w.styleSheet.cssText=Y(E,ne);else{var U=document.createTextNode(ne),D=w.childNodes;D[E]&&w.removeChild(D[E]),D.length?w.insertBefore(U,D[E]):w.appendChild(U)}}function q(w,E,C){var S=C.css,ne=C.media,U=C.sourceMap;if(ne?w.setAttribute("media",ne):w.removeAttribute("media"),U&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),w.styleSheet)w.styleSheet.cssText=S;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(S))}}var d=null,b=0;function _(w,E){var C,S,ne;if(E.singleton){var U=b++;C=d||(d=$(E)),S=le.bind(null,C,U,!1),ne=le.bind(null,C,U,!0)}else C=$(E),S=q.bind(null,C,E),ne=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(C)};return S(w),function(D){if(D){if(D.css===w.css&&D.media===w.media&&D.sourceMap===w.sourceMap)return;S(w=D)}else ne()}}v.exports=function(w,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=L());var C=V(w=w||[],E);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ne=0;ne<C.length;ne++){var U=h(C[ne]);y[U].references--}for(var D=V(S,E),f=0;f<C.length;f++){var R=h(C[f]);y[R].references===0&&(y[R].updater(),y.splice(R,1))}C=D}}}},704:(v,A,l)=>{v.exports=l(79)("./src/core.js")},492:(v,A,l)=>{v.exports=l(79)("./src/engine.js")},273:(v,A,l)=>{v.exports=l(79)("./src/ui.js")},209:(v,A,l)=>{v.exports=l(79)("./src/utils.js")},434:(v,A,l)=>{v.exports=l(79)("./src/watchdog.js")},79:v=>{"use strict";v.exports=CKEditor5.dll}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={id:v,exports:{}};return Yt[v](l,l.exports,j),l.exports}j.n=v=>{var A=v&&v.__esModule?()=>v.default:()=>v;return j.d(A,{a:A}),A},j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},j.nc=void 0;var I={};(()=>{"use strict";j.r(I),j.d(I,{ClassicEditor:()=>Re});var v=j(273),A=j(492),l=j(209);class c extends v.EditorUI{constructor(ct,st){super(ct),this.view=st,this._toolbarConfig=(0,v.normalizeToolbarConfig)(ct.config.get("toolbar")),this._elementReplacer=new l.ElementReplacer,this.listenTo(ct.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(ct){const st=this.editor,kt=this.view,pt=st.editing.view,Ze=kt.editable,mt=pt.document.getRoot();Ze.name=mt.rootName,kt.render();const qe=Ze.element;this.setEditableElement(Ze.name,qe),kt.editable.bind("isFocused").to(this.focusTracker),pt.attachDomRoot(qe),ct&&this._elementReplacer.replace(ct,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const ct=this.view,st=this.editor.editing.view;this._elementReplacer.restore(),st.detachDomRoot(ct.editable.name),ct.destroy()}_initToolbar(){const ct=this.view;ct.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),ct.stickyPanel.limiterElement=ct.element,ct.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:st})=>st||0),ct.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(ct.toolbar)}_initPlaceholder(){const ct=this.editor,st=ct.editing.view,kt=st.document.getRoot(),pt=ct.sourceElement;let Ze;const mt=ct.config.get("placeholder");mt&&(Ze=typeof mt=="string"?mt:mt[this.view.editable.name]),!Ze&&pt&&pt.tagName.toLowerCase()==="textarea"&&(Ze=pt.getAttribute("placeholder")),Ze&&(kt.placeholder=Ze),(0,A.enablePlaceholder)({view:st,element:kt,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(ct,st,kt){const pt=this.view.stickyPanel;if(pt.isSticky){const Ze=new l.Rect(pt.element).height;st.viewportOffset.top+=Ze}else{const Ze=()=>{this.editor.editing.view.scrollToTheSelection(kt)};this.listenTo(pt,"change:isSticky",Ze),setTimeout(()=>{this.stopListening(pt,"change:isSticky",Ze)},20)}}}var L=j(62),z=j.n(L),y=j(73),h={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};z()(y.Z,h),y.Z.locals;class V extends v.BoxedEditorUIView{constructor(ct,st,kt={}){super(ct),this.stickyPanel=new v.StickyPanelView(ct),this.toolbar=new v.ToolbarView(ct,{shouldGroupWhenFull:kt.shouldToolbarGroupWhenFull}),this.editable=new v.InlineEditableUIView(ct,st)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var $=j(704),J=j(434);const Y=function(rt){return rt!=null&&typeof rt=="object"},le=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var q=typeof self=="object"&&self&&self.Object===Object&&self;const d=(le||q||Function("return this")()).Symbol;var b=Object.prototype,_=b.hasOwnProperty,w=b.toString,E=d?d.toStringTag:void 0;const C=function(rt){var ct=_.call(rt,E),st=rt[E];try{rt[E]=void 0;var kt=!0}catch{}var pt=w.call(rt);return kt&&(ct?rt[E]=st:delete rt[E]),pt};var S=Object.prototype.toString;const ne=function(rt){return S.call(rt)};var U=d?d.toStringTag:void 0;const D=function(rt){return rt==null?rt===void 0?"[object Undefined]":"[object Null]":U&&U in Object(rt)?C(rt):ne(rt)},f=function(rt,ct){return function(st){return rt(ct(st))}}(Object.getPrototypeOf,Object);var R=Function.prototype,W=Object.prototype,N=R.toString,oe=W.hasOwnProperty,Te=N.call(Object);const Oe=function(rt){if(!Y(rt)||D(rt)!="[object Object]")return!1;var ct=f(rt);if(ct===null)return!0;var st=oe.call(ct,"constructor")&&ct.constructor;return typeof st=="function"&&st instanceof st&&N.call(st)==Te},xe=function(rt){return Y(rt)&&rt.nodeType===1&&!Oe(rt)};class Re extends(0,$.DataApiMixin)((0,$.ElementApiMixin)($.Editor)){constructor(ct,st={}){if(!lt(ct)&&st.initialData!==void 0)throw new l.CKEditorError("editor-create-initial-data",null);super(st),this.config.get("initialData")===void 0&&this.config.set("initialData",function(Ze){return lt(Ze)?(0,l.getDataFromElement)(Ze):Ze}(ct)),lt(ct)&&(this.sourceElement=ct),this.model.document.createRoot();const kt=!this.config.get("toolbar.shouldNotGroupWhenFull"),pt=new V(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:kt});this.ui=new c(this,pt),(0,$.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(ct,st={}){return new Promise(kt=>{const pt=new this(ct,st);kt(pt.initPlugins().then(()=>pt.ui.init(lt(ct)?ct:null)).then(()=>pt.data.init(pt.config.get("initialData"))).then(()=>pt.fire("ready")).then(()=>pt))})}}function lt(rt){return xe(rt)}Re.Context=$.Context,Re.EditorWatchdog=J.EditorWatchdog,Re.ContextWatchdog=J.ContextWatchdog})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=I})()},66064:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Jt={945:(p,j,I)=>{p.exports=I(79)("./src/clipboard.js")},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},331:(p,j,I)=>{p.exports=I(79)("./src/enter.js")},468:(p,j,I)=>{p.exports=I(79)("./src/select-all.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},254:(p,j,I)=>{p.exports=I(79)("./src/undo.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Essentials:()=>c});var p=ae(704),j=ae(945),I=ae(331),v=ae(468),A=ae(181),l=ae(254);class c extends p.Plugin{static get requires(){return[j.Clipboard,I.Enter,v.SelectAll,I.ShiftEnter,A.Typing,l.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=Yt})()},63856:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={159:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},747:(p,j,I)=>{p.exports=I(79)("./src/paragraph.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Heading:()=>Y,HeadingButtonsUI:()=>q,HeadingEditing:()=>c,HeadingUI:()=>J,Title:()=>_});var p=ae(704),j=ae(747),I=ae(209);class v extends p.Command{constructor(R,W){super(R),this.modelElements=W}refresh(){const R=(0,I.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!R&&this.modelElements.includes(R.name)&&R.name,this.isEnabled=!!R&&this.modelElements.some(W=>A(R,W,this.editor.model.schema))}execute(R){const W=this.editor.model,N=W.document,oe=R.value;W.change(Te=>{const Oe=Array.from(N.selection.getSelectedBlocks()).filter(xe=>A(xe,oe,W.schema));for(const xe of Oe)xe.is("element",oe)||Te.rename(xe,oe)})}}function A(f,R,W){return W.checkChild(f.parent,R)&&!W.isObject(f)}const l="paragraph";class c extends p.Plugin{static get pluginName(){return"HeadingEditing"}constructor(R){super(R),R.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[j.Paragraph]}init(){const R=this.editor,W=R.config.get("heading.options"),N=[];for(const oe of W)oe.model!=="paragraph"&&(R.model.schema.register(oe.model,{inheritAllFrom:"$block"}),R.conversion.elementToElement(oe),N.push(oe.model));this._addDefaultH1Conversion(R),R.commands.add("heading",new v(R,N))}afterInit(){const R=this.editor,W=R.commands.get("enter"),N=R.config.get("heading.options");W&&this.listenTo(W,"afterExecute",(oe,Te)=>{const Oe=R.model.document.selection.getFirstPosition().parent;N.some(xe=>Oe.is("element",xe.model))&&!Oe.is("element",l)&&Oe.childCount===0&&Te.writer.rename(Oe,l)})}_addDefaultH1Conversion(R){R.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:I.priorities.low+1})}}var L=ae(273);function z(f){const R=f.t,W={Paragraph:R("Paragraph"),"Heading 1":R("Heading 1"),"Heading 2":R("Heading 2"),"Heading 3":R("Heading 3"),"Heading 4":R("Heading 4"),"Heading 5":R("Heading 5"),"Heading 6":R("Heading 6")};return f.config.get("heading.options").map(N=>{const oe=W[N.title];return oe&&oe!=N.title&&(N.title=oe),N})}var y=ae(62),h=ae.n(y),V=ae(159),$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};h()(V.Z,$),V.Z.locals;class J extends p.Plugin{static get pluginName(){return"HeadingUI"}init(){const R=this.editor,W=R.t,N=z(R),oe=W("Choose heading"),Te=W("Heading");R.ui.componentFactory.add("heading",Oe=>{const xe={},Re=new I.Collection,lt=R.commands.get("heading"),rt=R.commands.get("paragraph"),ct=[lt];for(const kt of N){const pt={type:"button",model:new L.Model({label:kt.title,class:kt.class,role:"menuitemradio",withText:!0})};kt.model==="paragraph"?(pt.model.bind("isOn").to(rt,"value"),pt.model.set("commandName","paragraph"),ct.push(rt)):(pt.model.bind("isOn").to(lt,"value",Ze=>Ze===kt.model),pt.model.set({commandName:"heading",commandValue:kt.model})),Re.add(pt),xe[kt.model]=kt.title}const st=(0,L.createDropdown)(Oe);return(0,L.addListToDropdown)(st,Re,{ariaLabel:Te,role:"menu"}),st.buttonView.set({ariaLabel:Te,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:Te}),st.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),st.bind("isEnabled").toMany(ct,"isEnabled",(...kt)=>kt.some(pt=>pt)),st.buttonView.bind("label").to(lt,"value",rt,"value",(kt,pt)=>{const Ze=kt||pt&&"paragraph";return typeof Ze=="boolean"?oe:xe[Ze]?xe[Ze]:oe}),this.listenTo(st,"execute",kt=>{const{commandName:pt,commandValue:Ze}=kt.source;R.execute(pt,Ze?{value:Ze}:void 0),R.editing.view.focus()}),st})}}class Y extends p.Plugin{static get requires(){return[c,J]}static get pluginName(){return"Heading"}}const le={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};class q extends p.Plugin{init(){z(this.editor).filter(R=>R.model!=="paragraph").map(R=>this._createButton(R))}_createButton(R){const W=this.editor;W.ui.componentFactory.add(R.model,N=>{const oe=new L.ButtonView(N),Te=W.commands.get("heading");return oe.label=R.title,oe.icon=R.icon||le[R.model],oe.tooltip=!0,oe.isToggleable=!0,oe.bind("isEnabled").to(Te),oe.bind("isOn").to(Te,"value",Oe=>Oe==R.model),oe.on("execute",()=>{W.execute("heading",{value:R.model}),W.editing.view.focus()}),oe})}}var d=ae(492);const b=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class _ extends p.Plugin{constructor(){super(...arguments),this._bodyPlaceholder=new Map}static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const R=this.editor,W=R.model;W.schema.register("title",{isBlock:!0,allowIn:"$root"}),W.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),W.schema.extend("$text",{allowIn:"title-content"}),W.schema.addAttributeCheck(N=>{if(N.endsWith("title-content $text"))return!1}),R.editing.mapper.on("modelToViewPosition",E(R.editing.view)),R.data.mapper.on("modelToViewPosition",E(R.editing.view)),R.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),R.conversion.for("downcast").add(N=>N.on("insert:title",(oe,Te,Oe)=>{Oe.consumable.consume(Te.item,oe.name)})),R.data.upcastDispatcher.on("element:h1",w,{priority:"high"}),R.data.upcastDispatcher.on("element:h2",w,{priority:"high"}),R.data.upcastDispatcher.on("element:h3",w,{priority:"high"}),W.document.registerPostFixer(N=>this._fixTitleContent(N)),W.document.registerPostFixer(N=>this._fixTitleElement(N)),W.document.registerPostFixer(N=>this._fixBodyElement(N)),W.document.registerPostFixer(N=>this._fixExtraParagraph(N)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(R={}){const W=R.rootName?R.rootName:void 0,N=this._getTitleElement(W).getChild(0);return this.editor.data.stringify(N,R)}getBody(R={}){const W=this.editor,N=W.data,oe=W.model,Te=R.rootName?R.rootName:void 0,Oe=W.model.document.getRoot(Te),xe=W.editing.view,Re=new d.DowncastWriter(xe.document),lt=oe.createRangeIn(Oe),rt=Re.createDocumentFragment(),ct=oe.createPositionAfter(Oe.getChild(0)),st=oe.createRange(ct,oe.createPositionAt(Oe,"end")),kt=new Map;for(const pt of oe.markers){const Ze=st.getIntersection(pt.getRange());Ze&&kt.set(pt.name,Ze)}return N.mapper.clearBindings(),N.mapper.bindElements(Oe,rt),N.downcastDispatcher.convert(lt,kt,Re,R),Re.remove(Re.createRangeOn(rt.getChild(0))),W.data.processor.toData(rt)}_getTitleElement(R){const W=this.editor.model.document.getRoot(R);for(const N of W.getChildren())if(C(N))return N}_fixTitleContent(R){let W=!1;for(const N of this.editor.model.document.getRootNames()){const oe=this._getTitleElement(N);if(!oe||oe.maxOffset===1)continue;const Te=Array.from(oe.getChildren());Te.shift();for(const Oe of Te)R.move(R.createRangeOn(Oe),oe,"after"),R.rename(Oe,"paragraph");W=!0}return W}_fixTitleElement(R){let W=!1;const N=this.editor.model;for(const oe of this.editor.model.document.getRoots()){const Te=Array.from(oe.getChildren()).filter(C),Oe=Te[0],xe=oe.getChild(0);if(xe.is("element","title"))Te.length>1&&(ne(Te,R,N),W=!0);else if(Oe||b.has(xe.name))b.has(xe.name)?S(xe,R,N):R.move(R.createRangeOn(Oe),oe,0),ne(Te,R,N),W=!0;else{const Re=R.createElement("title");R.insert(Re,oe),R.insertElement("title-content",Re),W=!0}}return W}_fixBodyElement(R){let W=!1;for(const N of this.editor.model.document.getRootNames()){const oe=this.editor.model.document.getRoot(N);if(oe.childCount<2){const Te=R.createElement("paragraph");R.insert(Te,oe,1),this._bodyPlaceholder.set(N,Te),W=!0}}return W}_fixExtraParagraph(R){let W=!1;for(const N of this.editor.model.document.getRootNames()){const oe=this.editor.model.document.getRoot(N),Te=this._bodyPlaceholder.get(N);D(Te,oe)&&(this._bodyPlaceholder.delete(N),R.remove(Te),W=!0)}return W}_attachPlaceholders(){const R=this.editor,W=R.t,N=R.editing.view,oe=R.sourceElement,Te=R.config.get("title.placeholder")||W("Type your title"),Oe=R.config.get("placeholder")||oe&&oe.tagName.toLowerCase()==="textarea"&&oe.getAttribute("placeholder")||W("Type or paste your content here.");R.editing.downcastDispatcher.on("insert:title-content",(Re,lt,rt)=>{const ct=rt.mapper.toViewElement(lt.item);ct.placeholder=Te,(0,d.enablePlaceholder)({view:N,element:ct,keepOnFocus:!0})});const xe=new Map;N.document.registerPostFixer(Re=>{let lt=!1;for(const rt of N.document.roots){if(rt.isEmpty)continue;const ct=rt.getChild(1),st=xe.get(rt.rootName);ct!==st&&(st&&((0,d.hidePlaceholder)(Re,st),Re.removeAttribute("data-placeholder",st)),Re.setAttribute("data-placeholder",Oe,ct),xe.set(rt.rootName,ct),lt=!0),lt=(0,d.needsPlaceholder)(ct,!0)&&rt.childCount===2&&ct.name==="p"?!!(0,d.showPlaceholder)(Re,ct)||lt:!!(0,d.hidePlaceholder)(Re,ct)||lt}return lt})}_attachTabPressHandling(){const R=this.editor,W=R.model;R.keystrokes.set("TAB",(N,oe)=>{W.change(Te=>{const Oe=W.document.selection,xe=Array.from(Oe.getSelectedBlocks());if(xe.length===1&&xe[0].is("element","title-content")){const Re=Oe.getFirstPosition().root.getChild(1);Te.setSelection(Re,0),oe()}})}),R.keystrokes.set("SHIFT + TAB",(N,oe)=>{W.change(Te=>{const Oe=W.document.selection;if(!Oe.isCollapsed)return;const xe=(0,I.first)(Oe.getSelectedBlocks()),Re=Oe.getFirstPosition(),lt=R.model.document.getRoot(Re.root.rootName),rt=lt.getChild(0);xe===lt.getChild(1)&&Re.isAtStart&&(Te.setSelection(rt.getChild(0),0),oe())})})}}function w(f,R,W){const N=R.modelCursor,oe=R.viewItem;if(!N.isAtStart||!N.parent.is("element","$root")||!W.consumable.consume(oe,{name:!0}))return;const Te=W.writer,Oe=Te.createElement("title"),xe=Te.createElement("title-content");Te.append(xe,Oe),Te.insert(Oe,N),W.convertChildren(oe,xe),W.updateConversionResult(Oe,R)}function E(f){return(R,W)=>{const N=W.modelPosition.parent;if(!N.is("element","title"))return;const oe=N.parent,Te=W.mapper.toViewElement(oe);W.viewPosition=f.createPositionAt(Te,0),R.stop()}}function C(f){return f.is("element","title")}function S(f,R,W){const N=R.createElement("title");R.insert(N,f,"before"),R.insert(f,N,0),R.rename(f,"title-content"),W.schema.removeDisallowedAttributes([f],R)}function ne(f,R,W){let N=!1;for(const oe of f)oe.index!==0&&(U(oe,R,W),N=!0);return N}function U(f,R,W){const N=f.getChild(0);N.isEmpty?R.remove(f):(R.move(R.createRangeOn(N),f,"before"),R.rename(N,"paragraph"),R.remove(f),W.schema.removeDisallowedAttributes([N],R))}function D(f,R){return!(!f||!f.is("element","paragraph")||f.childCount)&&!(R.childCount<=2||R.getChild(R.childCount-1)!==f)}})(),(window.CKEditor5=window.CKEditor5||{}).heading=Yt})()},77606:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Wrap text":"Wrap text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={487:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=A},417:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const l=A},86:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const l=A},554:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}",""]);const l=A},823:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const l=A},968:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const l=A},151:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const l=A},651:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const l=A},582:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const l=A},283:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const l=A},915:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},945:(p,j,I)=>{p.exports=I(79)("./src/clipboard.js")},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},254:(p,j,I)=>{p.exports=I(79)("./src/undo.js")},448:(p,j,I)=>{p.exports=I(79)("./src/upload.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},995:(p,j,I)=>{p.exports=I(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{AutoImage:()=>J,Image:()=>kt,ImageBlock:()=>rt,ImageBlockEditing:()=>xe,ImageCaption:()=>de,ImageCaptionEditing:()=>mt,ImageCaptionUI:()=>qe,ImageCaptionUtils:()=>pt,ImageEditing:()=>Te,ImageInline:()=>st,ImageInsert:()=>li,ImageInsertUI:()=>ni,ImageInsertViaUrl:()=>ei,ImageResize:()=>Pe,ImageResizeButtons:()=>qi,ImageResizeEditing:()=>yi,ImageResizeHandles:()=>B,ImageStyle:()=>xn,ImageStyleEditing:()=>Ot,ImageStyleUI:()=>wi,ImageTextAlternative:()=>D,ImageTextAlternativeEditing:()=>le,ImageTextAlternativeUI:()=>U,ImageToolbar:()=>Xi,ImageUpload:()=>_e,ImageUploadEditing:()=>nt,ImageUploadProgress:()=>mi,ImageUploadUI:()=>Ve,ImageUtils:()=>h,PictureEditing:()=>ln});var p=ae(704),j=ae(945),I=ae(492),v=ae(254),A=ae(181),l=ae(209),c=ae(995);function L(It){return It.createContainerElement("figure",{class:"image"},[It.createEmptyElement("img"),It.createSlot("children")])}function z(It,te){const Ee=It.plugins.get("ImageUtils"),Ue=It.plugins.has("ImageInlineEditing")&&It.plugins.has("ImageBlockEditing");return dt=>Ee.isInlineImageView(dt)?Ue&&(dt.getStyle("display")=="block"||dt.findAncestor(Ee.isBlockImageView)?"imageBlock":"imageInline")!==te?null:$e(dt):null;function $e(dt){const gt={name:!0};return dt.hasAttribute("src")&&(gt.attributes=["src"]),gt}}function y(It,te){const Ee=(0,l.first)(te.getSelectedBlocks());return!Ee||It.isObject(Ee)||Ee.isEmpty&&Ee.name!="listItem"?"imageBlock":"imageInline"}class h extends p.Plugin{static get pluginName(){return"ImageUtils"}isImage(te){return this.isInlineImage(te)||this.isBlockImage(te)}isInlineImageView(te){return!!te&&te.is("element","img")}isBlockImageView(te){return!!te&&te.is("element","figure")&&te.hasClass("image")}insertImage(te={},Ee=null,Ue=null){const $e=this.editor,dt=$e.model,gt=dt.document.selection;Ue=V($e,Ee||gt,Ue),te={...Object.fromEntries(gt.getAttributes()),...te};for(const Nt in te)dt.schema.checkAttribute(Ue,Nt)||delete te[Nt];return dt.change(Nt=>{const Et=Nt.createElement(Ue,te);return dt.insertObject(Et,Ee,null,{setSelection:"on",findOptimalPosition:Ee||Ue=="imageInline"?void 0:"auto"}),Et.parent?Et:null})}getClosestSelectedImageWidget(te){const Ee=te.getFirstPosition();if(!Ee)return null;const Ue=te.getSelectedElement();if(Ue&&this.isImageWidget(Ue))return Ue;let $e=Ee.parent;for(;$e;){if($e.is("element")&&this.isImageWidget($e))return $e;$e=$e.parent}return null}getClosestSelectedImageElement(te){const Ee=te.getSelectedElement();return this.isImage(Ee)?Ee:te.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const te=this.editor.model.document.selection;return function(Ee,Ue){if(V(Ee,Ue,null)=="imageBlock"){const dt=function(gt,Nt){const Et=(0,c.findOptimalInsertionRange)(gt,Nt),Bt=Et.start.parent;return Bt.isEmpty&&!Bt.is("element","$root")?Bt.parent:Bt}(Ue,Ee.model);if(Ee.model.schema.checkChild(dt,"imageBlock"))return!0}else if(Ee.model.schema.checkChild(Ue.focus,"imageInline"))return!0;return!1}(this.editor,te)&&function(Ee){return[...Ee.focus.getAncestors()].every(Ue=>!Ue.is("element","imageBlock"))}(te)}toImageWidget(te,Ee,Ue){return Ee.setCustomProperty("image",!0,te),(0,c.toWidget)(te,Ee,{label:()=>{const $e=this.findViewImgElement(te).getAttribute("alt");return $e?`${$e} ${Ue}`:Ue}})}isImageWidget(te){return!!te.getCustomProperty("image")&&(0,c.isWidget)(te)}isBlockImage(te){return!!te&&te.is("element","imageBlock")}isInlineImage(te){return!!te&&te.is("element","imageInline")}findViewImgElement(te){if(this.isInlineImageView(te))return te;const Ee=this.editor.editing.view;for(const{item:Ue}of Ee.createRangeIn(te))if(this.isInlineImageView(Ue))return Ue}}function V(It,te,Ee){const Ue=It.model.schema,$e=It.config.get("image.insert.type");return It.plugins.has("ImageBlockEditing")?It.plugins.has("ImageInlineEditing")?Ee||($e==="inline"?"imageInline":$e==="block"?"imageBlock":te.is("selection")?y(Ue,te):Ue.checkChild(te,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const $=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class J extends p.Plugin{static get requires(){return[j.Clipboard,h,v.Undo,A.Delete]}static get pluginName(){return"AutoImage"}constructor(te){super(te),this._timeoutId=null,this._positionToInsert=null}init(){const te=this.editor,Ee=te.model.document,Ue=te.plugins.get("ClipboardPipeline");this.listenTo(Ue,"inputTransformation",()=>{const $e=Ee.selection.getFirstRange(),dt=I.LivePosition.fromPosition($e.start);dt.stickiness="toPrevious";const gt=I.LivePosition.fromPosition($e.end);gt.stickiness="toNext",Ee.once("change:data",()=>{this._embedImageBetweenPositions(dt,gt),dt.detach(),gt.detach()},{priority:"high"})}),te.commands.get("undo").on("execute",()=>{this._timeoutId&&(l.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(te,Ee){const Ue=this.editor,$e=new I.LiveRange(te,Ee),dt=$e.getWalker({ignoreElementEnd:!0}),gt=Object.fromEntries(Ue.model.document.selection.getAttributes()),Nt=this.editor.plugins.get("ImageUtils");let Et="";for(const Bt of dt)Bt.item.is("$textProxy")&&(Et+=Bt.item.data);Et=Et.trim(),Et.match($)?(this._positionToInsert=I.LivePosition.fromPosition(te),this._timeoutId=setTimeout(()=>{if(!Ue.commands.get("insertImage").isEnabled)return void $e.detach();Ue.model.change(Bt=>{let qt;this._timeoutId=null,Bt.remove($e),$e.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(qt=this._positionToInsert.toPosition()),Nt.insertImage({...gt,src:Et},qt),this._positionToInsert.detach(),this._positionToInsert=null}),Ue.plugins.get("Delete").requestUndoOnBackspace()},100)):$e.detach()}}class Y extends p.Command{refresh(){const te=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!te,this.isEnabled&&te.hasAttribute("alt")?this.value=te.getAttribute("alt"):this.value=!1}execute(te){const Ee=this.editor,Ue=Ee.plugins.get("ImageUtils"),$e=Ee.model,dt=Ue.getClosestSelectedImageElement($e.document.selection);$e.change(gt=>{gt.setAttribute("alt",te.newValue,dt)})}}class le extends p.Plugin{static get requires(){return[h]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Y(this.editor))}}var q=ae(273),d=ae(62),b=ae.n(d),_=ae(915),w={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(_.Z,w),_.Z.locals;var E=ae(487),C={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(E.Z,C),E.Z.locals;class S extends q.View{constructor(te){super(te);const Ee=this.locale.t;this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ee("Save"),p.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ee("Cancel"),p.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new q.ViewCollection,this._focusCycler=new q.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,q.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(te=>{this._focusables.add(te),this.focusTracker.add(te.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(te,Ee,Ue,$e){const dt=new q.ButtonView(this.locale);return dt.set({label:te,icon:Ee,tooltip:!0}),dt.extendTemplate({attributes:{class:Ue}}),$e&&dt.delegate("execute").to(this,$e),dt}_createLabeledInputView(){const te=this.locale.t,Ee=new q.LabeledFieldView(this.locale,q.createLabeledInputText);return Ee.label=te("Text alternative"),Ee}}function ne(It){const te=It.editing.view,Ee=q.BalloonPanelView.defaultPositions,Ue=It.plugins.get("ImageUtils");return{target:te.domConverter.mapViewToDom(Ue.getClosestSelectedImageWidget(te.document.selection)),positions:[Ee.northArrowSouth,Ee.northArrowSouthWest,Ee.northArrowSouthEast,Ee.southArrowNorth,Ee.southArrowNorthWest,Ee.southArrowNorthEast,Ee.viewportStickyNorth]}}class U extends p.Plugin{static get requires(){return[q.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const te=this.editor,Ee=te.t;te.ui.componentFactory.add("imageTextAlternative",Ue=>{const $e=te.commands.get("imageTextAlternative"),dt=new q.ButtonView(Ue);return dt.set({label:Ee("Change image text alternative"),icon:p.icons.lowVision,tooltip:!0}),dt.bind("isEnabled").to($e,"isEnabled"),dt.bind("isOn").to($e,"value",gt=>!!gt),this.listenTo(dt,"execute",()=>{this._showForm()}),dt})}_createForm(){const te=this.editor,Ee=te.editing.view.document,Ue=te.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,q.CssTransitionDisablerMixin)(S))(te.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{te.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",($e,dt)=>{this._hideForm(!0),dt()}),this.listenTo(te.ui,"update",()=>{Ue.getClosestSelectedImageWidget(Ee.selection)?this._isVisible&&function($e){const dt=$e.plugins.get("ContextualBalloon");if($e.plugins.get("ImageUtils").getClosestSelectedImageWidget($e.editing.view.document.selection)){const gt=ne($e);dt.updatePosition(gt)}}(te):this._hideForm(!0)}),(0,q.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const te=this.editor,Ee=te.commands.get("imageTextAlternative"),Ue=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:ne(te)}),Ue.fieldView.value=Ue.fieldView.element.value=Ee.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(te=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),te&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class D extends p.Plugin{static get requires(){return[le,U]}static get pluginName(){return"ImageTextAlternative"}}function f(It,te){const Ee=(Ue,$e,dt)=>{if(!dt.consumable.consume($e.item,Ue.name))return;const gt=dt.writer,Nt=dt.mapper.toViewElement($e.item),Et=It.findViewImgElement(Nt);if($e.attributeNewValue===null){const Bt=$e.attributeOldValue;Bt&&Bt.data&&(gt.removeAttribute("srcset",Et),gt.removeAttribute("sizes",Et),Bt.width&&gt.removeAttribute("width",Et))}else{const Bt=$e.attributeNewValue;Bt&&Bt.data&&(gt.setAttribute("srcset",Bt.data,Et),gt.setAttribute("sizes","100vw",Et),Bt.width&&gt.setAttribute("width",Bt.width,Et))}};return Ue=>{Ue.on(`attribute:srcset:${te}`,Ee)}}function R(It,te,Ee){const Ue=($e,dt,gt)=>{if(!gt.consumable.consume(dt.item,$e.name))return;const Nt=gt.writer,Et=gt.mapper.toViewElement(dt.item),Bt=It.findViewImgElement(Et);Nt.setAttribute(dt.attributeKey,dt.attributeNewValue||"",Bt)};return $e=>{$e.on(`attribute:${Ee}:${te}`,Ue)}}class W extends I.Observer{observe(te){this.listenTo(te,"load",(Ee,Ue)=>{const $e=Ue.target;this.checkShouldIgnoreEventFromTarget($e)||$e.tagName=="IMG"&&this._fireEvents(Ue)},{useCapture:!0})}stopObserving(te){this.stopListening(te)}_fireEvents(te){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",te))}}class N extends p.Command{constructor(te){super(te);const Ee=te.config.get("image.insert.type");te.plugins.has("ImageBlockEditing")||Ee==="block"&&(0,l.logWarning)("image-block-plugin-required"),te.plugins.has("ImageInlineEditing")||Ee==="inline"&&(0,l.logWarning)("image-inline-plugin-required")}refresh(){const te=this.editor.plugins.get("ImageUtils");this.isEnabled=te.isImageAllowed()}execute(te){const Ee=(0,l.toArray)(te.source),Ue=this.editor.model.document.selection,$e=this.editor.plugins.get("ImageUtils"),dt=Object.fromEntries(Ue.getAttributes());Ee.forEach((gt,Nt)=>{const Et=Ue.getSelectedElement();if(typeof gt=="string"&&(gt={src:gt}),Nt&&Et&&$e.isImage(Et)){const Bt=this.editor.model.createPositionAfter(Et);$e.insertImage({...gt,...dt},Bt)}else $e.insertImage({...gt,...dt})})}}class oe extends p.Command{refresh(){const te=this.editor.plugins.get("ImageUtils"),Ee=this.editor.model.document.selection.getSelectedElement();this.isEnabled=te.isImage(Ee),this.value=this.isEnabled?Ee.getAttribute("src"):null}execute(te){const Ee=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(Ue=>{Ue.setAttribute("src",te.source,Ee),Ue.removeAttribute("srcset",Ee),Ue.removeAttribute("sizes",Ee)})}}class Te extends p.Plugin{static get requires(){return[h]}static get pluginName(){return"ImageEditing"}init(){const te=this.editor,Ee=te.conversion;te.editing.view.addObserver(W),Ee.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:dt=>{const gt={data:dt.getAttribute("srcset")};return dt.hasAttribute("width")&&(gt.width=dt.getAttribute("width")),gt}}});const Ue=new N(te),$e=new oe(te);te.commands.add("insertImage",Ue),te.commands.add("replaceImageSource",$e),te.commands.add("imageInsert",Ue)}}class Oe extends p.Command{constructor(te,Ee){super(te),this._modelElementName=Ee}refresh(){const te=this.editor.plugins.get("ImageUtils"),Ee=te.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=te.isInlineImage(Ee):this.isEnabled=te.isBlockImage(Ee)}execute(){const te=this.editor,Ee=this.editor.model,Ue=te.plugins.get("ImageUtils"),$e=Ue.getClosestSelectedImageElement(Ee.document.selection),dt=Object.fromEntries($e.getAttributes());return dt.src||dt.uploadId?Ee.change(gt=>{const Nt=Array.from(Ee.markers).filter(qt=>qt.getRange().containsItem($e)),Et=Ue.insertImage(dt,Ee.createSelection($e,"on"),this._modelElementName);if(!Et)return null;const Bt=gt.createRangeOn(Et);for(const qt of Nt){const ai=qt.getRange(),ki=ai.root.rootName!="$graveyard"?ai.getJoined(Bt,!0):Bt;gt.updateMarker(qt,{range:ki})}return{oldElement:$e,newElement:Et}}):null}}class xe extends p.Plugin{static get requires(){return[Te,h,j.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const te=this.editor;te.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),te.plugins.has("ImageInlineEditing")&&(te.commands.add("imageTypeBlock",new Oe(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const te=this.editor,Ee=te.t,Ue=te.conversion,$e=te.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToStructure({model:"imageBlock",view:(dt,{writer:gt})=>L(gt)}),Ue.for("editingDowncast").elementToStructure({model:"imageBlock",view:(dt,{writer:gt})=>$e.toImageWidget(L(gt),gt,Ee("image widget"))}),Ue.for("downcast").add(R($e,"imageBlock","src")).add(R($e,"imageBlock","alt")).add(f($e,"imageBlock")),Ue.for("upcast").elementToElement({view:z(te,"imageBlock"),model:(dt,{writer:gt})=>gt.createElement("imageBlock",dt.hasAttribute("src")?{src:dt.getAttribute("src")}:void 0)}).add(function(dt){const gt=(Nt,Et,Bt)=>{if(!Bt.consumable.test(Et.viewItem,{name:!0,classes:"image"}))return;const qt=dt.findViewImgElement(Et.viewItem);if(!qt||!Bt.consumable.test(qt,{name:!0}))return;Bt.consumable.consume(Et.viewItem,{name:!0,classes:"image"});const ai=Bt.convertItem(qt,Et.modelCursor),ki=(0,l.first)(ai.modelRange.getItems());ki?(Bt.convertChildren(Et.viewItem,ki),Bt.updateConversionResult(ki,Et)):Bt.consumable.revert(Et.viewItem,{name:!0,classes:"image"})};return Nt=>{Nt.on("element:figure",gt)}}($e))}_setupClipboardIntegration(){const te=this.editor,Ee=te.model,Ue=te.editing.view,$e=te.plugins.get("ImageUtils"),dt=te.plugins.get("ClipboardPipeline");this.listenTo(dt,"inputTransformation",(gt,Nt)=>{const Et=Array.from(Nt.content.getChildren());let Bt;if(!Et.every($e.isInlineImageView))return;Bt=Nt.targetRanges?te.editing.mapper.toModelRange(Nt.targetRanges[0]):Ee.document.selection.getFirstRange();const qt=Ee.createSelection(Bt);if(y(Ee.schema,qt)==="imageBlock"){const ai=new I.UpcastWriter(Ue.document),ki=Et.map(hi=>ai.createElement("figure",{class:"image"},hi));Nt.content=ai.createDocumentFragment(ki)}})}}var Re=ae(417),lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(Re.Z,lt),Re.Z.locals;class rt extends p.Plugin{static get requires(){return[xe,c.Widget,D]}static get pluginName(){return"ImageBlock"}}class ct extends p.Plugin{static get requires(){return[Te,h,j.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const te=this.editor,Ee=te.model.schema;Ee.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Ee.addChildCheck((Ue,$e)=>{if(Ue.endsWith("caption")&&$e.name==="imageInline")return!1}),this._setupConversion(),te.plugins.has("ImageBlockEditing")&&(te.commands.add("imageTypeInline",new Oe(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const te=this.editor,Ee=te.t,Ue=te.conversion,$e=te.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToElement({model:"imageInline",view:(dt,{writer:gt})=>gt.createEmptyElement("img")}),Ue.for("editingDowncast").elementToStructure({model:"imageInline",view:(dt,{writer:gt})=>$e.toImageWidget(function(Nt){return Nt.createContainerElement("span",{class:"image-inline"},Nt.createEmptyElement("img"))}(gt),gt,Ee("image widget"))}),Ue.for("downcast").add(R($e,"imageInline","src")).add(R($e,"imageInline","alt")).add(f($e,"imageInline")),Ue.for("upcast").elementToElement({view:z(te,"imageInline"),model:(dt,{writer:gt})=>gt.createElement("imageInline",dt.hasAttribute("src")?{src:dt.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const te=this.editor,Ee=te.model,Ue=te.editing.view,$e=te.plugins.get("ImageUtils"),dt=te.plugins.get("ClipboardPipeline");this.listenTo(dt,"inputTransformation",(gt,Nt)=>{const Et=Array.from(Nt.content.getChildren());let Bt;if(!Et.every($e.isBlockImageView))return;Bt=Nt.targetRanges?te.editing.mapper.toModelRange(Nt.targetRanges[0]):Ee.document.selection.getFirstRange();const qt=Ee.createSelection(Bt);if(y(Ee.schema,qt)==="imageInline"){const ai=new I.UpcastWriter(Ue.document),ki=Et.map(hi=>hi.childCount===1?(Array.from(hi.getAttributes()).forEach(ri=>ai.setAttribute(...ri,$e.findViewImgElement(hi))),hi.getChild(0)):hi);Nt.content=ai.createDocumentFragment(ki)}})}}class st extends p.Plugin{static get requires(){return[ct,c.Widget,D]}static get pluginName(){return"ImageInline"}}class kt extends p.Plugin{static get requires(){return[rt,st]}static get pluginName(){return"Image"}}class pt extends p.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[h]}getCaptionFromImageModelElement(te){for(const Ee of te.getChildren())if(Ee&&Ee.is("element","caption"))return Ee;return null}getCaptionFromModelSelection(te){const Ee=this.editor.plugins.get("ImageUtils"),Ue=te.getFirstPosition().findAncestor("caption");return Ue&&Ee.isBlockImage(Ue.parent)?Ue:null}matchImageCaptionViewElement(te){const Ee=this.editor.plugins.get("ImageUtils");return te.name=="figcaption"&&Ee.isBlockImageView(te.parent)?{name:!0}:null}}class Ze extends p.Command{refresh(){const te=this.editor,Ee=te.plugins.get("ImageCaptionUtils"),Ue=te.plugins.get("ImageUtils");if(!te.plugins.has(xe))return this.isEnabled=!1,void(this.value=!1);const $e=te.model.document.selection,dt=$e.getSelectedElement();if(!dt){const gt=Ee.getCaptionFromModelSelection($e);return this.isEnabled=!!gt,void(this.value=!!gt)}this.isEnabled=Ue.isImage(dt),this.isEnabled?this.value=!!Ee.getCaptionFromImageModelElement(dt):this.value=!1}execute(te={}){const{focusCaptionOnShow:Ee}=te;this.editor.model.change(Ue=>{this.value?this._hideImageCaption(Ue):this._showImageCaption(Ue,Ee)})}_showImageCaption(te,Ee){const Ue=this.editor.model.document.selection,$e=this.editor.plugins.get("ImageCaptionEditing"),dt=this.editor.plugins.get("ImageUtils");let gt=Ue.getSelectedElement();const Nt=$e._getSavedCaption(gt);dt.isInlineImage(gt)&&(this.editor.execute("imageTypeBlock"),gt=Ue.getSelectedElement());const Et=Nt||te.createElement("caption");te.append(Et,gt),Ee&&te.setSelection(Et,"in")}_hideImageCaption(te){const Ee=this.editor,Ue=Ee.model.document.selection,$e=Ee.plugins.get("ImageCaptionEditing"),dt=Ee.plugins.get("ImageCaptionUtils");let gt,Nt=Ue.getSelectedElement();Nt?gt=dt.getCaptionFromImageModelElement(Nt):(gt=dt.getCaptionFromModelSelection(Ue),Nt=gt.parent),$e._saveCaption(Nt,gt),te.setSelection(Nt,"on"),te.remove(gt)}}class mt extends p.Plugin{static get requires(){return[h,pt]}static get pluginName(){return"ImageCaptionEditing"}constructor(te){super(te),this._savedCaptionsMap=new WeakMap}init(){const te=this.editor,Ee=te.model.schema;Ee.isRegistered("caption")?Ee.extend("caption",{allowIn:"imageBlock"}):Ee.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),te.commands.add("toggleImageCaption",new Ze(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const te=this.editor,Ee=te.editing.view,Ue=te.plugins.get("ImageUtils"),$e=te.plugins.get("ImageCaptionUtils"),dt=te.t;te.conversion.for("upcast").elementToElement({view:gt=>$e.matchImageCaptionViewElement(gt),model:"caption"}),te.conversion.for("dataDowncast").elementToElement({model:"caption",view:(gt,{writer:Nt})=>Ue.isBlockImage(gt.parent)?Nt.createContainerElement("figcaption"):null}),te.conversion.for("editingDowncast").elementToElement({model:"caption",view:(gt,{writer:Nt})=>{if(!Ue.isBlockImage(gt.parent))return null;const Et=Nt.createEditableElement("figcaption");Nt.setCustomProperty("imageCaption",!0,Et),Et.placeholder=dt("Enter image caption"),(0,I.enablePlaceholder)({view:Ee,element:Et,keepOnFocus:!0});const Bt=gt.parent.getAttribute("alt"),qt=Bt?dt("Caption for image: %0",[Bt]):dt("Caption for the image");return(0,c.toWidgetEditable)(Et,Nt,{label:qt})}})}_setupImageTypeCommandsIntegration(){const te=this.editor,Ee=te.plugins.get("ImageUtils"),Ue=te.plugins.get("ImageCaptionUtils"),$e=te.commands.get("imageTypeInline"),dt=te.commands.get("imageTypeBlock"),gt=Nt=>{if(!Nt.return)return;const{oldElement:Et,newElement:Bt}=Nt.return;if(!Et)return;if(Ee.isBlockImage(Et)){const ai=Ue.getCaptionFromImageModelElement(Et);if(ai)return void this._saveCaption(Bt,ai)}const qt=this._getSavedCaption(Et);qt&&this._saveCaption(Bt,qt)};$e&&this.listenTo($e,"execute",gt,{priority:"low"}),dt&&this.listenTo(dt,"execute",gt,{priority:"low"})}_getSavedCaption(te){const Ee=this._savedCaptionsMap.get(te);return Ee?I.Element.fromJSON(Ee):null}_saveCaption(te,Ee){this._savedCaptionsMap.set(te,Ee.toJSON())}_registerCaptionReconversion(){const te=this.editor,Ee=te.model,Ue=te.plugins.get("ImageUtils"),$e=te.plugins.get("ImageCaptionUtils");Ee.document.on("change:data",()=>{const dt=Ee.document.differ.getChanges();for(const gt of dt){if(gt.attributeKey!=="alt")continue;const Nt=gt.range.start.nodeAfter;if(Ue.isBlockImage(Nt)){const Et=$e.getCaptionFromImageModelElement(Nt);if(!Et)return;te.editing.reconvertItem(Et)}}})}}class qe extends p.Plugin{static get requires(){return[pt]}static get pluginName(){return"ImageCaptionUI"}init(){const te=this.editor,Ee=te.editing.view,Ue=te.plugins.get("ImageCaptionUtils"),$e=te.t;te.ui.componentFactory.add("toggleImageCaption",dt=>{const gt=te.commands.get("toggleImageCaption"),Nt=new q.ButtonView(dt);return Nt.set({icon:p.icons.caption,tooltip:!0,isToggleable:!0}),Nt.bind("isOn","isEnabled").to(gt,"value","isEnabled"),Nt.bind("label").to(gt,"value",Et=>$e(Et?"Toggle caption off":"Toggle caption on")),this.listenTo(Nt,"execute",()=>{te.execute("toggleImageCaption",{focusCaptionOnShow:!0});const Et=Ue.getCaptionFromModelSelection(te.model.document.selection);if(Et){const Bt=te.editing.mapper.toViewElement(Et);Ee.scrollToTheSelection(),Ee.change(qt=>{qt.addClass("image__caption_highlighted",Bt)})}te.editing.view.focus()}),Nt})}}var et=ae(86),Q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(et.Z,Q),et.Z.locals;class de extends p.Plugin{static get requires(){return[mt,qe]}static get pluginName(){return"ImageCaption"}}var we=ae(448);function Be(It){const te=It.map(Ee=>Ee.replace("+","\\+"));return new RegExp(`^image\\/(${te.join("|")})$`)}function Ge(It){return new Promise((te,Ee)=>{const Ue=It.getAttribute("src");fetch(Ue).then($e=>$e.blob()).then($e=>{const dt=Fe($e,Ue),gt=dt.replace("image/",""),Nt=new File([$e],`image.${gt}`,{type:dt});te(Nt)}).catch($e=>$e&&$e.name==="TypeError"?function(dt){return function(gt){return new Promise((Nt,Et)=>{const Bt=l.global.document.createElement("img");Bt.addEventListener("load",()=>{const qt=l.global.document.createElement("canvas");qt.width=Bt.width,qt.height=Bt.height,qt.getContext("2d").drawImage(Bt,0,0),qt.toBlob(ai=>ai?Nt(ai):Et())}),Bt.addEventListener("error",()=>Et()),Bt.src=gt})}(dt).then(gt=>{const Nt=Fe(gt,dt),Et=Nt.replace("image/","");return new File([gt],`image.${Et}`,{type:Nt})})}(Ue).then(te).catch(Ee):Ee($e))})}function Fe(It,te){return It.type?It.type:te.match(/data:(image\/\w+);base64/)?te.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Ve extends p.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const te=this.editor,Ee=te.t,Ue=$e=>{const dt=new we.FileDialogButtonView($e),gt=te.commands.get("uploadImage"),Nt=te.config.get("image.upload.types"),Et=Be(Nt);return dt.set({acceptedType:Nt.map(Bt=>`image/${Bt}`).join(","),allowMultipleFiles:!0}),dt.buttonView.set({label:Ee("Insert image"),icon:p.icons.image,tooltip:!0}),dt.buttonView.bind("isEnabled").to(gt),dt.on("done",(Bt,qt)=>{const ai=Array.from(qt).filter(ki=>Et.test(ki.type));ai.length&&(te.execute("uploadImage",{file:ai}),te.editing.view.focus())}),dt};te.ui.componentFactory.add("uploadImage",Ue),te.ui.componentFactory.add("imageUpload",Ue)}}var ut=ae(283),St={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(ut.Z,St),ut.Z.locals;var Lt=ae(651),Qt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(Lt.Z,Qt),Lt.Z.locals;var yt=ae(582),Tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(yt.Z,Tt),yt.Z.locals;class mi extends p.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(te){super(te),this.uploadStatusChange=(Ee,Ue,$e)=>{const dt=this.editor,gt=Ue.item,Nt=gt.getAttribute("uploadId");if(!$e.consumable.consume(Ue.item,Ee.name))return;const Et=dt.plugins.get("ImageUtils"),Bt=dt.plugins.get(we.FileRepository),qt=Nt?Ue.attributeNewValue:null,ai=this.placeholder,ki=dt.editing.mapper.toViewElement(gt),hi=$e.writer;if(qt=="reading")return pi(ki,hi),void Li(Et,ai,ki,hi);if(qt=="uploading"){const ri=Bt.loaders.get(Nt);return pi(ki,hi),void(ri?(Ei(ki,hi),function(Ii,Di,bn,yn){const Rn=function(Un){const Nn=Un.createUIElement("div",{class:"ck-progress-bar"});return Un.setCustomProperty("progressBar",!0,Nn),Nn}(Di);Di.insert(Di.createPositionAt(Ii,"end"),Rn),bn.on("change:uploadedPercent",(Un,Nn,jn)=>{yn.change(Sn=>{Sn.setStyle("width",jn+"%",Rn)})})}(ki,hi,ri,dt.editing.view),function(Ii,Di,bn,yn){if(yn.data){const Rn=Ii.findViewImgElement(Di);bn.setAttribute("src",yn.data,Rn)}}(Et,ki,hi,ri)):Li(Et,ai,ki,hi))}qt=="complete"&&Bt.loaders.get(Nt)&&function(ri,Ii,Di){const bn=Ii.createUIElement("div",{class:"ck-image-upload-complete-icon"});Ii.insert(Ii.createPositionAt(ri,"end"),bn),setTimeout(()=>{Di.change(yn=>yn.remove(yn.createRangeOn(bn)))},3e3)}(ki,hi,dt.editing.view),function(ri,Ii){xi(ri,Ii,"progressBar")}(ki,hi),Ei(ki,hi),function(ri,Ii){Ii.removeClass("ck-appear",ri)}(ki,hi)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const te=this.editor;te.plugins.has("ImageBlockEditing")&&te.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),te.plugins.has("ImageInlineEditing")&&te.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function pi(It,te){It.hasClass("ck-appear")||te.addClass("ck-appear",It)}function Li(It,te,Ee,Ue){Ee.hasClass("ck-image-upload-placeholder")||Ue.addClass("ck-image-upload-placeholder",Ee);const $e=It.findViewImgElement(Ee);$e.getAttribute("src")!==te&&Ue.setAttribute("src",te,$e),Ni(Ee,"placeholder")||Ue.insert(Ue.createPositionAfter($e),function(dt){const gt=dt.createUIElement("div",{class:"ck-upload-placeholder-loader"});return dt.setCustomProperty("placeholder",!0,gt),gt}(Ue))}function Ei(It,te){It.hasClass("ck-image-upload-placeholder")&&te.removeClass("ck-image-upload-placeholder",It),xi(It,te,"placeholder")}function Ni(It,te){for(const Ee of It.getChildren())if(Ee.getCustomProperty(te))return Ee}function xi(It,te,Ee){const Ue=Ni(It,Ee);Ue&&te.remove(te.createRangeOn(Ue))}class Bi extends p.Command{refresh(){const te=this.editor,Ee=te.plugins.get("ImageUtils"),Ue=te.model.document.selection.getSelectedElement();this.isEnabled=Ee.isImageAllowed()||Ee.isImage(Ue)}execute(te){const Ee=(0,l.toArray)(te.file),Ue=this.editor.model.document.selection,$e=this.editor.plugins.get("ImageUtils"),dt=Object.fromEntries(Ue.getAttributes());Ee.forEach((gt,Nt)=>{const Et=Ue.getSelectedElement();if(Nt&&Et&&$e.isImage(Et)){const Bt=this.editor.model.createPositionAfter(Et);this._uploadImage(gt,dt,Bt)}else this._uploadImage(gt,dt)})}_uploadImage(te,Ee,Ue){const $e=this.editor,dt=$e.plugins.get(we.FileRepository).createLoader(te),gt=$e.plugins.get("ImageUtils");dt&&gt.insertImage({...Ee,uploadId:dt.id},Ue)}}class nt extends p.Plugin{static get requires(){return[we.FileRepository,q.Notification,j.ClipboardPipeline,h]}static get pluginName(){return"ImageUploadEditing"}constructor(te){super(te),te.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const te=this.editor,Ee=te.model.document,Ue=te.conversion,$e=te.plugins.get(we.FileRepository),dt=te.plugins.get("ImageUtils"),gt=te.plugins.get("ClipboardPipeline"),Nt=Be(te.config.get("image.upload.types")),Et=new Bi(te);te.commands.add("uploadImage",Et),te.commands.add("imageUpload",Et),Ue.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(te.editing.view.document,"clipboardInput",(Bt,qt)=>{if(ai=qt.dataTransfer,Array.from(ai.types).includes("text/html")&&ai.getData("text/html")!=="")return;var ai;const ki=Array.from(qt.dataTransfer.files).filter(hi=>!!hi&&Nt.test(hi.type));ki.length&&(Bt.stop(),te.model.change(hi=>{qt.targetRanges&&hi.setSelection(qt.targetRanges.map(ri=>te.editing.mapper.toModelRange(ri))),te.model.enqueueChange(()=>{te.execute("uploadImage",{file:ki})})}))}),this.listenTo(gt,"inputTransformation",(Bt,qt)=>{const ai=Array.from(te.editing.view.createRangeIn(qt.content)).map(hi=>hi.item).filter(hi=>function(ri,Ii){return!(!ri.isInlineImageView(Ii)||!Ii.getAttribute("src")||!Ii.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Ii.getAttribute("src").match(/^blob:/g))}(dt,hi)&&!hi.getAttribute("uploadProcessed")).map(hi=>({promise:Ge(hi),imageElement:hi}));if(!ai.length)return;const ki=new I.UpcastWriter(te.editing.view.document);for(const hi of ai){ki.setAttribute("uploadProcessed",!0,hi.imageElement);const ri=$e.createLoader(hi.promise);ri&&(ki.setAttribute("src","",hi.imageElement),ki.setAttribute("uploadId",ri.id,hi.imageElement))}}),te.editing.view.document.on("dragover",(Bt,qt)=>{qt.preventDefault()}),Ee.on("change",()=>{const Bt=Ee.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),qt=new Set;for(const ai of Bt)if(ai.type=="insert"&&ai.name!="$text"){const ki=ai.position.nodeAfter,hi=ai.position.root.rootName=="$graveyard";for(const ri of ue(te,ki)){const Ii=ri.getAttribute("uploadId");if(!Ii)continue;const Di=$e.loaders.get(Ii);Di&&(hi?qt.has(Ii)||Di.abort():(qt.add(Ii),this._uploadImageElements.set(Ii,ri),Di.status=="idle"&&this._readAndUpload(Di)))}}}),this.on("uploadComplete",(Bt,{imageElement:qt,data:ai})=>{const ki=ai.urls?ai.urls:ai;this.editor.model.change(hi=>{hi.setAttribute("src",ki.default,qt),this._parseAndSetSrcsetAttributeOnImage(ki,qt,hi)})},{priority:"low"})}afterInit(){const te=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&te.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&te.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(te){const Ee=this.editor,Ue=Ee.model,$e=Ee.locale.t,dt=Ee.plugins.get(we.FileRepository),gt=Ee.plugins.get(q.Notification),Nt=Ee.plugins.get("ImageUtils"),Et=this._uploadImageElements;return Ue.enqueueChange({isUndoable:!1},qt=>{qt.setAttribute("uploadStatus","reading",Et.get(te.id))}),te.read().then(()=>{const qt=te.upload(),ai=Et.get(te.id);if(l.env.isSafari){const ki=Ee.editing.mapper.toViewElement(ai),hi=Nt.findViewImgElement(ki);Ee.editing.view.once("render",()=>{if(!hi.parent)return;const ri=Ee.editing.view.domConverter.mapViewToDom(hi.parent);if(!ri)return;const Ii=ri.style.display;ri.style.display="none",ri._ckHack=ri.offsetHeight,ri.style.display=Ii})}return Ue.enqueueChange({isUndoable:!1},ki=>{ki.setAttribute("uploadStatus","uploading",ai)}),qt}).then(qt=>{Ue.enqueueChange({isUndoable:!1},ai=>{const ki=Et.get(te.id);ai.setAttribute("uploadStatus","complete",ki),this.fire("uploadComplete",{data:qt,imageElement:ki})}),Bt()}).catch(qt=>{if(te.status!=="error"&&te.status!=="aborted")throw qt;te.status=="error"&&qt&&gt.showWarning(qt,{title:$e("Upload failed"),namespace:"upload"}),Ue.enqueueChange({isUndoable:!1},ai=>{ai.remove(Et.get(te.id))}),Bt()});function Bt(){Ue.enqueueChange({isUndoable:!1},qt=>{const ai=Et.get(te.id);qt.removeAttribute("uploadId",ai),qt.removeAttribute("uploadStatus",ai),Et.delete(te.id)}),dt.destroyLoader(te)}}_parseAndSetSrcsetAttributeOnImage(te,Ee,Ue){let $e=0;const dt=Object.keys(te).filter(gt=>{const Nt=parseInt(gt,10);if(!isNaN(Nt))return $e=Math.max($e,Nt),!0}).map(gt=>`${te[gt]} ${gt}w`).join(", ");dt!=""&&Ue.setAttribute("srcset",{data:dt,width:$e},Ee)}}function ue(It,te){const Ee=It.plugins.get("ImageUtils");return Array.from(It.model.createRangeOn(te)).filter(Ue=>Ee.isImage(Ue.item)).map(Ue=>Ue.item)}class _e extends p.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[nt,Ve,mi]}}var Ie=ae(823),We={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(Ie.Z,We),Ie.Z.locals;class tt extends q.View{constructor(te,Ee={}){super(te);const Ue=this.bindTemplate;this.set("class",Ee.class||null),this.children=this.createCollection(),Ee.children&&Ee.children.forEach($e=>this.children.add($e)),this.set("_role",null),this.set("_ariaLabelledBy",null),Ee.labelView&&this.set({_role:"group",_ariaLabelledBy:Ee.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",Ue.to("class")],role:Ue.to("_role"),"aria-labelledby":Ue.to("_ariaLabelledBy")},children:this.children})}}var bt=ae(554),At={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(bt.Z,At),bt.Z.locals;class xt extends q.View{constructor(te,Ee={}){super(te);const{insertButtonView:Ue,cancelButtonView:$e}=this._createActionButtons(te);this.insertButtonView=Ue,this.cancelButtonView=$e,this.set("imageURLInputValue",""),this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this._focusables=new q.ViewCollection,this._focusCycler=new q.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new l.Collection);for(const[dt,gt]of Object.entries(Ee))dt==="insertImageViaUrl"&&(gt.fieldView.bind("value").to(this,"imageURLInputValue",Nt=>Nt||""),gt.fieldView.on("input",()=>{this.imageURLInputValue=gt.fieldView.element.value.trim()})),gt.name=dt,this._integrations.add(gt);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new tt(te,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),(0,q.submitHandler)({view:this}),[...this._integrations,this.insertButtonView,this.cancelButtonView].forEach(Ee=>{this._focusables.add(Ee),this.focusTracker.add(Ee.element)}),this.keystrokes.listenTo(this.element);const te=Ee=>Ee.stopPropagation();this.keystrokes.set("arrowright",te),this.keystrokes.set("arrowleft",te),this.keystrokes.set("arrowup",te),this.keystrokes.set("arrowdown",te)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(te){return this._integrations.find(Ee=>Ee.name===te)}_createActionButtons(te){const Ee=te.t,Ue=new q.ButtonView(te),$e=new q.ButtonView(te);return Ue.set({label:Ee("Insert"),icon:p.icons.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),$e.set({label:Ee("Cancel"),icon:p.icons.cancel,class:"ck-button-cancel",withText:!0}),Ue.bind("isEnabled").to(this,"imageURLInputValue",dt=>!!dt),Ue.delegate("execute").to(this,"submit"),$e.delegate("execute").to(this,"cancel"),{insertButtonView:Ue,cancelButtonView:$e}}focus(){this._focusCycler.focusFirst()}}function Kt(It){const te=It.t,Ee=new q.LabeledFieldView(It,q.createLabeledInputText);return Ee.set({label:te("Insert image via URL")}),Ee.fieldView.placeholder="https://example.com/image.png",Ee}class ni extends p.Plugin{static get pluginName(){return"ImageInsertUI"}init(){const te=this.editor,Ee=Ue=>this._createDropdownView(Ue);te.ui.componentFactory.add("insertImage",Ee),te.ui.componentFactory.add("imageInsert",Ee)}_createDropdownView(te){const Ee=this.editor,Ue=te.t,$e=Ee.commands.get("uploadImage"),dt=Ee.commands.get("insertImage");this.dropdownView=(0,q.createDropdown)(te,$e?q.SplitButtonView:void 0);const gt=this.dropdownView.buttonView,Nt=this.dropdownView.panelView;if(gt.set({label:Ue("Insert image"),icon:p.icons.image,tooltip:!0}),Nt.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),$e){const Et=this.dropdownView.buttonView;Et.actionView=Ee.ui.componentFactory.create("uploadImage"),Et.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown($e||dt)}_setUpDropdown(te){const Ee=this.editor,Ue=Ee.t,$e=this.dropdownView,dt=$e.panelView,gt=this.editor.plugins.get("ImageUtils"),Nt=Ee.commands.get("replaceImageSource");let Et;function Bt(){Ee.editing.view.focus(),$e.isOpen=!1}return $e.bind("isEnabled").to(te),$e.once("change:isOpen",()=>{Et=new xt(Ee.locale,function(qt){const ai=qt.config.get("image.insert.integrations"),ki=qt.plugins.get("ImageInsertUI"),hi={insertImageViaUrl:Kt(qt.locale)};if(!ai)return hi;if(ai.find(ri=>ri==="openCKFinder")&&qt.ui.componentFactory.has("ckfinder")){const ri=qt.ui.componentFactory.create("ckfinder");ri.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),ri.delegate("execute").to(ki,"cancel"),hi.openCKFinder=ri}return ai.reduce((ri,Ii)=>(hi[Ii]?ri[Ii]=hi[Ii]:qt.ui.componentFactory.has(Ii)&&(ri[Ii]=qt.ui.componentFactory.create(Ii)),ri),{})}(Ee)),Et.delegate("submit","cancel").to($e),dt.children.add(Et)}),$e.on("change:isOpen",()=>{const qt=Ee.model.document.selection.getSelectedElement(),ai=Et.insertButtonView,ki=Et.getIntegration("insertImageViaUrl");$e.isOpen&&(gt.isImage(qt)?(Et.imageURLInputValue=Nt.value,ai.label=Ue("Update"),ki.label=Ue("Update image URL")):(Et.imageURLInputValue="",ai.label=Ue("Insert"),ki.label=Ue("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to($e),$e.on("submit",()=>{Bt(),function(){const qt=Ee.model.document.selection.getSelectedElement();gt.isImage(qt)?Ee.execute("replaceImageSource",{source:Et.imageURLInputValue}):Ee.execute("insertImage",{source:Et.imageURLInputValue})}()}),$e.on("cancel",()=>{Bt()}),$e}}class ei extends p.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[ni]}}class li extends p.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[_e,ei,ni]}}class Ci extends p.Command{refresh(){const te=this.editor,Ee=te.plugins.get("ImageUtils").getClosestSelectedImageElement(te.model.document.selection);this.isEnabled=!!Ee,Ee&&Ee.hasAttribute("width")?this.value={width:Ee.getAttribute("width"),height:null}:this.value=null}execute(te){const Ee=this.editor,Ue=Ee.model,$e=Ee.plugins.get("ImageUtils").getClosestSelectedImageElement(Ue.document.selection);this.value={width:te.width,height:null},$e&&Ue.change(dt=>{dt.setAttribute("width",te.width,$e)})}}class yi extends p.Plugin{static get requires(){return[h]}static get pluginName(){return"ImageResizeEditing"}constructor(te){super(te),te.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const te=this.editor,Ee=new Ci(te);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),te.commands.add("resizeImage",Ee),te.commands.add("imageResize",Ee)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(te){const Ee=this.editor;Ee.conversion.for("downcast").add(Ue=>Ue.on(`attribute:width:${te}`,($e,dt,gt)=>{if(!gt.consumable.consume(dt.item,$e.name))return;const Nt=gt.writer,Et=gt.mapper.toViewElement(dt.item);dt.attributeNewValue!==null?(Nt.setStyle("width",dt.attributeNewValue,Et),Nt.addClass("image_resized",Et)):(Nt.removeStyle("width",Et),Nt.removeClass("image_resized",Et))})),Ee.conversion.for("upcast").attributeToAttribute({view:{name:te==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:Ue=>Ue.getStyle("width")}})}}const Ri={small:p.icons.objectSizeSmall,medium:p.icons.objectSizeMedium,large:p.icons.objectSizeLarge,original:p.icons.objectSizeFull};class qi extends p.Plugin{static get requires(){return[yi]}static get pluginName(){return"ImageResizeButtons"}constructor(te){super(te),this._resizeUnit=te.config.get("image.resizeUnit")}init(){const te=this.editor,Ee=te.config.get("image.resizeOptions"),Ue=te.commands.get("resizeImage");this.bind("isEnabled").to(Ue);for(const $e of Ee)this._registerImageResizeButton($e);this._registerImageResizeDropdown(Ee)}_registerImageResizeButton(te){const Ee=this.editor,{name:Ue,value:$e,icon:dt}=te,gt=$e?$e+this._resizeUnit:null;Ee.ui.componentFactory.add(Ue,Nt=>{const Et=new q.ButtonView(Nt),Bt=Ee.commands.get("resizeImage"),qt=this._getOptionLabelValue(te,!0);if(!Ri[dt])throw new l.CKEditorError("imageresizebuttons-missing-icon",Ee,te);return Et.set({label:qt,icon:Ri[dt],tooltip:qt,isToggleable:!0}),Et.bind("isEnabled").to(this),Et.bind("isOn").to(Bt,"value",Ui(gt)),this.listenTo(Et,"execute",()=>{Ee.execute("resizeImage",{width:gt})}),Et})}_registerImageResizeDropdown(te){const Ee=this.editor,Ue=Ee.t,$e=te.find(gt=>!gt.value),dt=gt=>{const Nt=Ee.commands.get("resizeImage"),Et=(0,q.createDropdown)(gt,q.DropdownButtonView),Bt=Et.buttonView,qt=Ue("Resize image");return Bt.set({tooltip:qt,commandValue:$e.value,icon:Ri.medium,isToggleable:!0,label:this._getOptionLabelValue($e),withText:!0,class:"ck-resize-image-button",ariaLabel:qt,ariaLabelledBy:void 0}),Bt.bind("label").to(Nt,"value",ai=>ai&&ai.width?ai.width:this._getOptionLabelValue($e)),Et.bind("isEnabled").to(this),(0,q.addListToDropdown)(Et,()=>this._getResizeDropdownListItemDefinitions(te,Nt),{ariaLabel:Ue("Image resize list"),role:"menu"}),this.listenTo(Et,"execute",ai=>{Ee.execute(ai.source.commandName,{width:ai.source.commandValue}),Ee.editing.view.focus()}),Et};Ee.ui.componentFactory.add("resizeImage",dt),Ee.ui.componentFactory.add("imageResize",dt)}_getOptionLabelValue(te,Ee=!1){const Ue=this.editor.t;return te.label?te.label:Ee?te.value?Ue("Resize image to %0",te.value+this._resizeUnit):Ue("Resize image to the original size"):te.value?te.value+this._resizeUnit:Ue("Original")}_getResizeDropdownListItemDefinitions(te,Ee){const Ue=new l.Collection;return te.map($e=>{const dt=$e.value?$e.value+this._resizeUnit:null,gt={type:"button",model:new q.Model({commandName:"resizeImage",commandValue:dt,label:this._getOptionLabelValue($e),role:"menuitemradio",withText:!0,icon:null})};gt.model.bind("isOn").to(Ee,"value",Ui(dt)),Ue.add(gt)}),Ue}}function Ui(It){return te=>It===null&&te===It||te!==null&&te.width===It}const ji=/(image|image-inline)/,he="image_resized";class B extends p.Plugin{static get requires(){return[c.WidgetResize]}static get pluginName(){return"ImageResizeHandles"}init(){const te=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(te),this._setupResizerCreator()}_setupResizerCreator(){const te=this.editor,Ee=te.editing.view;Ee.addObserver(W),this.listenTo(Ee.document,"imageLoaded",(Ue,$e)=>{if(!$e.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const dt=te.editing.view.domConverter,gt=dt.domToView($e.target).findAncestor({classes:ji});let Nt=this.editor.plugins.get(c.WidgetResize).getResizerByViewElement(gt);if(Nt)return void Nt.redraw();const Et=te.editing.mapper,Bt=Et.toModelElement(gt);Nt=te.plugins.get(c.WidgetResize).attachTo({unit:te.config.get("image.resizeUnit"),modelElement:Bt,viewElement:gt,editor:te,getHandleHost:qt=>qt.querySelector("img"),getResizeHost:()=>dt.mapViewToDom(Et.toViewElement(Bt.parent)),isCentered(){const qt=Bt.getAttribute("imageStyle");return!qt||qt=="block"||qt=="alignCenter"},onCommit(qt){Ee.change(ai=>{ai.removeClass(he,gt)}),te.execute("resizeImage",{width:qt})}}),Nt.on("updateSize",()=>{gt.hasClass(he)||Ee.change(qt=>{qt.addClass(he,gt)})}),Nt.bind("isEnabled").to(this)})}}var ee=ae(968),se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(ee.Z,se),ee.Z.locals;class Pe extends p.Plugin{static get requires(){return[yi,B,qi]}static get pluginName(){return"ImageResize"}}class Ct extends p.Command{constructor(te,Ee){super(te),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Ee.map(Ue=>{if(Ue.isDefault)for(const $e of Ue.modelElements)this._defaultStyles[$e]=Ue.name;return[Ue.name,Ue]}))}refresh(){const te=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!te,this.isEnabled?te.hasAttribute("imageStyle")?this.value=te.getAttribute("imageStyle"):this.value=this._defaultStyles[te.name]:this.value=!1}execute(te={}){const Ee=this.editor,Ue=Ee.model,$e=Ee.plugins.get("ImageUtils");Ue.change(dt=>{const gt=te.value;let Nt=$e.getClosestSelectedImageElement(Ue.document.selection);gt&&this.shouldConvertImageType(gt,Nt)&&(this.editor.execute($e.isBlockImage(Nt)?"imageTypeInline":"imageTypeBlock"),Nt=$e.getClosestSelectedImageElement(Ue.document.selection)),!gt||this._styles.get(gt).isDefault?dt.removeAttribute("imageStyle",Nt):dt.setAttribute("imageStyle",gt,Nt)})}shouldConvertImageType(te,Ee){return!this._styles.get(te).modelElements.includes(Ee.name)}}const{objectFullWidth:Ht,objectInline:wt,objectLeft:zt,objectRight:fi,objectCenter:gi,objectBlockLeft:Oi,objectBlockRight:Ti}=p.icons,Yi={get inline(){return{name:"inline",title:"In line",icon:wt,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:zt,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Oi,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:gi,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:fi,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Ti,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:gi,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:fi,modelElements:["imageBlock"],className:"image-style-side"}}},Ut={full:Ht,left:Oi,right:Ti,center:gi,inlineLeft:zt,inlineRight:fi,inline:wt},Ae=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Ye(It){(0,l.logWarning)("image-style-configuration-definition-invalid",It)}const it={normalizeStyles:function(It){return(It.configuredStyles.options||[]).map(te=>function(Ee){return Ee=typeof Ee=="string"?Yi[Ee]?{...Yi[Ee]}:{name:Ee}:function(Ue,$e){const dt={...$e};for(const gt in Ue)Object.prototype.hasOwnProperty.call($e,gt)||(dt[gt]=Ue[gt]);return dt}(Yi[Ee.name],Ee),typeof Ee.icon=="string"&&(Ee.icon=Ut[Ee.icon]||Ee.icon),Ee}(te)).filter(te=>function(Ee,{isBlockPluginLoaded:Ue,isInlinePluginLoaded:$e}){const{modelElements:dt,name:gt}=Ee;if(!(dt&&dt.length&&gt))return Ye({style:Ee}),!1;{const Nt=[Ue?"imageBlock":null,$e?"imageInline":null];if(!dt.some(Et=>Nt.includes(Et)))return(0,l.logWarning)("image-style-missing-dependency",{style:Ee,missingPlugins:dt.map(Et=>Et==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(te,It))},getDefaultStylesConfiguration:function(It,te){return It&&te?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:It?{options:["block","side"]}:te?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(It){return It.has("ImageBlockEditing")&&It.has("ImageInlineEditing")?[...Ae]:[]},warnInvalidStyle:Ye,DEFAULT_OPTIONS:Yi,DEFAULT_ICONS:Ut,DEFAULT_DROPDOWN_DEFINITIONS:Ae};function ht(It,te){for(const Ee of te)if(Ee.name===It)return Ee}class Ot extends p.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[h]}init(){const{normalizeStyles:te,getDefaultStylesConfiguration:Ee}=it,Ue=this.editor,$e=Ue.plugins.has("ImageBlockEditing"),dt=Ue.plugins.has("ImageInlineEditing");Ue.config.define("image.styles",Ee($e,dt)),this.normalizedStyles=te({configuredStyles:Ue.config.get("image.styles"),isBlockPluginLoaded:$e,isInlinePluginLoaded:dt}),this._setupConversion($e,dt),this._setupPostFixer(),Ue.commands.add("imageStyle",new Ct(Ue,this.normalizedStyles))}_setupConversion(te,Ee){const Ue=this.editor,$e=Ue.model.schema,dt=(gt=this.normalizedStyles,(Et,Bt,qt)=>{if(!qt.consumable.consume(Bt.item,Et.name))return;const ai=ht(Bt.attributeNewValue,gt),ki=ht(Bt.attributeOldValue,gt),hi=qt.mapper.toViewElement(Bt.item),ri=qt.writer;ki&&ri.removeClass(ki.className,hi),ai&&ri.addClass(ai.className,hi)});var gt;const Nt=function(Et){const Bt={imageInline:Et.filter(qt=>!qt.isDefault&&qt.modelElements.includes("imageInline")),imageBlock:Et.filter(qt=>!qt.isDefault&&qt.modelElements.includes("imageBlock"))};return(qt,ai,ki)=>{if(!ai.modelRange)return;const hi=ai.viewItem,ri=(0,l.first)(ai.modelRange.getItems());if(ri&&ki.schema.checkAttribute(ri,"imageStyle"))for(const Ii of Bt[ri.name])ki.consumable.consume(hi,{classes:Ii.className})&&ki.writer.setAttribute("imageStyle",Ii.name,ri)}}(this.normalizedStyles);Ue.editing.downcastDispatcher.on("attribute:imageStyle",dt),Ue.data.downcastDispatcher.on("attribute:imageStyle",dt),te&&($e.extend("imageBlock",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:figure",Nt,{priority:"low"})),Ee&&($e.extend("imageInline",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:img",Nt,{priority:"low"}))}_setupPostFixer(){const te=this.editor,Ee=te.model.document,Ue=te.plugins.get(h),$e=new Map(this.normalizedStyles.map(dt=>[dt.name,dt]));Ee.registerPostFixer(dt=>{let gt=!1;for(const Nt of Ee.differ.getChanges())if(Nt.type=="insert"||Nt.type=="attribute"&&Nt.attributeKey=="imageStyle"){let Et=Nt.type=="insert"?Nt.position.nodeAfter:Nt.range.start.nodeAfter;if(Et&&Et.is("element","paragraph")&&Et.childCount>0&&(Et=Et.getChild(0)),!Ue.isImage(Et))continue;const Bt=Et.getAttribute("imageStyle");if(!Bt)continue;const qt=$e.get(Bt);qt&&qt.modelElements.includes(Et.name)||(dt.removeAttribute("imageStyle",Et),gt=!0)}return gt})}}const Xt=function(It){var te=typeof It;return It!=null&&(te=="object"||te=="function")},ii=function(It){return It};var di=ae(151),Ai={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(di.Z,Ai),di.Z.locals;class wi extends p.Plugin{static get requires(){return[Ot]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const te=this.editor.t;return{"Wrap text":te("Wrap text"),"Break text":te("Break text"),"In line":te("In line"),"Full size image":te("Full size image"),"Side image":te("Side image"),"Left aligned image":te("Left aligned image"),"Centered image":te("Centered image"),"Right aligned image":te("Right aligned image")}}init(){const te=this.editor.plugins,Ee=this.editor.config.get("image.toolbar")||[],Ue=Mi(te.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const dt of Ue)this._createButton(dt);const $e=Mi([...Ee.filter(Xt),...it.getDefaultDropdownDefinitions(te)],this.localizedDefaultStylesTitles);for(const dt of $e)this._createDropdown(dt,Ue)}_createDropdown(te,Ee){const Ue=this.editor.ui.componentFactory;Ue.add(te.name,$e=>{let dt;const{defaultItem:gt,items:Nt,title:Et}=te,Bt=Nt.filter(hi=>Ee.find(({name:ri})=>cn(ri)===hi)).map(hi=>{const ri=Ue.create(hi);return hi===gt&&(dt=ri),ri});Nt.length!==Bt.length&&it.warnInvalidStyle({dropdown:te});const qt=(0,q.createDropdown)($e,q.SplitButtonView),ai=qt.buttonView,ki=ai.arrowView;return(0,q.addToolbarToDropdown)(qt,Bt,{enableActiveItemFocusOnDropdownOpen:!0}),ai.set({label:hn(Et,dt.label),class:null,tooltip:!0}),ki.unbind("label"),ki.set({label:Et}),ai.bind("icon").toMany(Bt,"isOn",(...hi)=>{const ri=hi.findIndex(ii);return ri<0?dt.icon:Bt[ri].icon}),ai.bind("label").toMany(Bt,"isOn",(...hi)=>{const ri=hi.findIndex(ii);return hn(Et,ri<0?dt.label:Bt[ri].label)}),ai.bind("isOn").toMany(Bt,"isOn",(...hi)=>hi.some(ii)),ai.bind("class").toMany(Bt,"isOn",(...hi)=>hi.some(ii)?"ck-splitbutton_flatten":void 0),ai.on("execute",()=>{Bt.some(({isOn:hi})=>hi)?qt.isOpen=!qt.isOpen:dt.fire("execute")}),qt.bind("isEnabled").toMany(Bt,"isEnabled",(...hi)=>hi.some(ii)),this.listenTo(qt,"execute",()=>{this.editor.editing.view.focus()}),qt})}_createButton(te){const Ee=te.name;this.editor.ui.componentFactory.add(cn(Ee),Ue=>{const $e=this.editor.commands.get("imageStyle"),dt=new q.ButtonView(Ue);return dt.set({label:te.title,icon:te.icon,tooltip:!0,isToggleable:!0}),dt.bind("isEnabled").to($e,"isEnabled"),dt.bind("isOn").to($e,"value",gt=>gt===Ee),dt.on("execute",this._executeCommand.bind(this,Ee)),dt})}_executeCommand(te){this.editor.execute("imageStyle",{value:te}),this.editor.editing.view.focus()}}function Mi(It,te){for(const Ee of It)te[Ee.title]&&(Ee.title=te[Ee.title]);return It}function cn(It){return`imageStyle:${It}`}function hn(It,te){return(It?It+": ":"")+te}class xn extends p.Plugin{static get requires(){return[Ot,wi]}static get pluginName(){return"ImageStyle"}}class Xi extends p.Plugin{static get requires(){return[c.WidgetToolbarRepository,h]}static get pluginName(){return"ImageToolbar"}afterInit(){const te=this.editor,Ee=te.t,Ue=te.plugins.get(c.WidgetToolbarRepository),$e=te.plugins.get("ImageUtils");var dt;Ue.register("image",{ariaLabel:Ee("Image toolbar"),items:(dt=te.config.get("image.toolbar")||[],dt.map(gt=>Xt(gt)?gt.name:gt)),getRelatedElement:gt=>$e.getClosestSelectedImageWidget(gt)})}}class ln extends p.Plugin{static get requires(){return[Te,h]}static get pluginName(){return"PictureEditing"}afterInit(){const te=this.editor;te.plugins.has("ImageBlockEditing")&&te.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),te.plugins.has("ImageInlineEditing")&&te.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const te=this.editor,Ee=te.conversion,Ue=te.plugins.get("ImageUtils");Ee.for("upcast").add(function($e){const dt=["srcset","media","type","sizes"],gt=(Nt,Et,Bt)=>{const qt=Et.viewItem;if(!Bt.consumable.test(qt,{name:!0}))return;const ai=new Map;for(const ri of qt.getChildren())if(ri.is("element","source")){const Ii={};for(const Di of dt)ri.hasAttribute(Di)&&Bt.consumable.test(ri,{attributes:Di})&&(Ii[Di]=ri.getAttribute(Di));Object.keys(Ii).length&&ai.set(ri,Ii)}const ki=$e.findViewImgElement(qt);if(!ki)return;let hi=Et.modelCursor.parent;if(!hi.is("element","imageBlock")){const ri=Bt.convertItem(ki,Et.modelCursor);Et.modelRange=ri.modelRange,Et.modelCursor=ri.modelCursor,hi=(0,l.first)(ri.modelRange.getItems())}Bt.consumable.consume(qt,{name:!0});for(const[ri,Ii]of ai)Bt.consumable.consume(ri,{attributes:Object.keys(Ii)});ai.size&&Bt.writer.setAttribute("sources",Array.from(ai.values()),hi),Bt.convertChildren(qt,hi)};return Nt=>{Nt.on("element:picture",gt)}}(Ue)),Ee.for("downcast").add(function($e){const dt=(gt,Nt,Et)=>{if(!Et.consumable.consume(Nt.item,gt.name))return;const Bt=Et.writer,qt=Et.mapper.toViewElement(Nt.item),ai=$e.findViewImgElement(qt),ki=Nt.attributeNewValue;if(ki&&ki.length){const hi=Bt.createContainerElement("picture",null,ki.map(Di=>Bt.createEmptyElement("source",Di))),ri=[];let Ii=ai.parent;for(;Ii&&Ii.is("attributeElement");){const Di=Ii.parent;Bt.unwrap(Bt.createRangeOn(ai),Ii),ri.unshift(Ii),Ii=Di}Bt.insert(Bt.createPositionBefore(ai),hi),Bt.move(Bt.createRangeOn(ai),Bt.createPositionAt(hi,"end"));for(const Di of ri)Bt.wrap(Bt.createRangeOn(hi),Di)}else if(ai.parent.is("element","picture")){const hi=ai.parent;Bt.move(Bt.createRangeOn(ai),Bt.createPositionBefore(hi)),Bt.remove(hi)}};return gt=>{gt.on("attribute:sources:imageBlock",dt),gt.on("attribute:sources:imageInline",dt)}}(Ue))}_setupImageUploadEditingIntegration(){const te=this.editor;if(!te.plugins.has("ImageUploadEditing"))return;const Ee=te.plugins.get("ImageUploadEditing");this.listenTo(Ee,"uploadComplete",(Ue,{imageElement:$e,data:dt})=>{const gt=dt.sources;gt&&te.model.change(Nt=>{Nt.setAttributes({sources:gt},$e)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=Yt})()},57051:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{Indent:()=>c,IndentBlock:()=>J,IndentEditing:()=>j,IndentUI:()=>l});var p=ae(704);class j extends p.Plugin{static get pluginName(){return"IndentEditing"}init(){const le=this.editor;le.commands.add("indent",new p.MultiCommand(le)),le.commands.add("outdent",new p.MultiCommand(le))}}var I=ae(273);const v='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',A='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class l extends p.Plugin{static get pluginName(){return"IndentUI"}init(){const le=this.editor,q=le.locale,d=le.t,b=q.uiLanguageDirection=="ltr"?v:A,_=q.uiLanguageDirection=="ltr"?A:v;this._defineButton("indent",d("Increase indent"),b),this._defineButton("outdent",d("Decrease indent"),_)}_defineButton(le,q,d){const b=this.editor;b.ui.componentFactory.add(le,_=>{const w=b.commands.get(le),E=new I.ButtonView(_);return E.set({label:q,icon:d,tooltip:!0}),E.bind("isEnabled").to(w,"isEnabled"),this.listenTo(E,"execute",()=>{b.execute(le),b.editing.view.focus()}),E})}}class c extends p.Plugin{static get pluginName(){return"Indent"}static get requires(){return[j,l]}}var L=ae(492),z=ae(209);class y extends p.Command{constructor(le,q){super(le),this._indentBehavior=q}refresh(){const le=this.editor.model,q=(0,z.first)(le.document.selection.getSelectedBlocks());q&&this._isIndentationChangeAllowed(q)?this.isEnabled=this._indentBehavior.checkEnabled(q.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const le=this.editor.model,q=this._getBlocksToChange();le.change(d=>{for(const b of q){const _=b.getAttribute("blockIndent"),w=this._indentBehavior.getNextIndent(_);w?d.setAttribute("blockIndent",w,b):d.removeAttribute("blockIndent",b)}})}_getBlocksToChange(){const le=this.editor.model.document.selection;return Array.from(le.getSelectedBlocks()).filter(q=>this._isIndentationChangeAllowed(q))}_isIndentationChangeAllowed(le){const q=this.editor;return q.model.schema.checkAttribute(le,"blockIndent")?!q.plugins.has("DocumentListUtils")||!this._indentBehavior.isForward?!0:!q.plugins.get("DocumentListUtils").isListItemBlock(le):!1}}class h{constructor(le){this.isForward=le.direction==="forward",this.offset=le.offset,this.unit=le.unit}checkEnabled(le){const q=parseFloat(le||"0");return this.isForward||q>0}getNextIndent(le){const q=parseFloat(le||"0");if(!(!le||le.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const d=q+(this.isForward?this.offset:-this.offset);return d>0?d+this.unit:void 0}}class V{constructor(le){this.isForward=le.direction==="forward",this.classes=le.classes}checkEnabled(le){const q=this.classes.indexOf(le);return this.isForward?q<this.classes.length-1:q>=0}getNextIndent(le){const q=this.classes.indexOf(le),d=this.isForward?1:-1;return this.classes[q+d]}}const $=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class J extends p.Plugin{constructor(le){super(le),le.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const le=this.editor,q=le.config.get("indentBlock");q.classes&&q.classes.length?(this._setupConversionUsingClasses(q.classes),le.commands.add("indentBlock",new y(le,new V({direction:"forward",classes:q.classes}))),le.commands.add("outdentBlock",new y(le,new V({direction:"backward",classes:q.classes})))):(le.data.addStyleProcessorRules(L.addMarginRules),this._setupConversionUsingOffset(),le.commands.add("indentBlock",new y(le,new h({direction:"forward",offset:q.offset,unit:q.unit}))),le.commands.add("outdentBlock",new y(le,new h({direction:"backward",offset:q.offset,unit:q.unit}))))}afterInit(){const le=this.editor,q=le.model.schema,d=le.commands.get("indent"),b=le.commands.get("outdent"),_=le.config.get("heading.options");(_&&_.map(w=>w.model)||$).forEach(w=>{q.isRegistered(w)&&q.extend(w,{allowAttributes:"blockIndent"})}),q.setAttributeProperties("blockIndent",{isFormatting:!0}),d.registerChildCommand(le.commands.get("indentBlock")),b.registerChildCommand(le.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const le=this.editor.conversion,q=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";le.for("upcast").attributeToAttribute({view:{styles:{[q]:/[\s\S]+/}},model:{key:"blockIndent",value:d=>{if(!d.is("element","li"))return d.getStyle(q)}}}),le.for("downcast").attributeToAttribute({model:"blockIndent",view:d=>({key:"style",value:{[q]:d}})})}_setupConversionUsingClasses(le){const q={model:{key:"blockIndent",values:[]},view:{}};for(const d of le)q.model.values.push(d),q.view[d]={key:"class",value:[d]};this.editor.conversion.attributeToAttribute(q)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=Yt})()},81460:(Jt,Zt,ae)=>{(function(Yt){const p=Yt.en=Yt.en||{};p.dictionary=Object.assign(p.dictionary||{},{Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Yt={487:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const z=L},713:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const z=L},321:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const z=L},626:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const z=L},883:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const z=L},609:v=>{"use strict";v.exports=function(A){var l=[];return l.toString=function(){return this.map(function(c){var L=A(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,z){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(z)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var $=0;$<c.length;$++){var J=[].concat(c[$]);z&&y[J[0]]||(L&&(J[2]?J[2]="".concat(L," and ").concat(J[2]):J[2]=L),l.push(J))}},l}},62:(v,A,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},z=function(){var w={};return function(E){if(w[E]===void 0){var C=document.querySelector(E);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}w[E]=C}return w[E]}}(),y=[];function h(w){for(var E=-1,C=0;C<y.length;C++)if(y[C].identifier===w){E=C;break}return E}function V(w,E){for(var C={},S=[],ne=0;ne<w.length;ne++){var U=w[ne],D=E.base?U[0]+E.base:U[0],f=C[D]||0,R="".concat(D," ").concat(f);C[D]=f+1;var W=h(R),N={css:U[1],media:U[2],sourceMap:U[3]};W!==-1?(y[W].references++,y[W].updater(N)):y.push({identifier:R,updater:_(N,E),references:1}),S.push(R)}return S}function $(w){var E=document.createElement("style"),C=w.attributes||{};if(C.nonce===void 0){var S=l.nc;S&&(C.nonce=S)}if(Object.keys(C).forEach(function(U){E.setAttribute(U,C[U])}),typeof w.insert=="function")w.insert(E);else{var ne=z(w.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(E)}return E}var J,Y=(J=[],function(w,E){return J[w]=E,J.filter(Boolean).join(`
`)});function le(w,E,C,S){var ne=C?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(w.styleSheet)w.styleSheet.cssText=Y(E,ne);else{var U=document.createTextNode(ne),D=w.childNodes;D[E]&&w.removeChild(D[E]),D.length?w.insertBefore(U,D[E]):w.appendChild(U)}}function q(w,E,C){var S=C.css,ne=C.media,U=C.sourceMap;if(ne?w.setAttribute("media",ne):w.removeAttribute("media"),U&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),w.styleSheet)w.styleSheet.cssText=S;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(S))}}var d=null,b=0;function _(w,E){var C,S,ne;if(E.singleton){var U=b++;C=d||(d=$(E)),S=le.bind(null,C,U,!1),ne=le.bind(null,C,U,!0)}else C=$(E),S=q.bind(null,C,E),ne=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(C)};return S(w),function(D){if(D){if(D.css===w.css&&D.media===w.media&&D.sourceMap===w.sourceMap)return;S(w=D)}else ne()}}v.exports=function(w,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=L());var C=V(w=w||[],E);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ne=0;ne<C.length;ne++){var U=h(C[ne]);y[U].references--}for(var D=V(S,E),f=0;f<C.length;f++){var R=h(C[f]);y[R].references===0&&(y[R].updater(),y.splice(R,1))}C=D}}}},945:(v,A,l)=>{v.exports=l(79)("./src/clipboard.js")},704:(v,A,l)=>{v.exports=l(79)("./src/core.js")},492:(v,A,l)=>{v.exports=l(79)("./src/engine.js")},181:(v,A,l)=>{v.exports=l(79)("./src/typing.js")},273:(v,A,l)=>{v.exports=l(79)("./src/ui.js")},209:(v,A,l)=>{v.exports=l(79)("./src/utils.js")},995:(v,A,l)=>{v.exports=l(79)("./src/widget.js")},79:v=>{"use strict";v.exports=CKEditor5.dll}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={id:v,exports:{}};return Yt[v](l,l.exports,j),l.exports}j.n=v=>{var A=v&&v.__esModule?()=>v.default:()=>v;return j.d(A,{a:A}),A},j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},j.nc=void 0;var I={};(()=>{"use strict";j.r(I),j.d(I,{AutoLink:()=>Pe,Link:()=>Ht,LinkCommand:()=>pi,LinkEditing:()=>We,LinkImage:()=>Yi,LinkImageEditing:()=>wt,LinkImageUI:()=>gi,LinkUI:()=>B,UnlinkCommand:()=>Ei});var v=j(704),A=j(492),l=j(181),c=j(945),L=j(209);class z{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(Ae){Array.isArray(Ae)?Ae.forEach(Ye=>this._definitions.add(Ye)):this._definitions.add(Ae)}getDispatcher(){return Ae=>{Ae.on("attribute:linkHref",(Ye,it,ht)=>{if(!ht.consumable.test(it.item,"attribute:linkHref")||!it.item.is("selection")&&!ht.schema.isInline(it.item))return;const Ot=ht.writer,Xt=Ot.document.selection;for(const ii of this._definitions){const di=Ot.createAttributeElement("a",ii.attributes,{priority:5});ii.classes&&Ot.addClass(ii.classes,di);for(const Ai in ii.styles)Ot.setStyle(Ai,ii.styles[Ai],di);Ot.setCustomProperty("link",!0,di),ii.callback(it.attributeNewValue)?it.item.is("selection")?Ot.wrap(Xt.getFirstRange(),di):Ot.wrap(ht.mapper.toViewRange(it.range),di):Ot.unwrap(ht.mapper.toViewRange(it.range),di)}},{priority:"high"})}}getDispatcherForLinkedImage(){return Ae=>{Ae.on("attribute:linkHref:imageBlock",(Ye,it,{writer:ht,mapper:Ot})=>{const Xt=Ot.toViewElement(it.item),ii=Array.from(Xt.getChildren()).find(di=>di.is("element","a"));for(const di of this._definitions){const Ai=(0,L.toMap)(di.attributes);if(di.callback(it.attributeNewValue)){for(const[wi,Mi]of Ai)wi==="class"?ht.addClass(Mi,ii):ht.setAttribute(wi,Mi,ii);di.classes&&ht.addClass(di.classes,ii);for(const wi in di.styles)ht.setStyle(wi,di.styles[wi],ii)}else{for(const[wi,Mi]of Ai)wi==="class"?ht.removeClass(Mi,ii):ht.removeAttribute(wi,ii);di.classes&&ht.removeClass(di.classes,ii);for(const wi in di.styles)ht.removeStyle(wi,ii)}}})}}}const y=function(Ut,Ae,Ye){var it=-1,ht=Ut.length;Ae<0&&(Ae=-Ae>ht?0:ht+Ae),(Ye=Ye>ht?ht:Ye)<0&&(Ye+=ht),ht=Ae>Ye?0:Ye-Ae>>>0,Ae>>>=0;for(var Ot=Array(ht);++it<ht;)Ot[it]=Ut[it+Ae];return Ot},h=function(Ut,Ae,Ye){var it=Ut.length;return Ye=Ye===void 0?it:Ye,!Ae&&Ye>=it?Ut:y(Ut,Ae,Ye)};var V=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const $=function(Ut){return V.test(Ut)},J=function(Ut){return Ut.split("")};var Y="\\ud800-\\udfff",le="["+Y+"]",q="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\\ud83c[\\udffb-\\udfff]",b="[^"+Y+"]",_="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",E="(?:"+q+"|"+d+")?",C="[\\ufe0e\\ufe0f]?",S=C+E+("(?:\\u200d(?:"+[b,_,w].join("|")+")"+C+E+")*"),ne="(?:"+[b+q+"?",q,_,w,le].join("|")+")",U=RegExp(d+"(?="+d+")|"+ne+S,"g");const D=function(Ut){return Ut.match(U)||[]},f=function(Ut){return $(Ut)?D(Ut):J(Ut)},R=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var W=typeof self=="object"&&self&&self.Object===Object&&self;const N=(R||W||Function("return this")()).Symbol,oe=function(Ut,Ae){for(var Ye=-1,it=Ut==null?0:Ut.length,ht=Array(it);++Ye<it;)ht[Ye]=Ae(Ut[Ye],Ye,Ut);return ht},Te=Array.isArray;var Oe=Object.prototype,xe=Oe.hasOwnProperty,Re=Oe.toString,lt=N?N.toStringTag:void 0;const rt=function(Ut){var Ae=xe.call(Ut,lt),Ye=Ut[lt];try{Ut[lt]=void 0;var it=!0}catch{}var ht=Re.call(Ut);return it&&(Ae?Ut[lt]=Ye:delete Ut[lt]),ht};var ct=Object.prototype.toString;const st=function(Ut){return ct.call(Ut)};var kt=N?N.toStringTag:void 0;const pt=function(Ut){return Ut==null?Ut===void 0?"[object Undefined]":"[object Null]":kt&&kt in Object(Ut)?rt(Ut):st(Ut)},Ze=function(Ut){return Ut!=null&&typeof Ut=="object"},mt=function(Ut){return typeof Ut=="symbol"||Ze(Ut)&&pt(Ut)=="[object Symbol]"};var qe=N?N.prototype:void 0,et=qe?qe.toString:void 0;const Q=function Ut(Ae){if(typeof Ae=="string")return Ae;if(Te(Ae))return oe(Ae,Ut)+"";if(mt(Ae))return et?et.call(Ae):"";var Ye=Ae+"";return Ye=="0"&&1/Ae==-1/0?"-0":Ye},de=function(Ut){return Ut==null?"":Q(Ut)},we=function(Ut){return function(Ae){Ae=de(Ae);var Ye=$(Ae)?f(Ae):void 0,it=Ye?Ye[0]:Ae.charAt(0),ht=Ye?h(Ye,1).join(""):Ae.slice(1);return it[Ut]()+ht}}("toUpperCase"),Be=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ge=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Fe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Ve=/^((\w+:(\/{2,})?)|(\W))/i,ut="Ctrl+K";function St(Ut,{writer:Ae}){const Ye=Ae.createAttributeElement("a",{href:Ut},{priority:5});return Ae.setCustomProperty("link",!0,Ye),Ye}function Lt(Ut){const Ae=String(Ut);return function(Ye){return!!Ye.replace(Be,"").match(Ge)}(Ae)?Ae:"#"}function Qt(Ut,Ae){return!!Ut&&Ae.checkAttribute(Ut.name,"linkHref")}function yt(Ut,Ae){const Ye=(it=Ut,Fe.test(it)?"mailto:":Ae);var it;const ht=!!Ye&&!Tt(Ut);return Ut&&ht?Ye+Ut:Ut}function Tt(Ut){return Ve.test(Ut)}function mi(Ut){window.open(Ut,"_blank","noopener")}class pi extends v.Command{constructor(){super(...arguments),this.manualDecorators=new L.Collection,this.automaticDecorators=new z}restoreManualDecoratorStates(){for(const Ae of this.manualDecorators)Ae.value=this._getDecoratorStateFromModel(Ae.id)}refresh(){const Ae=this.editor.model,Ye=Ae.document.selection,it=Ye.getSelectedElement()||(0,L.first)(Ye.getSelectedBlocks());Qt(it,Ae.schema)?(this.value=it.getAttribute("linkHref"),this.isEnabled=Ae.schema.checkAttribute(it,"linkHref")):(this.value=Ye.getAttribute("linkHref"),this.isEnabled=Ae.schema.checkAttributeInSelection(Ye,"linkHref"));for(const ht of this.manualDecorators)ht.value=this._getDecoratorStateFromModel(ht.id)}execute(Ae,Ye={}){const it=this.editor.model,ht=it.document.selection,Ot=[],Xt=[];for(const ii in Ye)Ye[ii]?Ot.push(ii):Xt.push(ii);it.change(ii=>{if(ht.isCollapsed){const di=ht.getFirstPosition();if(ht.hasAttribute("linkHref")){const Ai=Li(ht);let wi=(0,l.findAttributeRange)(di,"linkHref",ht.getAttribute("linkHref"),it);ht.getAttribute("linkHref")===Ai&&(wi=this._updateLinkContent(it,ii,wi,Ae)),ii.setAttribute("linkHref",Ae,wi),Ot.forEach(Mi=>{ii.setAttribute(Mi,!0,wi)}),Xt.forEach(Mi=>{ii.removeAttribute(Mi,wi)}),ii.setSelection(ii.createPositionAfter(wi.end.nodeBefore))}else if(Ae!==""){const Ai=(0,L.toMap)(ht.getAttributes());Ai.set("linkHref",Ae),Ot.forEach(Mi=>{Ai.set(Mi,!0)});const{end:wi}=it.insertContent(ii.createText(Ae,Ai),di);ii.setSelection(wi)}["linkHref",...Ot,...Xt].forEach(Ai=>{ii.removeSelectionAttribute(Ai)})}else{const di=it.schema.getValidRanges(ht.getRanges(),"linkHref"),Ai=[];for(const Mi of ht.getSelectedBlocks())it.schema.checkAttribute(Mi,"linkHref")&&Ai.push(ii.createRangeOn(Mi));const wi=Ai.slice();for(const Mi of di)this._isRangeToUpdate(Mi,Ai)&&wi.push(Mi);for(const Mi of wi){let cn=Mi;if(wi.length===1){const hn=Li(ht);ht.getAttribute("linkHref")===hn&&(cn=this._updateLinkContent(it,ii,Mi,Ae),ii.setSelection(ii.createSelection(cn)))}ii.setAttribute("linkHref",Ae,cn),Ot.forEach(hn=>{ii.setAttribute(hn,!0,cn)}),Xt.forEach(hn=>{ii.removeAttribute(hn,cn)})}}})}_getDecoratorStateFromModel(Ae){const Ye=this.editor.model,it=Ye.document.selection,ht=it.getSelectedElement();return Qt(ht,Ye.schema)?ht.getAttribute(Ae):it.getAttribute(Ae)}_isRangeToUpdate(Ae,Ye){for(const it of Ye)if(it.containsRange(Ae))return!1;return!0}_updateLinkContent(Ae,Ye,it,ht){const Ot=Ye.createText(ht,{linkHref:ht});return Ae.insertContent(Ot,it)}}function Li(Ut){if(Ut.isCollapsed){const Ae=Ut.getFirstPosition();return Ae.textNode&&Ae.textNode.data}{const Ae=Array.from(Ut.getFirstRange().getItems());if(Ae.length>1)return null;const Ye=Ae[0];return Ye.is("$text")||Ye.is("$textProxy")?Ye.data:null}}class Ei extends v.Command{refresh(){const Ae=this.editor.model,Ye=Ae.document.selection,it=Ye.getSelectedElement();Qt(it,Ae.schema)?this.isEnabled=Ae.schema.checkAttribute(it,"linkHref"):this.isEnabled=Ae.schema.checkAttributeInSelection(Ye,"linkHref")}execute(){const Ae=this.editor,Ye=this.editor.model,it=Ye.document.selection,ht=Ae.commands.get("link");Ye.change(Ot=>{const Xt=it.isCollapsed?[(0,l.findAttributeRange)(it.getFirstPosition(),"linkHref",it.getAttribute("linkHref"),Ye)]:Ye.schema.getValidRanges(it.getRanges(),"linkHref");for(const ii of Xt)if(Ot.removeAttribute("linkHref",ii),ht)for(const di of ht.manualDecorators)Ot.removeAttribute(di.id,ii)})}}class Ni extends(0,L.ObservableMixin)(){constructor({id:Ae,label:Ye,attributes:it,classes:ht,styles:Ot,defaultValue:Xt}){super(),this.id=Ae,this.set("value",void 0),this.defaultValue=Xt,this.label=Ye,this.attributes=it,this.classes=ht,this.styles=Ot}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var xi=j(62),Bi=j.n(xi),nt=j(713),ue={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Bi()(nt.Z,ue),nt.Z.locals;const _e="automatic",Ie=/^(https?:)?\/\//;class We extends v.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[l.TwoStepCaretMovement,l.Input,c.ClipboardPipeline]}constructor(Ae){super(Ae),Ae.config.define("link",{addTargetToExternalLinks:!1})}init(){const Ae=this.editor;Ae.model.schema.extend("$text",{allowAttributes:"linkHref"}),Ae.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:St}),Ae.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(it,ht)=>St(Lt(it),ht)}),Ae.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:it=>it.getAttribute("href")}}),Ae.commands.add("link",new pi(Ae)),Ae.commands.add("unlink",new Ei(Ae));const Ye=function(it,ht){const Ot={"Open in a new tab":it("Open in a new tab"),Downloadable:it("Downloadable")};return ht.forEach(Xt=>("label"in Xt&&Ot[Xt.label]&&(Xt.label=Ot[Xt.label]),Xt)),ht}(Ae.t,function(it){const ht=[];if(it)for(const[Ot,Xt]of Object.entries(it)){const ii=Object.assign({},Xt,{id:`link${we(Ot)}`});ht.push(ii)}return ht}(Ae.config.get("link.decorators")));this._enableAutomaticDecorators(Ye.filter(it=>it.mode===_e)),this._enableManualDecorators(Ye.filter(it=>it.mode==="manual")),Ae.plugins.get(l.TwoStepCaretMovement).registerAttribute("linkHref"),(0,l.inlineHighlight)(Ae,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(Ae){const Ye=this.editor,it=Ye.commands.get("link").automaticDecorators;Ye.config.get("link.addTargetToExternalLinks")&&it.add({id:"linkIsExternal",mode:_e,callback:ht=>!!ht&&Ie.test(ht),attributes:{target:"_blank",rel:"noopener noreferrer"}}),it.add(Ae),it.length&&Ye.conversion.for("downcast").add(it.getDispatcher())}_enableManualDecorators(Ae){if(!Ae.length)return;const Ye=this.editor,it=Ye.commands.get("link").manualDecorators;Ae.forEach(ht=>{Ye.model.schema.extend("$text",{allowAttributes:ht.id});const Ot=new Ni(ht);it.add(Ot),Ye.conversion.for("downcast").attributeToElement({model:Ot.id,view:(Xt,{writer:ii,schema:di},{item:Ai})=>{if((Ai.is("selection")||di.isInline(Ai))&&Xt){const wi=ii.createAttributeElement("a",Ot.attributes,{priority:5});Ot.classes&&ii.addClass(Ot.classes,wi);for(const Mi in Ot.styles)ii.setStyle(Mi,Ot.styles[Mi],wi);return ii.setCustomProperty("link",!0,wi),wi}}}),Ye.conversion.for("upcast").elementToAttribute({view:{name:"a",...Ot._createPattern()},model:{key:Ot.id}})})}_enableLinkOpen(){const Ae=this.editor,Ye=Ae.editing.view.document;this.listenTo(Ye,"click",(it,ht)=>{if(!(L.env.isMac?ht.domEvent.metaKey:ht.domEvent.ctrlKey))return;let Ot=ht.domTarget;if(Ot.tagName.toLowerCase()!="a"&&(Ot=Ot.closest("a")),!Ot)return;const Xt=Ot.getAttribute("href");Xt&&(it.stop(),ht.preventDefault(),mi(Xt))},{context:"$capture"}),this.listenTo(Ye,"keydown",(it,ht)=>{const Ot=Ae.commands.get("link").value;Ot&&ht.keyCode===L.keyCodes.enter&&ht.altKey&&(it.stop(),mi(Ot))})}_enableInsertContentSelectionAttributesFixer(){const Ae=this.editor.model,Ye=Ae.document.selection;this.listenTo(Ae,"insertContent",()=>{const it=Ye.anchor.nodeBefore,ht=Ye.anchor.nodeAfter;Ye.hasAttribute("linkHref")&&it&&it.hasAttribute("linkHref")&&(ht&&ht.hasAttribute("linkHref")||Ae.change(Ot=>{tt(Ot,At(Ae.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const Ae=this.editor,Ye=Ae.model;Ae.editing.view.addObserver(A.MouseObserver);let it=!1;this.listenTo(Ae.editing.view.document,"mousedown",()=>{it=!0}),this.listenTo(Ae.editing.view.document,"selectionChange",()=>{if(!it)return;it=!1;const ht=Ye.document.selection;if(!ht.isCollapsed||!ht.hasAttribute("linkHref"))return;const Ot=ht.getFirstPosition(),Xt=(0,l.findAttributeRange)(Ot,"linkHref",ht.getAttribute("linkHref"),Ye);(Ot.isTouching(Xt.start)||Ot.isTouching(Xt.end))&&Ye.change(ii=>{tt(ii,At(Ye.schema))})})}_enableTypingOverLink(){const Ae=this.editor,Ye=Ae.editing.view;let it=null,ht=!1;this.listenTo(Ye.document,"delete",()=>{ht=!0},{priority:"high"}),this.listenTo(Ae.model,"deleteContent",()=>{const Ot=Ae.model.document.selection;Ot.isCollapsed||(ht?ht=!1:bt(Ae)&&function(Xt){const ii=Xt.document.selection,di=ii.getFirstPosition(),Ai=ii.getLastPosition(),wi=di.nodeAfter;if(!wi||!wi.is("$text")||!wi.hasAttribute("linkHref"))return!1;const Mi=Ai.textNode||Ai.nodeBefore;return wi===Mi?!0:(0,l.findAttributeRange)(di,"linkHref",wi.getAttribute("linkHref"),Xt).containsRange(Xt.createRange(di,Ai),!0)}(Ae.model)&&(it=Ot.getAttributes()))},{priority:"high"}),this.listenTo(Ae.model,"insertContent",(Ot,[Xt])=>{ht=!1,bt(Ae)&&it&&(Ae.model.change(ii=>{for(const[di,Ai]of it)ii.setAttribute(di,Ai,Xt)}),it=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const Ae=this.editor,Ye=Ae.model,it=Ye.document.selection,ht=Ae.editing.view;let Ot=!1,Xt=!1;this.listenTo(ht.document,"delete",(ii,di)=>{Xt=di.direction==="backward"},{priority:"high"}),this.listenTo(Ye,"deleteContent",()=>{Ot=!1;const ii=it.getFirstPosition(),di=it.getAttribute("linkHref");if(!di)return;const Ai=(0,l.findAttributeRange)(ii,"linkHref",di,Ye);Ot=Ai.containsPosition(ii)||Ai.end.isEqual(ii)},{priority:"high"}),this.listenTo(Ye,"deleteContent",()=>{Xt&&(Xt=!1,Ot||Ae.model.enqueueChange(ii=>{tt(ii,At(Ye.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const Ae=this.editor,Ye=Ae.model,it=this.editor.config.get("link.defaultProtocol");it&&this.listenTo(Ae.plugins.get("ClipboardPipeline"),"contentInsertion",(ht,Ot)=>{Ye.change(Xt=>{const ii=Xt.createRangeIn(Ot.content);for(const di of ii.getItems())if(di.hasAttribute("linkHref")){const Ai=yt(di.getAttribute("linkHref"),it);Xt.setAttribute("linkHref",Ai,di)}})})}}function tt(Ut,Ae){Ut.removeSelectionAttribute("linkHref");for(const Ye of Ae)Ut.removeSelectionAttribute(Ye)}function bt(Ut){return Ut.model.change(Ae=>Ae.batch).isTyping}function At(Ut){return Ut.getDefinition("$text").allowAttributes.filter(Ae=>Ae.startsWith("link"))}var xt=j(273),Kt=j(995),ni=j(487),ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Bi()(ni.Z,ei),ni.Z.locals;var li=j(626),Ci={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Bi()(li.Z,Ci),li.Z.locals;class yi extends xt.View{constructor(Ae,Ye){super(Ae),this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this._focusables=new xt.ViewCollection;const it=Ae.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(it("Save"),v.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(it("Cancel"),v.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(Ye),this.children=this._createFormChildren(Ye.manualDecorators),this._focusCycler=new xt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const ht=["ck","ck-link-form","ck-responsive-form"];Ye.manualDecorators.length&&ht.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:ht,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((Ae,Ye)=>(Ae[Ye.name]=Ye.isOn,Ae),{})}render(){super.render(),(0,xt.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(Ae=>{this._focusables.add(Ae),this.focusTracker.add(Ae.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const Ae=this.locale.t,Ye=new xt.LabeledFieldView(this.locale,xt.createLabeledInputText);return Ye.label=Ae("Link URL"),Ye}_createButton(Ae,Ye,it,ht){const Ot=new xt.ButtonView(this.locale);return Ot.set({label:Ae,icon:Ye,tooltip:!0}),Ot.extendTemplate({attributes:{class:it}}),ht&&Ot.delegate("execute").to(this,ht),Ot}_createManualDecoratorSwitches(Ae){const Ye=this.createCollection();for(const it of Ae.manualDecorators){const ht=new xt.SwitchButtonView(this.locale);ht.set({name:it.id,label:it.label,withText:!0}),ht.bind("isOn").toMany([it,Ae],"value",(Ot,Xt)=>Xt===void 0&&Ot===void 0?!!it.defaultValue:!!Ot),ht.on("execute",()=>{it.set("value",!ht.isOn)}),Ye.add(ht)}return Ye}_createFormChildren(Ae){const Ye=this.createCollection();if(Ye.add(this.urlInputView),Ae.length){const it=new xt.View;it.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(ht=>({tag:"li",children:[ht],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),Ye.add(it)}return Ye.add(this.saveButtonView),Ye.add(this.cancelButtonView),Ye}}var Ri=j(321),qi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Bi()(Ri.Z,qi),Ri.Z.locals;class Ui extends xt.View{constructor(Ae){super(Ae),this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this._focusables=new xt.ViewCollection;const Ye=Ae.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(Ye("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(Ye("Edit link"),v.icons.pencil,"edit"),this.set("href",void 0),this._focusCycler=new xt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(Ae=>{this._focusables.add(Ae),this.focusTracker.add(Ae.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(Ae,Ye,it){const ht=new xt.ButtonView(this.locale);return ht.set({label:Ae,icon:Ye,tooltip:!0}),ht.delegate("execute").to(this,it),ht}_createPreviewButton(){const Ae=new xt.ButtonView(this.locale),Ye=this.bindTemplate,it=this.t;return Ae.set({withText:!0,tooltip:it("Open link in new tab")}),Ae.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:Ye.to("href",ht=>ht&&Lt(ht)),target:"_blank",rel:"noopener noreferrer"}}),Ae.bind("label").to(this,"href",ht=>ht||it("This link has no URL")),Ae.bind("isEnabled").to(this,"href",ht=>!!ht),Ae.template.tag="a",Ae.template.eventListeners={},Ae}}const ji='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',he="link-ui";class B extends v.Plugin{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[xt.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const Ae=this.editor;Ae.editing.view.addObserver(A.ClickObserver),this._balloon=Ae.plugins.get(xt.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),Ae.conversion.for("editingDowncast").markerToHighlight({model:he,view:{classes:["ck-fake-link-selection"]}}),Ae.conversion.for("editingDowncast").markerToElement({model:he,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const Ae=this.editor,Ye=new Ui(Ae.locale),it=Ae.commands.get("link"),ht=Ae.commands.get("unlink");return Ye.bind("href").to(it,"value"),Ye.editButtonView.bind("isEnabled").to(it),Ye.unlinkButtonView.bind("isEnabled").to(ht),this.listenTo(Ye,"edit",()=>{this._addFormView()}),this.listenTo(Ye,"unlink",()=>{Ae.execute("unlink"),this._hideUI()}),Ye.keystrokes.set("Esc",(Ot,Xt)=>{this._hideUI(),Xt()}),Ye.keystrokes.set(ut,(Ot,Xt)=>{this._addFormView(),Xt()}),Ye}_createFormView(){const Ae=this.editor,Ye=Ae.commands.get("link"),it=Ae.config.get("link.defaultProtocol"),ht=new((0,xt.CssTransitionDisablerMixin)(yi))(Ae.locale,Ye);return ht.urlInputView.fieldView.bind("value").to(Ye,"value"),ht.urlInputView.bind("isEnabled").to(Ye,"isEnabled"),ht.saveButtonView.bind("isEnabled").to(Ye),this.listenTo(ht,"submit",()=>{const{value:Ot}=ht.urlInputView.fieldView.element,Xt=yt(Ot,it);Ae.execute("link",Xt,ht.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(ht,"cancel",()=>{this._closeFormView()}),ht.keystrokes.set("Esc",(Ot,Xt)=>{this._closeFormView(),Xt()}),ht}_createToolbarLinkButton(){const Ae=this.editor,Ye=Ae.commands.get("link"),it=Ae.t;Ae.ui.componentFactory.add("link",ht=>{const Ot=new xt.ButtonView(ht);return Ot.isEnabled=!0,Ot.label=it("Link"),Ot.icon=ji,Ot.keystroke=ut,Ot.tooltip=!0,Ot.isToggleable=!0,Ot.bind("isEnabled").to(Ye,"isEnabled"),Ot.bind("isOn").to(Ye,"value",Xt=>!!Xt),this.listenTo(Ot,"execute",()=>this._showUI(!0)),Ot})}_enableBalloonActivators(){const Ae=this.editor,Ye=Ae.editing.view.document;this.listenTo(Ye,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),Ae.keystrokes.set(ut,(it,ht)=>{ht(),Ae.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(Ae,Ye)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),Ye())},{priority:"high"}),this.editor.keystrokes.set("Esc",(Ae,Ye)=>{this._isUIVisible&&(this._hideUI(),Ye())}),(0,xt.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const Ae=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=Ae.value||""}_closeFormView(){const Ae=this.editor.commands.get("link");Ae.restoreManualDecoratorStates(),Ae.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(Ae=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),Ae&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),Ae&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const Ae=this.editor;this.stopListening(Ae.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),Ae.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const Ae=this.editor,Ye=Ae.editing.view.document;let it=this._getSelectedLinkElement(),ht=Xt();const Ot=()=>{const ii=this._getSelectedLinkElement(),di=Xt();it&&!ii||!it&&di!==ht?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),it=ii,ht=di};function Xt(){return Ye.selection.focus.getAncestors().reverse().find(ii=>ii.is("element"))}this.listenTo(Ae.ui,"update",Ot),this.listenTo(this._balloon,"change:visibleView",Ot)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const Ae=this._balloon.visibleView;return!!this.formView&&Ae==this.formView||this._areActionsVisible}_getBalloonPositionData(){const Ae=this.editor.editing.view,Ye=this.editor.model,it=Ae.document;let ht;if(Ye.markers.has(he)){const Ot=Array.from(this.editor.editing.mapper.markerNameToElements(he)),Xt=Ae.createRange(Ae.createPositionBefore(Ot[0]),Ae.createPositionAfter(Ot[Ot.length-1]));ht=Ae.domConverter.viewRangeToDom(Xt)}else ht=()=>{const Ot=this._getSelectedLinkElement();return Ot?Ae.domConverter.mapViewToDom(Ot):Ae.domConverter.viewRangeToDom(it.selection.getFirstRange())};return{target:ht}}_getSelectedLinkElement(){const Ae=this.editor.editing.view,Ye=Ae.document.selection,it=Ye.getSelectedElement();if(Ye.isCollapsed||it&&(0,Kt.isWidget)(it))return ee(Ye.getFirstPosition());{const ht=Ye.getFirstRange().getTrimmed(),Ot=ee(ht.start),Xt=ee(ht.end);return Ot&&Ot==Xt&&Ae.createRangeIn(Ot).getTrimmed().isEqual(ht)?Ot:null}}_showFakeVisualSelection(){const Ae=this.editor.model;Ae.change(Ye=>{const it=Ae.document.selection.getFirstRange();if(Ae.markers.has(he))Ye.updateMarker(he,{range:it});else if(it.start.isAtEnd){const ht=it.start.getLastMatchingPosition(({item:Ot})=>!Ae.schema.isContent(Ot),{boundaries:it});Ye.addMarker(he,{usingOperation:!1,affectsData:!1,range:Ye.createRange(ht,it.end)})}else Ye.addMarker(he,{usingOperation:!1,affectsData:!1,range:it})})}_hideFakeVisualSelection(){const Ae=this.editor.model;Ae.markers.has(he)&&Ae.change(Ye=>{Ye.removeMarker(he)})}}function ee(Ut){return Ut.getAncestors().find(Ae=>{return(Ye=Ae).is("attributeElement")&&!!Ye.getCustomProperty("link");var Ye})||null}const se=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Pe extends v.Plugin{static get requires(){return[l.Delete]}static get pluginName(){return"AutoLink"}init(){const Ae=this.editor.model.document.selection;Ae.on("change:range",()=>{this.isEnabled=!Ae.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const Ae=this.editor,Ye=new l.TextWatcher(Ae.model,it=>{if(!function(Ot){return Ot.length>4&&Ot[Ot.length-1]===" "&&Ot[Ot.length-2]!==" "}(it))return;const ht=Ct(it.substr(0,it.length-1));return ht?{url:ht}:void 0});Ye.on("matched:data",(it,ht)=>{const{batch:Ot,range:Xt,url:ii}=ht;if(!Ot.isTyping)return;const di=Xt.end.getShiftedBy(-1),Ai=di.getShiftedBy(-ii.length),wi=Ae.model.createRange(Ai,di);this._applyAutoLink(ii,wi)}),Ye.bind("isEnabled").to(this)}_enableEnterHandling(){const Ae=this.editor,Ye=Ae.model,it=Ae.commands.get("enter");it&&it.on("execute",()=>{const ht=Ye.document.selection.getFirstPosition();if(!ht.parent.previousSibling)return;const Ot=Ye.createRangeIn(ht.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(Ot)})}_enableShiftEnterHandling(){const Ae=this.editor,Ye=Ae.model,it=Ae.commands.get("shiftEnter");it&&it.on("execute",()=>{const ht=Ye.document.selection.getFirstPosition(),Ot=Ye.createRange(Ye.createPositionAt(ht.parent,0),ht.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(Ot)})}_checkAndApplyAutoLinkOnRange(Ae){const Ye=this.editor.model,{text:it,range:ht}=(0,l.getLastTextLine)(Ae,Ye),Ot=Ct(it);if(Ot){const Xt=Ye.createRange(ht.end.getShiftedBy(-Ot.length),ht.end);this._applyAutoLink(Ot,Xt)}}_applyAutoLink(Ae,Ye){const it=this.editor.model,ht=yt(Ae,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(Ot,Xt){return Xt.schema.checkAttributeInSelection(Xt.createSelection(Ot),"linkHref")}(Ye,it)&&Tt(ht)&&!function(Ot){const Xt=Ot.start.nodeAfter;return!!Xt&&Xt.hasAttribute("linkHref")}(Ye)&&this._persistAutoLink(ht,Ye)}_persistAutoLink(Ae,Ye){const it=this.editor.model,ht=this.editor.plugins.get("Delete");it.enqueueChange(Ot=>{Ot.setAttribute("linkHref",Ae,Ye),it.enqueueChange(()=>{ht.requestUndoOnBackspace()})})}}function Ct(Ut){const Ae=se.exec(Ut);return Ae?Ae[2]:null}class Ht extends v.Plugin{static get requires(){return[We,B,Pe]}static get pluginName(){return"Link"}}class wt extends v.Plugin{static get requires(){return["ImageEditing","ImageUtils",We]}static get pluginName(){return"LinkImageEditing"}init(){const Ae=this.editor,Ye=Ae.model.schema;Ae.plugins.has("ImageBlockEditing")&&Ye.extend("imageBlock",{allowAttributes:["linkHref"]}),Ae.conversion.for("upcast").add(function(it){const ht=it.plugins.has("ImageInlineEditing"),Ot=it.plugins.get("ImageUtils");return Xt=>{Xt.on("element:a",(ii,di,Ai)=>{const wi=di.viewItem,Mi=Ot.findViewImgElement(wi);if(!Mi)return;const cn=Mi.findAncestor(ln=>Ot.isBlockImageView(ln));if(ht&&!cn)return;const hn={attributes:["href"]};if(!Ai.consumable.consume(wi,hn))return;const xn=wi.getAttribute("href");if(!xn)return;let Xi=di.modelCursor.parent;if(!Xi.is("element","imageBlock")){const ln=Ai.convertItem(Mi,di.modelCursor);di.modelRange=ln.modelRange,di.modelCursor=ln.modelCursor,Xi=di.modelCursor.nodeBefore}Xi&&Xi.is("element","imageBlock")&&Ai.writer.setAttribute("linkHref",xn,Xi)},{priority:"high"})}}(Ae)),Ae.conversion.for("downcast").add(function(it){const ht=it.plugins.get("ImageUtils");return Ot=>{Ot.on("attribute:linkHref:imageBlock",(Xt,ii,di)=>{if(!di.consumable.consume(ii.item,Xt.name))return;const Ai=di.mapper.toViewElement(ii.item),wi=di.writer,Mi=Array.from(Ai.getChildren()).find(xn=>xn.is("element","a")),cn=ht.findViewImgElement(Ai),hn=cn.parent.is("element","picture")?cn.parent:cn;if(Mi)ii.attributeNewValue?wi.setAttribute("href",ii.attributeNewValue,Mi):(wi.move(wi.createRangeOn(hn),wi.createPositionAt(Ai,0)),wi.remove(Mi));else{const xn=wi.createContainerElement("a",{href:ii.attributeNewValue});wi.insert(wi.createPositionAt(Ai,0),xn),wi.move(wi.createRangeOn(hn),wi.createPositionAt(xn,0))}},{priority:"high"})}}(Ae)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const Ae=this.editor,Ye=Ae.commands.get("link").automaticDecorators;Ye.length&&Ae.conversion.for("downcast").add(Ye.getDispatcherForLinkedImage())}_enableManualDecorators(){const Ae=this.editor,Ye=Ae.commands.get("link");for(const it of Ye.manualDecorators)Ae.plugins.has("ImageBlockEditing")&&Ae.model.schema.extend("imageBlock",{allowAttributes:it.id}),Ae.plugins.has("ImageInlineEditing")&&Ae.model.schema.extend("imageInline",{allowAttributes:it.id}),Ae.conversion.for("downcast").add(zt(it)),Ae.conversion.for("upcast").add(fi(Ae,it))}}function zt(Ut){return Ae=>{Ae.on(`attribute:${Ut.id}:imageBlock`,(Ye,it,ht)=>{const Ot=ht.mapper.toViewElement(it.item),Xt=Array.from(Ot.getChildren()).find(ii=>ii.is("element","a"));if(Xt){for(const[ii,di]of(0,L.toMap)(Ut.attributes))ht.writer.setAttribute(ii,di,Xt);Ut.classes&&ht.writer.addClass(Ut.classes,Xt);for(const ii in Ut.styles)ht.writer.setStyle(ii,Ut.styles[ii],Xt)}})}}function fi(Ut,Ae){const Ye=Ut.plugins.has("ImageInlineEditing"),it=Ut.plugins.get("ImageUtils");return ht=>{ht.on("element:a",(Ot,Xt,ii)=>{const di=Xt.viewItem,Ai=it.findViewImgElement(di);if(!Ai)return;const wi=Ai.findAncestor(hn=>it.isBlockImageView(hn));if(Ye&&!wi)return;const Mi=new A.Matcher(Ae._createPattern()).match(di);if(!Mi||!ii.consumable.consume(di,Mi.match))return;const cn=Xt.modelCursor.nodeBefore||Xt.modelCursor.parent;ii.writer.setAttribute(Ae.id,!0,cn)},{priority:"high"})}}class gi extends v.Plugin{static get requires(){return[We,B,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const Ae=this.editor,Ye=Ae.editing.view.document;this.listenTo(Ye,"click",(it,ht)=>{this._isSelectedLinkedImage(Ae.model.document.selection)&&(ht.preventDefault(),it.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const Ae=this.editor,Ye=Ae.t;Ae.ui.componentFactory.add("linkImage",it=>{const ht=new xt.ButtonView(it),Ot=Ae.plugins.get("LinkUI"),Xt=Ae.commands.get("link");return ht.set({isEnabled:!0,label:Ye("Link image"),icon:ji,keystroke:ut,tooltip:!0,isToggleable:!0}),ht.bind("isEnabled").to(Xt,"isEnabled"),ht.bind("isOn").to(Xt,"value",ii=>!!ii),this.listenTo(ht,"execute",()=>{this._isSelectedLinkedImage(Ae.model.document.selection)?Ot._addActionsView():Ot._showUI(!0)}),ht})}_isSelectedLinkedImage(Ae){const Ye=Ae.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(Ye)&&Ye.hasAttribute("linkHref")}}var Oi=j(883),Ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Bi()(Oi.Z,Ti),Oi.Z.locals;class Yi extends v.Plugin{static get requires(){return[wt,gi]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=I})()},66491:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero",Disc:"Disc","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={332:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const l=A},118:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const l=A},479:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const l=A},463:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const l=A},989:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const l=A},528:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},331:(p,j,I)=>{p.exports=I(79)("./src/enter.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{AdjacentListsSupport:()=>We,DocumentList:()=>Ie,DocumentListEditing:()=>Ge,DocumentListIndentCommand:()=>ne,DocumentListProperties:()=>Ti,DocumentListPropertiesEditing:()=>B,DocumentListPropertiesUtils:()=>ji,DocumentListUtils:()=>W,IndentCommand:()=>Yi,List:()=>Ee,ListEditing:()=>It,ListProperties:()=>hi,ListPropertiesEditing:()=>Nt,ListPropertiesUI:()=>gi,ListUI:()=>_e,ListUtils:()=>it,TodoList:()=>io,TodoListEditing:()=>Nn,TodoListUI:()=>jn});var p=ae(704),j=ae(181),I=ae(331),v=ae(209);class A{constructor(g,u){this._startElement=g,this._referenceIndent=g.getAttribute("listIndent"),this._isForward=u.direction=="forward",this._includeSelf=!!u.includeSelf,this._sameAttributes=(0,v.toArray)(u.sameAttributes||[]),this._sameIndent=!!u.sameIndent,this._lowerIndent=!!u.lowerIndent,this._higherIndent=!!u.higherIndent}static first(g,u){const x=new this(g,u)[Symbol.iterator]();return(0,v.first)(x)}*[Symbol.iterator](){const g=[];for(const{node:u}of l(this._getStartNode(),this._isForward?"forward":"backward")){const x=u.getAttribute("listIndent");if(x<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=x}else if(x>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){g.push(u);continue}}else{if(!this._sameIndent){if(this._higherIndent){g.length&&(yield*g,g.length=0);break}continue}if(this._sameAttributes.some(F=>u.getAttribute(F)!==this._startElement.getAttribute(F)))break}g.length&&(yield*g,g.length=0),yield u}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*l(ze,g="forward"){const u=g=="forward";let x=null;for(;z(ze);)yield{node:ze,previous:x},x=ze,ze=u?ze.nextSibling:ze.previousSibling}class c{constructor(g){this._listHead=g}[Symbol.iterator](){return l(this._listHead,"forward")}}class L{static next(){return(0,v.uid)()}}function z(ze){return!!ze&&ze.is("element")&&ze.hasAttribute("listItemId")}function y(ze,g={}){return[...h(ze,{...g,direction:"backward"}),...h(ze,{...g,direction:"forward"})]}function h(ze,g={}){const u=g.direction=="forward",x=Array.from(new A(ze,{...g,includeSelf:u,sameIndent:!0,sameAttributes:"listItemId"}));return u?x:x.reverse()}function V(ze){const g=new A(ze,{sameIndent:!0,sameAttributes:"listType"}),u=new A(ze,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(g).reverse(),...u]}function $(ze){return!A.first(ze,{sameIndent:!0,sameAttributes:"listItemId"})}function J(ze){return!A.first(ze,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Y(ze,g={}){ze=(0,v.toArray)(ze);const u=g.withNested!==!1,x=new Set;for(const F of ze)for(const K of y(F,{higherIndent:u}))x.add(K);return E(x)}function le(ze){ze=(0,v.toArray)(ze);const g=new Set;for(const u of ze)for(const x of V(u))g.add(x);return E(g)}function q(ze,g){const u=h(ze,{direction:"forward"}),x=L.next();for(const F of u)g.setAttribute("listItemId",x,F);return u}function d(ze,g,u){const x={};for(const[K,ce]of g.getAttributes())K.startsWith("list")&&(x[K]=ce);const F=h(ze,{direction:"forward"});for(const K of F)u.setAttributes(x,K);return F}function b(ze,g,{expand:u,indentBy:x=1}={}){ze=(0,v.toArray)(ze);const F=u?Y(ze):ze;for(const K of F){const ce=K.getAttribute("listIndent")+x;ce<0?_(K,g):g.setAttribute("listIndent",ce,K)}return F}function _(ze,g){ze=(0,v.toArray)(ze);for(const u of ze)for(const x of u.getAttributeKeys())x.startsWith("list")&&g.removeAttribute(x,u);return ze}function w(ze){if(!ze.length)return!1;const g=ze[0].getAttribute("listItemId");return!!g&&!ze.some(u=>u.getAttribute("listItemId")!=g)}function E(ze){return Array.from(ze).filter(g=>g.root.rootName!=="$graveyard").sort((g,u)=>g.index-u.index)}function C(ze){const g=ze.document.selection.getSelectedElement();return g&&ze.schema.isObject(g)&&ze.schema.isBlock(g)?g:null}function S(ze,g,u){return h(g,{direction:"forward"}).pop().index>ze.index?d(ze,g,u):[]}class ne extends p.Command{constructor(g,u){super(g),this._direction=u}refresh(){this.isEnabled=this._checkEnabled()}execute(){const g=this.editor.model,u=U(g.document.selection);g.change(x=>{const F=[];w(u)&&!$(u[0])?(this._direction=="forward"&&F.push(...b(u,x)),F.push(...q(u[0],x))):this._direction=="forward"?F.push(...b(u,x,{expand:!0})):F.push(...function(K,ce){const fe=Y(K=(0,v.toArray)(K)),Se=new Set,Le=Math.min(...fe.map(He=>He.getAttribute("listIndent"))),De=new Map;for(const He of fe)De.set(He,A.first(He,{lowerIndent:!0}));for(const He of fe){if(Se.has(He))continue;Se.add(He);const Qe=He.getAttribute("listIndent")-1;if(Qe<0)_(He,ce);else{if(He.getAttribute("listIndent")==Le){const _t=S(He,De.get(He),ce);for(const Pt of _t)Se.add(Pt);if(_t.length)continue}ce.setAttribute("listIndent",Qe,He)}}return E(Se)}(u,x));for(const K of F){if(!K.hasAttribute("listType"))continue;const ce=A.first(K,{sameIndent:!0});ce&&x.setAttribute("listType",ce.getAttribute("listType"),K)}this._fireAfterExecute(F)})}_fireAfterExecute(g){this.fire("afterExecute",E(new Set(g)))}_checkEnabled(){let g=U(this.editor.model.document.selection),u=g[0];if(!u)return!1;if(this._direction=="backward"||w(g)&&!$(g[0]))return!0;g=Y(g),u=g[0];const x=A.first(u,{sameIndent:!0});return!!x&&x.getAttribute("listType")==u.getAttribute("listType")}}function U(ze){const g=Array.from(ze.getSelectedBlocks()),u=g.findIndex(x=>!z(x));return u!=-1&&(g.length=u),g}class D extends p.Command{constructor(g,u){super(g),this.type=u}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(g={}){const u=this.editor.model,x=u.document,F=C(u),K=Array.from(x.selection.getSelectedBlocks()).filter(fe=>u.schema.checkAttribute(fe,"listType")),ce=g.forceValue!==void 0?!g.forceValue:this.value;u.change(fe=>{if(ce){const Se=K[K.length-1],Le=h(Se,{direction:"forward"}),De=[];Le.length>1&&De.push(...q(Le[1],fe)),De.push(..._(K,fe)),De.push(...function(He,Qe){const _t=[];let Pt=Number.POSITIVE_INFINITY;for(const{node:vt}of l(He.nextSibling,"forward")){const Gt=vt.getAttribute("listIndent");if(Gt==0)break;Gt<Pt&&(Pt=Gt);const ui=Gt-Pt;Qe.setAttribute("listIndent",ui,vt),_t.push(vt)}return _t}(Se,fe)),this._fireAfterExecute(De)}else if((F||x.selection.isCollapsed)&&z(K[0])){const Se=V(F||K[0]);for(const Le of Se)fe.setAttribute("listType",this.type,Le);this._fireAfterExecute(Se)}else{const Se=[];for(const Le of K)if(Le.hasAttribute("listType"))for(const De of Y(Le,{withNested:!1}))De.getAttribute("listType")!=this.type&&(fe.setAttribute("listType",this.type,De),Se.push(De));else fe.setAttributes({listIndent:0,listItemId:L.next(),listType:this.type},Le),Se.push(Le);this._fireAfterExecute(Se)}})}_fireAfterExecute(g){this.fire("afterExecute",E(new Set(g)))}_getValue(){const g=this.editor.model.document.selection,u=Array.from(g.getSelectedBlocks());if(!u.length)return!1;for(const x of u)if(x.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const g=this.editor.model.document.selection,u=this.editor.model.schema,x=Array.from(g.getSelectedBlocks());if(!x.length)return!1;if(this.value)return!0;for(const F of x)if(u.checkAttribute(F,"listType"))return!0;return!1}}class f extends p.Command{constructor(g,u){super(g),this._direction=u}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:g=!1}={}){const u=this.editor.model,x=u.document.selection,F=[];u.change(K=>{const{firstElement:ce,lastElement:fe}=this._getMergeSubjectElements(x,g),Se=ce.getAttribute("listIndent")||0,Le=fe.getAttribute("listIndent"),De=fe.getAttribute("listItemId");if(Se!=Le){const Qe=(He=fe,Array.from(new A(He,{direction:"forward",higherIndent:!0})));F.push(...b([fe,...Qe],K,{indentBy:Se-Le,expand:Se<Le}))}var He;if(g){let Qe=x;x.isCollapsed&&(Qe=K.createSelection(K.createRange(K.createPositionAt(ce,"end"),K.createPositionAt(fe,0)))),u.deleteContent(Qe,{doNotResetEntireContent:x.isCollapsed});const _t=Qe.getLastPosition().parent,Pt=_t.nextSibling;F.push(_t),Pt&&Pt!==fe&&Pt.getAttribute("listItemId")==De&&F.push(...d(Pt,_t,K))}else F.push(...d(fe,ce,K));this._fireAfterExecute(F)})}_fireAfterExecute(g){this.fire("afterExecute",E(new Set(g)))}_checkEnabled(){const g=this.editor.model,u=g.document.selection,x=C(g);if(u.isCollapsed||x){const F=x||u.getFirstPosition().parent;if(!z(F))return!1;const K=this._direction=="backward"?F.previousSibling:F.nextSibling;if(!K||w([F,K]))return!1}else{const F=u.getLastPosition(),K=u.getFirstPosition();if(F.parent===K.parent||!z(F.parent))return!1}return!0}_getMergeSubjectElements(g,u){const x=C(this.editor.model);let F,K;if(g.isCollapsed||x){const ce=x||g.getFirstPosition().parent,fe=$(ce);this._direction=="backward"?(K=ce,F=fe&&!u?A.first(ce,{sameIndent:!0,lowerIndent:!0}):ce.previousSibling):(F=ce,K=ce.nextSibling)}else F=g.getFirstPosition().parent,K=g.getLastPosition().parent;return{firstElement:F,lastElement:K}}}class R extends p.Command{constructor(g,u){super(g),this._direction=u}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(g=>{const u=q(this._getStartBlock(),g);this._fireAfterExecute(u)})}_fireAfterExecute(g){this.fire("afterExecute",E(new Set(g)))}_checkEnabled(){const g=this.editor.model.document.selection,u=this._getStartBlock();return g.isCollapsed&&z(u)&&!$(u)}_getStartBlock(){const g=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?g:g.nextSibling}}class W extends p.Plugin{static get pluginName(){return"DocumentListUtils"}expandListBlocksToCompleteList(g){return le(g)}isFirstBlockOfListItem(g){return $(g)}isListItemBlock(g){return z(g)}expandListBlocksToCompleteItems(g,u={}){return Y(g,u)}}var N=ae(492);function oe(ze){return ze.is("element","ol")||ze.is("element","ul")}function Te(ze){return ze.is("element","li")}function Oe(ze){let g=0,u=ze.parent;for(;u;){if(Te(u))g++;else{const x=u.previousSibling;x&&Te(x)&&g++}u=u.parent}return g}function xe(ze,g,u,x=rt(u,g)){return ze.createAttributeElement(lt(u),null,{priority:2*g/100-100,id:x})}function Re(ze,g,u){return ze.createAttributeElement("li",null,{priority:(2*g+1)/100-100,id:u})}function lt(ze){return ze=="numbered"?"ol":"ul"}function rt(ze,g){return`list-${ze}-${g}`}function ct(ze,g){const u=ze.nodeBefore;if(z(u)){let x=u;for(const{node:F}of l(x,"backward"))if(x=F,g.has(x))return;g.set(u,x)}else{const x=ze.nodeAfter;z(x)&&g.set(x,x)}}function st(){return(ze,g,u)=>{if(!u.consumable.test(g.viewItem,{name:!0}))return;const x=new N.UpcastWriter(g.viewItem.document);for(const F of Array.from(g.viewItem.getChildren()))Te(F)||oe(F)||x.remove(F)}}function kt(ze,g,u){const x=function(F){return(K,ce)=>{const fe=[];for(const Se of F)K.hasAttribute(Se)&&fe.push(`attribute:${Se}`);return!!fe.every(Se=>ce.test(K,Se)!==!1)&&(fe.forEach(Se=>ce.consume(K,Se)),!0)}}(ze);return(F,K,ce)=>{const{writer:fe,mapper:Se,consumable:Le}=ce,De=K.item;if(!ze.includes(K.attributeKey)||!x(De,Le))return;const He=function(Qe,_t,Pt){const vt=Pt.createRangeOn(Qe);return _t.toViewRange(vt).getTrimmed().getContainedElement()}(De,Se,u);(function(Qe,_t){let Pt=Qe.parent;for(;Pt.is("attributeElement")&&["ul","ol","li"].includes(Pt.name);){const vt=Pt.parent;_t.unwrap(_t.createRangeOn(Qe),Pt),Pt=vt}})(He,fe),function(Qe,_t,Pt,vt){if(!Qe.hasAttribute("listIndent"))return;const Gt=Qe.getAttribute("listIndent");let ui=Qe;for(let Pi=Gt;Pi>=0;Pi--){const Wi=Re(vt,Pi,ui.getAttribute("listItemId")),Ki=xe(vt,Pi,ui.getAttribute("listType"));for(const nn of Pt)ui.hasAttribute(nn.attributeName)&&nn.setAttributeOnDowncast(vt,ui.getAttribute(nn.attributeName),nn.scope=="list"?Ki:Wi);if(_t=vt.wrap(_t,Wi),_t=vt.wrap(_t,Ki),Pi==0||(ui=A.first(ui,{lowerIndent:!0}),!ui))break}}(De,fe.createRangeOn(He),g,fe)}}function pt(ze,{dataPipeline:g}={}){return(u,{writer:x})=>{if(!Ze(u,ze))return null;if(!g)return x.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const F=x.createContainerElement("p");return x.setCustomProperty("dataPipeline:transparentRendering",!0,F),F}}function Ze(ze,g,u=y(ze)){if(!z(ze))return!1;for(const x of ze.getAttributeKeys())if(!x.startsWith("selection:")&&!g.includes(x))return!1;return u.length<2}var mt=ae(62),qe=ae.n(mt),et=ae(118),Q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(et.Z,Q),et.Z.locals;var de=ae(479),we={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(de.Z,we),de.Z.locals;const Be=["listType","listIndent","listItemId"];class Ge extends p.Plugin{constructor(){super(...arguments),this._downcastStrategies=[]}static get pluginName(){return"DocumentListEditing"}static get requires(){return[I.Enter,j.Delete,W]}init(){const g=this.editor,u=g.model;if(g.plugins.has("ListEditing"))throw new v.CKEditorError("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});u.schema.extend("$container",{allowAttributes:Be}),u.schema.extend("$block",{allowAttributes:Be}),u.schema.extend("$blockObject",{allowAttributes:Be});for(const x of Be)u.schema.setAttributeProperties(x,{copyOnReplace:!0});g.commands.add("numberedList",new D(g,"numbered")),g.commands.add("bulletedList",new D(g,"bulleted")),g.commands.add("indentList",new ne(g,"forward")),g.commands.add("outdentList",new ne(g,"backward")),g.commands.add("mergeListItemBackward",new f(g,"backward")),g.commands.add("mergeListItemForward",new f(g,"forward")),g.commands.add("splitListItemBefore",new R(g,"before")),g.commands.add("splitListItemAfter",new R(g,"after")),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const g=this.editor.commands,u=g.get("indent"),x=g.get("outdent");u&&u.registerChildCommand(g.get("indentList"),{priority:"high"}),x&&x.registerChildCommand(g.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(g){this._downcastStrategies.push(g)}_getListAttributeNames(){return[...Be,...this._downcastStrategies.map(g=>g.attributeName)]}_setupDeleteIntegration(){const g=this.editor,u=g.commands.get("mergeListItemBackward"),x=g.commands.get("mergeListItemForward");this.listenTo(g.editing.view.document,"delete",(F,K)=>{const ce=g.model.document.selection;C(g.model)||g.model.change(()=>{const fe=ce.getFirstPosition();if(ce.isCollapsed&&K.direction=="backward"){if(!fe.isAtStart)return;const Se=fe.parent;if(!z(Se))return;if(A.first(Se,{sameAttributes:"listType",sameIndent:!0})||Se.getAttribute("listIndent")!==0){if(!u.isEnabled)return;u.execute({shouldMergeOnBlocksContentLevel:Fe(g.model,"backward")})}else J(Se)||g.execute("splitListItemAfter"),g.execute("outdentList");K.preventDefault(),F.stop()}else{if(ce.isCollapsed&&!ce.getLastPosition().isAtEnd||!x.isEnabled)return;x.execute({shouldMergeOnBlocksContentLevel:Fe(g.model,"forward")}),K.preventDefault(),F.stop()}})},{context:"li"})}_setupEnterIntegration(){const g=this.editor,u=g.model,x=g.commands,F=x.get("enter");this.listenTo(g.editing.view.document,"enter",(K,ce)=>{const fe=u.document,Se=fe.selection.getFirstPosition().parent;if(fe.selection.isCollapsed&&z(Se)&&Se.isEmpty&&!ce.isSoft){const Le=$(Se),De=J(Se);Le&&De?(g.execute("outdentList"),ce.preventDefault(),K.stop()):Le&&!De?(g.execute("splitListItemAfter"),ce.preventDefault(),K.stop()):De&&(g.execute("splitListItemBefore"),ce.preventDefault(),K.stop())}},{context:"li"}),this.listenTo(F,"afterExecute",()=>{const K=x.get("splitListItemBefore");K.refresh(),K.isEnabled&&y(g.model.document.selection.getLastPosition().parent).length===2&&K.execute()})}_setupTabIntegration(){const g=this.editor;this.listenTo(g.editing.view.document,"tab",(u,x)=>{const F=x.shiftKey?"outdentList":"indentList";this.editor.commands.get(F).isEnabled&&(g.execute(F),x.stopPropagation(),x.preventDefault(),u.stop())},{context:"li"})}_setupConversion(){const g=this.editor,u=g.model,x=this._getListAttributeNames();g.conversion.for("upcast").elementToElement({view:"li",model:"paragraph"}).add(F=>{F.on("element:li",(K,ce,fe)=>{const{writer:Se,schema:Le}=fe;if(!ce.modelRange)return;const De=Array.from(ce.modelRange.getItems({shallow:!0})).filter(Qe=>Le.checkAttribute(Qe,"listItemId"));if(!De.length)return;const He={listItemId:L.next(),listIndent:Oe(ce.viewItem),listType:ce.viewItem.parent&&ce.viewItem.parent.is("element","ol")?"numbered":"bulleted"};for(const Qe of De)z(Qe)||Se.setAttributes(He,Qe);De.length>1&&De[1].getAttribute("listItemId")!=He.listItemId&&fe.keepEmptyElement(De[0])}),F.on("element:ul",st(),{priority:"high"}),F.on("element:ol",st(),{priority:"high"})}),g.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:pt(x),converterPriority:"high"}),g.conversion.for("dataDowncast").elementToElement({model:"paragraph",view:pt(x,{dataPipeline:!0}),converterPriority:"high"}),g.conversion.for("downcast").add(F=>{F.on("attribute",kt(x,this._downcastStrategies,u))}),this.listenTo(u.document,"change:data",function(F,K,ce,fe){return()=>{const He=F.document.differ.getChanges(),Qe=[],_t=new Map,Pt=new Set;for(const vt of He)if(vt.type=="insert"&&vt.name!="$text")ct(vt.position,_t),vt.attributes.has("listItemId")?Pt.add(vt.position.nodeAfter):ct(vt.position.getShiftedBy(vt.length),_t);else if(vt.type=="remove"&&vt.attributes.has("listItemId"))ct(vt.position,_t);else if(vt.type=="attribute"){const Gt=vt.range.start.nodeAfter;ce.includes(vt.attributeKey)?(ct(vt.range.start,_t),vt.attributeNewValue===null?(ct(vt.range.start.getShiftedBy(1),_t),Le(Gt)&&Qe.push(Gt)):Pt.add(Gt)):z(Gt)&&Le(Gt)&&Qe.push(Gt)}for(const vt of _t.values())Qe.push(...Se(vt,Pt));for(const vt of new Set(Qe))K.reconvertItem(vt)};function Se(He,Qe){const _t=[],Pt=new Set,vt=[];for(const{node:Gt,previous:ui}of l(He,"forward")){if(Pt.has(Gt))continue;const Pi=Gt.getAttribute("listIndent");ui&&Pi<ui.getAttribute("listIndent")&&(vt.length=Pi+1),vt[Pi]=Object.fromEntries(Array.from(Gt.getAttributes()).filter(([Ki])=>ce.includes(Ki)));const Wi=h(Gt,{direction:"forward"});for(const Ki of Wi)Pt.add(Ki),(Le(Ki,Wi)||De(Ki,vt,Qe))&&_t.push(Ki)}return _t}function Le(He,Qe){if(!He.is("element","paragraph"))return!1;const _t=K.mapper.toViewElement(He);if(!_t)return!1;const Pt=Ze(He,ce,Qe);return!(!Pt||!_t.is("element","p"))||!(Pt||!_t.is("element","span"))}function De(He,Qe,_t){if(_t.has(He))return!1;const Pt=K.mapper.toViewElement(He);let vt=Qe.length-1;for(let Gt=Pt.parent;!Gt.is("editableElement");Gt=Gt.parent){const ui=Te(Gt),Pi=oe(Gt);if(!Pi&&!ui)continue;const Wi="checkAttributes:"+(ui?"item":"list");if(fe.fire(Wi,{viewElement:Gt,modelAttributes:Qe[vt]}))break;if(Pi&&(vt--,vt<0))return!1}return!0}}(u,g.editing,x,this),{priority:"high"}),this.on("checkAttributes:item",(F,{viewElement:K,modelAttributes:ce})=>{K.id!=ce.listItemId&&(F.return=!0,F.stop())}),this.on("checkAttributes:list",(F,{viewElement:K,modelAttributes:ce})=>{K.name==lt(ce.listType)&&K.id==rt(ce.listType,ce.listIndent)||(F.return=!0,F.stop())})}_setupModelPostFixing(){const g=this.editor.model,u=this._getListAttributeNames();g.document.registerPostFixer(x=>function(F,K,ce,fe){const Se=F.document.differ.getChanges(),Le=new Map;let De=!1;for(const Qe of Se)if(Qe.type=="insert"&&Qe.name!="$text"){const _t=Qe.position.nodeAfter;if(!F.schema.checkAttribute(_t,"listItemId"))for(const Pt of Array.from(_t.getAttributeKeys()))ce.includes(Pt)&&(K.removeAttribute(Pt,_t),De=!0);ct(Qe.position,Le),Qe.attributes.has("listItemId")||ct(Qe.position.getShiftedBy(Qe.length),Le);for(const{item:Pt,previousPosition:vt}of F.createRangeIn(_t))z(Pt)&&ct(vt,Le)}else Qe.type=="remove"?ct(Qe.position,Le):Qe.type=="attribute"&&ce.includes(Qe.attributeKey)&&(ct(Qe.range.start,Le),Qe.attributeNewValue===null&&ct(Qe.range.start.getShiftedBy(1),Le));const He=new Set;for(const Qe of Le.values())De=fe.fire("postFixer",{listNodes:new c(Qe),listHead:Qe,writer:K,seenIds:He})||De;return De}(g,x,u,this)),this.on("postFixer",(x,{listNodes:F,writer:K})=>{x.return=function(ce,fe){let Se=0,Le=-1,De=null,He=!1;for(const{node:Qe}of ce){const _t=Qe.getAttribute("listIndent");if(_t>Se){let Pt;De===null?(De=_t-Se,Pt=Se):(De>_t&&(De=_t),Pt=_t-De),Pt>Le+1&&(Pt=Le+1),fe.setAttribute("listIndent",Pt,Qe),He=!0,Le=Pt}else De=null,Se=_t+1,Le=_t}return He}(F,K)||x.return},{priority:"high"}),this.on("postFixer",(x,{listNodes:F,writer:K,seenIds:ce})=>{x.return=function(fe,Se,Le){const De=new Set;let He=!1;for(const{node:Qe}of fe){if(De.has(Qe))continue;let _t=Qe.getAttribute("listType"),Pt=Qe.getAttribute("listItemId");Se.has(Pt)&&(Pt=L.next()),Se.add(Pt);for(const vt of h(Qe,{direction:"forward"}))De.add(vt),vt.getAttribute("listType")!=_t&&(Pt=L.next(),_t=vt.getAttribute("listType")),vt.getAttribute("listItemId")!=Pt&&(Le.setAttribute("listItemId",Pt,vt),He=!0)}return He}(F,ce,K)||x.return},{priority:"high"})}_setupClipboardIntegration(){const g=this.editor.model;this.listenTo(g,"insertContent",function(u){return(x,[F,K])=>{const ce=F.is("documentFragment")?F.getChild(0):F;if(!z(ce))return;let fe;fe=K?u.createSelection(K):u.document.selection;const Se=fe.getFirstPosition();let Le=null;if(z(Se.parent)?Le=Se.parent:z(Se.nodeBefore)&&(Le=Se.nodeBefore),!Le)return;const De=Le.getAttribute("listIndent")-ce.getAttribute("listIndent");De<=0||u.change(He=>{for(const{node:Qe}of l(ce,"forward"))He.setAttribute("listIndent",Qe.getAttribute("listIndent")+De,Qe)})}}(g),{priority:"high"}),this.listenTo(g,"getSelectedContent",(u,[x])=>{w(Array.from(x.getSelectedBlocks()))&&g.change(F=>_(Array.from(u.return.getChildren()),F))})}}function Fe(ze,g){const u=ze.document.selection;if(!u.isCollapsed)return!C(ze);if(g==="forward")return!0;const x=u.getFirstPosition().parent,F=x.previousSibling;return!ze.schema.isObject(F)&&(!!F.isEmpty||w([x,F]))}var Ve=ae(273);function ut(ze,g){const u=g.mapper,x=g.writer,F=ze.getAttribute("listType")=="numbered"?"ol":"ul",K=function(fe){const Se=fe.createContainerElement("li");return Se.getFillerOffset=Bi,Se}(x),ce=x.createContainerElement(F,null);return x.insert(x.createPositionAt(ce,0),K),u.bindElements(ze,K),K}function St(ze,g,u,x){const F=g.parent,K=u.mapper,ce=u.writer;let fe=K.toViewPosition(x.createPositionBefore(ze));const Se=yt(ze.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:ze.getAttribute("listIndent")}),Le=ze.previousSibling;if(Se&&Se.getAttribute("listIndent")==ze.getAttribute("listIndent")){const De=K.toViewElement(Se);fe=ce.breakContainer(ce.createPositionAfter(De))}else if(Le&&Le.name=="listItem"){fe=K.toViewPosition(x.createPositionAt(Le,"end"));const De=K.findMappedViewAncestor(fe),He=mi(De);fe=He?ce.createPositionBefore(He):ce.createPositionAt(De,"end")}else fe=K.toViewPosition(x.createPositionBefore(ze));if(fe=Qt(fe),ce.insert(fe,F),Le&&Le.name=="listItem"){const De=K.toViewElement(Le),He=ce.createRange(ce.createPositionAt(De,0),fe).getWalker({ignoreElementEnd:!0});for(const Qe of He)if(Qe.item.is("element","li")){const _t=ce.breakContainer(ce.createPositionBefore(Qe.item)),Pt=Qe.item.parent,vt=ce.createPositionAt(g,"end");Lt(ce,vt.nodeBefore,vt.nodeAfter),ce.move(ce.createRangeOn(Pt),vt),He._position=_t}}else{const De=F.nextSibling;if(De&&(De.is("element","ul")||De.is("element","ol"))){let He=null;for(const Qe of De.getChildren()){const _t=K.toModelElement(Qe);if(!(_t&&_t.getAttribute("listIndent")>ze.getAttribute("listIndent")))break;He=Qe}He&&(ce.breakContainer(ce.createPositionAfter(He)),ce.move(ce.createRangeOn(He.parent),ce.createPositionAt(g,"end")))}}Lt(ce,F,F.nextSibling),Lt(ce,F.previousSibling,F)}function Lt(ze,g,u){return!g||!u||g.name!="ul"&&g.name!="ol"||g.name!=u.name||g.getAttribute("class")!==u.getAttribute("class")?null:ze.mergeContainers(ze.createPositionAfter(g))}function Qt(ze){return ze.getLastMatchingPosition(g=>g.item.is("uiElement"))}function yt(ze,g){const u=!!g.sameIndent,x=!!g.smallerIndent,F=g.listIndent;let K=ze;for(;K&&K.name=="listItem";){const ce=K.getAttribute("listIndent");if(u&&F==ce||x&&F>ce)return K;K=g.direction==="forward"?K.nextSibling:K.previousSibling}return null}function Tt(ze,g,u,x){ze.ui.componentFactory.add(g,F=>{const K=ze.commands.get(g),ce=new Ve.ButtonView(F);return ce.set({label:u,icon:x,tooltip:!0,isToggleable:!0}),ce.bind("isOn","isEnabled").to(K,"value","isEnabled"),ce.on("execute",()=>{ze.execute(g),ze.editing.view.focus()}),ce})}function mi(ze){for(const g of ze.getChildren())if(g.name=="ul"||g.name=="ol")return g;return null}function pi(ze,g){const u=[],x=ze.parent,F={ignoreElementEnd:!1,startPosition:ze,shallow:!0,direction:g},K=x.getAttribute("listIndent"),ce=[...new N.TreeWalker(F)].filter(fe=>fe.item.is("element")).map(fe=>fe.item);for(const fe of ce){if(!fe.is("element","listItem")||fe.getAttribute("listIndent")<K)break;if(!(fe.getAttribute("listIndent")>K)){if(fe.getAttribute("listType")!==x.getAttribute("listType")||fe.getAttribute("listStyle")!==x.getAttribute("listStyle")||fe.getAttribute("listReversed")!==x.getAttribute("listReversed")||fe.getAttribute("listStart")!==x.getAttribute("listStart"))break;g==="backward"?u.unshift(fe):u.push(fe)}}return u}function Li(ze){let g=[...ze.document.selection.getSelectedBlocks()].filter(u=>u.is("element","listItem")).map(u=>{const x=ze.change(F=>F.createPositionAt(u,0));return[...pi(x,"backward"),...pi(x,"forward")]}).flat();return g=[...new Set(g)],g}const Ei=["disc","circle","square"],Ni=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function xi(ze){return Ei.includes(ze)?"bulleted":Ni.includes(ze)?"numbered":null}function Bi(){const ze=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||ze?0:N.getFillerOffset.call(this)}const nt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',ue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class _e extends p.Plugin{static get pluginName(){return"ListUI"}init(){const g=this.editor.t;Tt(this.editor,"numberedList",g("Numbered List"),nt),Tt(this.editor,"bulletedList",g("Bulleted List"),ue)}}class Ie extends p.Plugin{static get requires(){return[Ge,_e]}static get pluginName(){return"DocumentList"}}class We extends p.Plugin{static get pluginName(){return"AdjacentListsSupport"}init(){const g=this.editor;g.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),g.conversion.for("upcast").add(u=>{u.on("element:ol",tt()),u.on("element:ul",tt())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),g.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),g.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(u,x)=>{const F=x.writer.createContainerElement("ck-list-separator");return x.writer.setCustomProperty("dataPipeline:transparentRendering",!0,F),F.getFillerOffset=()=>null,F}})}}function tt(){return(ze,g,u)=>{const x=g.viewItem,F=x.nextSibling;if(!F||x.name!==F.name)return;g.modelRange||Object.assign(g,u.convertChildren(g.viewItem,g.modelCursor));const K=u.writer,ce=K.createElement("listSeparator");if(!u.safeInsert(ce,g.modelCursor))return;const fe=u.getSplitParts(ce);g.modelRange=K.createRange(g.modelRange.start,K.createPositionAfter(fe[fe.length-1])),u.updateConversionResult(ce,g)}}class bt extends p.Command{refresh(){const g=this._getValue();this.value=g,this.isEnabled=g!=null}execute({startIndex:g=1}={}){const u=this.editor.model,x=u.document;let F=Array.from(x.selection.getSelectedBlocks()).filter(K=>z(K)&&K.getAttribute("listType")=="numbered");F=le(F),u.change(K=>{for(const ce of F)K.setAttribute("listStart",g>=0?g:1,ce)})}_getValue(){const g=this.editor.model.document,u=(0,v.first)(g.selection.getSelectedBlocks());return u&&z(u)&&u.getAttribute("listType")=="numbered"?u.getAttribute("listStart"):null}}const At={},xt={},Kt={},ni=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:ze,typeAttribute:g,listType:u}of ni)At[ze]=u,xt[ze]=g,g&&(Kt[g]=ze);function ei(){return ni.map(ze=>ze.listStyle)}function li(ze){return At[ze]||null}function Ci(ze){return Kt[ze]||null}function yi(ze){return xt[ze]||null}class Ri extends p.Command{constructor(g,u,x){super(g),this.defaultType=u,this._supportedTypes=x}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(g={}){const u=this.editor.model,x=u.document;u.change(F=>{this._tryToConvertItemsToList(g);let K=Array.from(x.selection.getSelectedBlocks()).filter(ce=>ce.hasAttribute("listType"));if(K.length){K=le(K);for(const ce of K)F.setAttribute("listStyle",g.type||this.defaultType,ce)}})}isStyleTypeSupported(g){return!this._supportedTypes||this._supportedTypes.includes(g)}_getValue(){const g=(0,v.first)(this.editor.model.document.selection.getSelectedBlocks());return z(g)?g.getAttribute("listStyle"):null}_checkEnabled(){const g=this.editor,u=g.commands.get("numberedList"),x=g.commands.get("bulletedList");return u.isEnabled||x.isEnabled}_tryToConvertItemsToList(g){if(!g.type)return;const u=li(g.type);if(!u)return;const x=this.editor,F=`${u}List`;x.commands.get(F).value||x.execute(F)}}class qi extends p.Command{refresh(){const g=this._getValue();this.value=g,this.isEnabled=g!=null}execute(g={}){const u=this.editor.model,x=u.document;let F=Array.from(x.selection.getSelectedBlocks()).filter(K=>z(K)&&K.getAttribute("listType")=="numbered");F=le(F),u.change(K=>{for(const ce of F)K.setAttribute("listReversed",!!g.reversed,ce)})}_getValue(){const g=this.editor.model.document,u=(0,v.first)(g.selection.getSelectedBlocks());return z(u)&&u.getAttribute("listType")=="numbered"?u.getAttribute("listReversed"):null}}function Ui(ze){return(g,u,x)=>{const{writer:F,schema:K,consumable:ce}=x;if(ce.test(u.viewItem,ze.viewConsumables)===!1)return;u.modelRange||Object.assign(u,x.convertChildren(u.viewItem,u.modelCursor));let fe=!1;for(const Se of u.modelRange.getItems({shallow:!0}))K.checkAttribute(Se,ze.attributeName)&&ze.appliesToListItem(Se)&&(Se.hasAttribute(ze.attributeName)||(F.setAttribute(ze.attributeName,ze.getAttributeOnUpcast(u.viewItem),Se),fe=!0));fe&&ce.consume(u.viewItem,ze.viewConsumables)}}class ji extends p.Plugin{static get pluginName(){return"DocumentListPropertiesUtils"}getAllSupportedStyleTypes(){return ei()}getListTypeFromListStyleType(g){return li(g)}getListStyleTypeFromTypeAttribute(g){return Ci(g)}getTypeAttributeFromListStyleType(g){return yi(g)}}const he="default";class B extends p.Plugin{static get requires(){return[Ge,ji]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(g){super(g),g.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const g=this.editor,u=g.model,x=g.plugins.get(Ge),F=function(K){const ce=[];if(K.styles){const fe=typeof K.styles=="object"&&K.styles.useAttribute;ce.push({attributeName:"listStyle",defaultValue:he,viewConsumables:{styles:"list-style-type"},addCommand(Se){let Le=ei();fe&&(Le=Le.filter(De=>!!yi(De))),Se.commands.add("listStyle",new Ri(Se,he,Le))},appliesToListItem:()=>!0,hasValidAttribute(Se){if(!Se.hasAttribute("listStyle"))return!1;const Le=Se.getAttribute("listStyle");return Le==he||li(Le)==Se.getAttribute("listType")},setAttributeOnDowncast(Se,Le,De){if(Le&&Le!==he){if(!fe)return void Se.setStyle("list-style-type",Le,De);{const He=yi(Le);if(He)return void Se.setAttribute("type",He,De)}}Se.removeStyle("list-style-type",De),Se.removeAttribute("type",De)},getAttributeOnUpcast(Se){const Le=Se.getStyle("list-style-type");if(Le)return Le;const De=Se.getAttribute("type");return De?Ci(De):he}})}return K.reversed&&ce.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(fe){fe.commands.add("listReversed",new qi(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",hasValidAttribute(fe){return this.appliesToListItem(fe)==fe.hasAttribute("listReversed")},setAttributeOnDowncast(fe,Se,Le){Se?fe.setAttribute("reversed","reversed",Le):fe.removeAttribute("reversed",Le)},getAttributeOnUpcast:fe=>fe.hasAttribute("reversed")}),K.startIndex&&ce.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(fe){fe.commands.add("listStart",new bt(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",hasValidAttribute(fe){return this.appliesToListItem(fe)==fe.hasAttribute("listStart")},setAttributeOnDowncast(fe,Se,Le){Se==0||Se>1?fe.setAttribute("start",Se,Le):fe.removeAttribute("start",Le)},getAttributeOnUpcast(fe){const Se=fe.getAttribute("start");return Se>=0?Se:1}}),ce}(g.config.get("list.properties"));for(const K of F)K.addCommand(g),u.schema.extend("$container",{allowAttributes:K.attributeName}),u.schema.extend("$block",{allowAttributes:K.attributeName}),u.schema.extend("$blockObject",{allowAttributes:K.attributeName}),x.registerDowncastStrategy({scope:"list",attributeName:K.attributeName,setAttributeOnDowncast(ce,fe,Se){K.setAttributeOnDowncast(ce,fe,Se)}});g.conversion.for("upcast").add(K=>{for(const ce of F)K.on("element:ol",Ui(ce)),K.on("element:ul",Ui(ce))}),x.on("checkAttributes:list",(K,{viewElement:ce,modelAttributes:fe})=>{for(const Se of F)Se.getAttributeOnUpcast(ce)!=fe[Se.attributeName]&&(K.return=!0,K.stop())}),this.listenTo(g.commands.get("indentList"),"afterExecute",(K,ce)=>{u.change(fe=>{for(const Se of ce)for(const Le of F)Le.appliesToListItem(Se)&&fe.setAttribute(Le.attributeName,Le.defaultValue,Se)})}),x.on("postFixer",(K,{listNodes:ce,writer:fe})=>{for(const{node:Se}of ce)for(const Le of F)Le.hasValidAttribute(Se)||(Le.appliesToListItem(Se)?fe.setAttribute(Le.attributeName,Le.defaultValue,Se):fe.removeAttribute(Le.attributeName,Se),K.return=!0)}),x.on("postFixer",(K,{listNodes:ce,writer:fe})=>{const Se=[];for(const{node:Le,previous:De}of ce){if(!De)continue;const He=Le.getAttribute("listIndent"),Qe=De.getAttribute("listIndent");let _t=null;if(He>Qe?Se[Qe]=De:He<Qe?(_t=Se[He],Se.length=He):_t=De,_t&&_t.getAttribute("listType")==Le.getAttribute("listType"))for(const Pt of F){const{attributeName:vt}=Pt;if(!Pt.appliesToListItem(Le))continue;const Gt=_t.getAttribute(vt);Le.getAttribute(vt)!=Gt&&(fe.setAttribute(vt,Gt,Le),K.return=!0)}}})}}var ee=ae(332),se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(ee.Z,se),ee.Z.locals;class Pe extends Ve.View{constructor(g,u){super(g);const x=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),u&&this.children.addMany(u),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",x.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:x.if("isCollapsed","hidden"),"aria-labelledby":x.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const g=new Ve.ButtonView(this.locale),u=g.bindTemplate;return g.set({withText:!0,icon:'<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'}),g.extendTemplate({attributes:{"aria-expanded":u.to("isOn",x=>String(x))}}),g.bind("label").to(this),g.bind("isOn").to(this,"isCollapsed",x=>!x),g.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),g}}var Ct=ae(463),Ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(Ct.Z,Ht),Ct.Z.locals;class wt extends Ve.View{constructor(g,{enabledProperties:u,styleButtonViews:x,styleGridAriaLabel:F}){super(g),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new v.FocusTracker,this.keystrokes=new v.KeystrokeHandler,this.focusables=new Ve.ViewCollection;const K=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Ve.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),u.styles?(this.stylesView=this._createStylesView(x,F),this.children.add(this.stylesView)):K.push("ck-list-properties_without-styles"),(u.startIndex||u.reversed)&&(this._addNumberedListPropertyViews(u),K.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:K},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const g of this.stylesView.children)this.stylesView.focusTracker.add(g.element);(0,Ve.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>v.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const g=u=>u.stopPropagation();this.keystrokes.set("arrowright",g),this.keystrokes.set("arrowleft",g),this.keystrokes.set("arrowup",g),this.keystrokes.set("arrowdown",g)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(g,u){const x=new Ve.View(this.locale);return x.children=x.createCollection(),x.children.addMany(g),x.setTemplate({tag:"div",attributes:{"aria-label":u,class:["ck","ck-list-styles-list"]},children:x.children}),x.children.delegate("execute").to(this),x.focus=function(){this.children.first.focus()},x.focusTracker=new v.FocusTracker,x.keystrokes=new v.KeystrokeHandler,x.render(),x.keystrokes.listenTo(x.element),x}_addNumberedListPropertyViews(g){const u=this.locale.t,x=[];g.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),x.push(this.startIndexFieldView)),g.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),x.push(this.reversedSwitchButtonView)),g.styles?(this.additionalPropertiesCollapsibleView=new Pe(this.locale,x),this.additionalPropertiesCollapsibleView.set({label:u("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(x,"isEnabled",(...F)=>F.some(K=>K)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(F,K,ce)=>{ce||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(x)}_createStartIndexField(){const g=this.locale.t,u=new Ve.LabeledFieldView(this.locale,Ve.createLabeledInputNumber);return u.set({label:g("Start at"),class:"ck-numbered-list-properties__start-index"}),u.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),u.fieldView.on("input",()=>{const x=u.fieldView.element,F=x.valueAsNumber;Number.isNaN(F)||(x.checkValidity()?this.fire("listStart",{startIndex:F}):u.errorText=g("Start index must be greater than 0."))}),u}_createReversedSwitchButton(){const g=this.locale.t,u=new Ve.SwitchButtonView(this.locale);return u.set({withText:!0,label:g("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),u.delegate("execute").to(this,"listReversed"),u}}var zt=ae(989),fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(zt.Z,fi),zt.Z.locals;class gi extends p.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const g=this.editor,u=g.locale.t,x=g.config.get("list.properties");x.styles&&g.ui.componentFactory.add("bulletedList",Oi({editor:g,parentCommandName:"bulletedList",buttonLabel:u("Bulleted List"),buttonIcon:ue,styleGridAriaLabel:u("Bulleted list styles toolbar"),styleDefinitions:[{label:u("Toggle the disc list style"),tooltip:u("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:u("Toggle the circle list style"),tooltip:u("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:u("Toggle the square list style"),tooltip:u("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(x.styles||x.startIndex||x.reversed)&&g.ui.componentFactory.add("numberedList",Oi({editor:g,parentCommandName:"numberedList",buttonLabel:u("Numbered List"),buttonIcon:nt,styleGridAriaLabel:u("Numbered list styles toolbar"),styleDefinitions:[{label:u("Toggle the decimal list style"),tooltip:u("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:u("Toggle the decimal with leading zero list style"),tooltip:u("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:u("Toggle the lower\u2013roman list style"),tooltip:u("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:u("Toggle the upper\u2013roman list style"),tooltip:u("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:u("Toggle the lower\u2013latin list style"),tooltip:u("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:u("Toggle the upper\u2013latin list style"),tooltip:u("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Oi({editor:ze,parentCommandName:g,buttonLabel:u,buttonIcon:x,styleGridAriaLabel:F,styleDefinitions:K}){const ce=ze.commands.get(g);return fe=>{const Se=(0,Ve.createDropdown)(fe,Ve.SplitButtonView),Le=Se.buttonView;return Se.bind("isEnabled").to(ce),Se.class="ck-list-styles-dropdown",Le.on("execute",()=>{ze.execute(g),ze.editing.view.focus()}),Le.set({label:u,icon:x,tooltip:!0,isToggleable:!0}),Le.bind("isOn").to(ce,"value",De=>!!De),Se.once("change:isOpen",()=>{const De=function({editor:He,dropdownView:Qe,parentCommandName:_t,styleDefinitions:Pt,styleGridAriaLabel:vt}){const Gt=He.locale,ui=He.config.get("list.properties");let Pi=null;if(_t!="numberedList"&&(ui.startIndex=!1,ui.reversed=!1),ui.styles){const Ki=He.commands.get("listStyle"),nn=function({editor:Pn,listStyleCommand:qn,parentCommandName:_o}){const po=Pn.locale,Kn=Pn.commands.get(_o);return({label:yo,type:no,icon:fo,tooltip:bo})=>{const Vn=new Ve.ButtonView(po);return Vn.set({label:yo,icon:fo,tooltip:bo}),qn.on("change:value",()=>{Vn.isOn=qn.value===no}),Vn.on("execute",()=>{Kn.value?qn.value!==no?Pn.execute("listStyle",{type:no}):Pn.execute("listStyle",{type:qn.defaultType}):Pn.model.change(()=>{Pn.execute("listStyle",{type:no})})}),Vn}}({editor:He,parentCommandName:_t,listStyleCommand:Ki}),Wn=typeof Ki.isStyleTypeSupported=="function"?Pn=>Ki.isStyleTypeSupported(Pn.type):()=>!0;Pi=Pt.filter(Wn).map(nn)}const Wi=new wt(Gt,{styleGridAriaLabel:vt,enabledProperties:ui,styleButtonViews:Pi});if(ui.styles&&(0,Ve.focusChildOnDropdownOpen)(Qe,()=>Wi.stylesView.children.find(Ki=>Ki.isOn)),ui.startIndex){const Ki=He.commands.get("listStart");Wi.startIndexFieldView.bind("isEnabled").to(Ki),Wi.startIndexFieldView.fieldView.bind("value").to(Ki),Wi.on("listStart",(nn,Wn)=>He.execute("listStart",Wn))}if(ui.reversed){const Ki=He.commands.get("listReversed");Wi.reversedSwitchButtonView.bind("isEnabled").to(Ki),Wi.reversedSwitchButtonView.bind("isOn").to(Ki,"value",nn=>!!nn),Wi.on("listReversed",()=>{const nn=Ki.value;He.execute("listReversed",{reversed:!nn})})}return Wi.delegate("execute").to(Qe),Wi}({editor:ze,dropdownView:Se,parentCommandName:g,styleGridAriaLabel:F,styleDefinitions:K});Se.panelView.children.add(De)}),Se.on("execute",()=>{ze.editing.view.focus()}),Se}}class Ti extends p.Plugin{static get requires(){return[B,gi]}static get pluginName(){return"DocumentListProperties"}}class Yi extends p.Command{constructor(g,u){super(g),this._indentBy=u=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const g=this.editor.model,u=g.document;let x=Array.from(u.selection.getSelectedBlocks());g.change(F=>{const K=x[x.length-1];let ce=K.nextSibling;for(;ce&&ce.name=="listItem"&&ce.getAttribute("listIndent")>K.getAttribute("listIndent");)x.push(ce),ce=ce.nextSibling;this._indentBy<0&&(x=x.reverse());for(const fe of x){const Se=fe.getAttribute("listIndent")+this._indentBy;Se<0?F.rename(fe,"paragraph"):F.setAttribute("listIndent",Se,fe)}this.fire("_executeCleanup",x)})}_checkEnabled(){const g=(0,v.first)(this.editor.model.document.selection.getSelectedBlocks());if(!g||!g.is("element","listItem"))return!1;if(this._indentBy>0){const u=g.getAttribute("listIndent"),x=g.getAttribute("listType");let F=g.previousSibling;for(;F&&F.is("element","listItem")&&F.getAttribute("listIndent")>=u;){if(F.getAttribute("listIndent")==u)return F.getAttribute("listType")==x;F=F.previousSibling}return!1}return!0}}class Ut extends p.Command{constructor(g,u){super(g),this.type=u}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(g={}){const u=this.editor.model,x=u.document,F=Array.from(x.selection.getSelectedBlocks()).filter(ce=>Ye(ce,u.schema)),K=g.forceValue!==void 0?!g.forceValue:this.value;u.change(ce=>{if(K){let fe=F[F.length-1].nextSibling,Se=Number.POSITIVE_INFINITY,Le=[];for(;fe&&fe.name=="listItem"&&fe.getAttribute("listIndent")!==0;){const De=fe.getAttribute("listIndent");De<Se&&(Se=De);const He=De-Se;Le.push({element:fe,listIndent:He}),fe=fe.nextSibling}Le=Le.reverse();for(const De of Le)ce.setAttribute("listIndent",De.listIndent,De.element)}if(!K){let fe=Number.POSITIVE_INFINITY;for(const Se of F)Se.is("element","listItem")&&Se.getAttribute("listIndent")<fe&&(fe=Se.getAttribute("listIndent"));fe=fe===0?1:fe,Ae(F,!0,fe),Ae(F,!1,fe)}for(const fe of F.reverse())K&&fe.name=="listItem"?ce.rename(fe,"paragraph"):K||fe.name=="listItem"?K||fe.name!="listItem"||fe.getAttribute("listType")==this.type||ce.setAttribute("listType",this.type,fe):(ce.setAttributes({listType:this.type,listIndent:0},fe),ce.rename(fe,"listItem"));this.fire("_executeCleanup",F)})}_getValue(){const g=(0,v.first)(this.editor.model.document.selection.getSelectedBlocks());return!!g&&g.is("element","listItem")&&g.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const g=this.editor.model.document.selection,u=this.editor.model.schema,x=(0,v.first)(g.getSelectedBlocks());return!!x&&Ye(x,u)}}function Ae(ze,g,u){const x=g?ze[0]:ze[ze.length-1];if(x.is("element","listItem")){let F=x[g?"previousSibling":"nextSibling"],K=x.getAttribute("listIndent");for(;F&&F.is("element","listItem")&&F.getAttribute("listIndent")>=u;)K>F.getAttribute("listIndent")&&(K=F.getAttribute("listIndent")),F.getAttribute("listIndent")==K&&ze[g?"unshift":"push"](F),F=F[g?"previousSibling":"nextSibling"]}}function Ye(ze,g){return g.checkChild(ze.parent,"listItem")&&!g.isObject(ze)}class it extends p.Plugin{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(g){return xi(g)}getSelectedListItems(g){return Li(g)}getSiblingNodes(g,u){return pi(g,u)}}function ht(ze){return(g,u,x)=>{const F=x.consumable;if(!F.test(u.item,"insert")||!F.test(u.item,"attribute:listType")||!F.test(u.item,"attribute:listIndent"))return;F.consume(u.item,"insert"),F.consume(u.item,"attribute:listType"),F.consume(u.item,"attribute:listIndent");const K=u.item;St(K,ut(K,x),x,ze)}}const Ot=(ze,g,u)=>{if(!u.consumable.test(g.item,ze.name))return;const x=u.mapper.toViewElement(g.item),F=u.writer;F.breakContainer(F.createPositionBefore(x)),F.breakContainer(F.createPositionAfter(x));const K=x.parent,ce=g.attributeNewValue=="numbered"?"ol":"ul";F.rename(ce,K)},Xt=(ze,g,u)=>{u.consumable.consume(g.item,ze.name);const x=u.mapper.toViewElement(g.item).parent,F=u.writer;Lt(F,x,x.nextSibling),Lt(F,x.previousSibling,x)},ii=(ze,g,u)=>{if(u.consumable.test(g.item,ze.name)&&g.item.name!="listItem"){let x=u.mapper.toViewPosition(g.range.start);const F=u.writer,K=[];for(;(x.parent.name=="ul"||x.parent.name=="ol")&&(x=F.breakContainer(x),x.parent.name=="li");){const ce=x,fe=F.createPositionAt(x.parent,"end");if(!ce.isEqual(fe)){const Se=F.remove(F.createRange(ce,fe));K.push(Se)}x=F.createPositionAfter(x.parent)}if(K.length>0){for(let ce=0;ce<K.length;ce++){const fe=x.nodeBefore;if(x=F.insert(x,K[ce]).end,ce>0){const Se=Lt(F,fe,fe.nextSibling);Se&&Se.parent==fe&&x.offset--}}Lt(F,x.nodeBefore,x.nodeAfter)}}},di=(ze,g,u)=>{const x=u.mapper.toViewPosition(g.position),F=x.nodeBefore,K=x.nodeAfter;Lt(u.writer,F,K)},Ai=(ze,g,u)=>{if(u.consumable.consume(g.viewItem,{name:!0})){const x=u.writer,F=x.createElement("listItem"),K=function(Se){let Le=0,De=Se.parent;for(;De;){if(De.is("element","li"))Le++;else{const He=De.previousSibling;He&&He.is("element","li")&&Le++}De=De.parent}return Le}(g.viewItem);x.setAttribute("listIndent",K,F);const ce=g.viewItem.parent&&g.viewItem.parent.name=="ol"?"numbered":"bulleted";if(x.setAttribute("listType",ce,F),!u.safeInsert(F,g.modelCursor))return;const fe=function(Se,Le,De){const{writer:He,schema:Qe}=De;let _t=He.createPositionAfter(Se);for(const Pt of Le)if(Pt.name=="ul"||Pt.name=="ol")_t=De.convertItem(Pt,_t).modelCursor;else{const vt=De.convertItem(Pt,He.createPositionAt(Se,"end")),Gt=vt.modelRange.start.nodeAfter;Gt&&Gt.is("element")&&!Qe.checkChild(Se,Gt.name)&&(Se=vt.modelCursor.parent.is("element","listItem")?vt.modelCursor.parent:xn(vt.modelCursor),_t=He.createPositionAfter(Se))}return _t}(F,g.viewItem.getChildren(),u);g.modelRange=x.createRange(g.modelCursor,fe),u.updateConversionResult(F,g)}},wi=(ze,g,u)=>{if(u.consumable.test(g.viewItem,{name:!0})){const x=Array.from(g.viewItem.getChildren());for(const F of x)!(F.is("element","li")||ln(F))&&F._remove()}},Mi=(ze,g,u)=>{if(u.consumable.test(g.viewItem,{name:!0})){if(g.viewItem.childCount===0)return;const x=[...g.viewItem.getChildren()];let F=!1;for(const K of x)F&&!ln(K)&&K._remove(),ln(K)&&(F=!0)}};function cn(ze){return(g,u)=>{if(u.isPhantom)return;const x=u.modelPosition.nodeBefore;if(x&&x.is("element","listItem")){const F=u.mapper.toViewElement(x),K=F.getAncestors().find(ln),ce=ze.createPositionAt(F,0).getWalker();for(const fe of ce){if(fe.type=="elementStart"&&fe.item.is("element","li")){u.viewPosition=fe.previousPosition;break}if(fe.type=="elementEnd"&&fe.item==K){u.viewPosition=fe.nextPosition;break}}}}}const hn=function(ze,[g,u]){const x=this;let F,K=g.is("documentFragment")?g.getChild(0):g;if(F=u?x.createSelection(u):x.document.selection,K&&K.is("element","listItem")){const ce=F.getFirstPosition();let fe=null;if(ce.parent.is("element","listItem")?fe=ce.parent:ce.nodeBefore&&ce.nodeBefore.is("element","listItem")&&(fe=ce.nodeBefore),fe){const Se=fe.getAttribute("listIndent");if(Se>0)for(;K&&K.is("element","listItem");)K._setAttribute("listIndent",K.getAttribute("listIndent")+Se),K=K.nextSibling}}};function xn(ze){const g=new N.TreeWalker({startPosition:ze});let u;do u=g.next();while(!u.value.item.is("element","listItem"));return u.value.item}function Xi(ze,g,u,x,F,K){const ce=yt(g.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:ze}),fe=F.mapper,Se=F.writer,Le=ce?ce.getAttribute("listIndent"):null;let De;if(ce)if(Le==ze){const He=fe.toViewElement(ce).parent;De=Se.createPositionAfter(He)}else{const He=K.createPositionAt(ce,"end");De=fe.toViewPosition(He)}else De=u;De=Qt(De);for(const He of[...x.getChildren()])ln(He)&&(De=Se.move(Se.createRangeOn(He),De).end,Lt(Se,He,He.nextSibling),Lt(Se,He.previousSibling,He))}function ln(ze){return ze.is("element","ol")||ze.is("element","ul")}class It extends p.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[I.Enter,j.Delete,it]}init(){const g=this.editor;g.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const u=g.data,x=g.editing;var F;g.model.document.registerPostFixer(ce=>function(fe,Se){const Le=fe.document.differ.getChanges(),De=new Map;let He=!1;for(const vt of Le)if(vt.type=="insert"&&vt.name=="listItem")Qe(vt.position);else if(vt.type=="insert"&&vt.name!="listItem"){if(vt.name!="$text"){const Gt=vt.position.nodeAfter;Gt.hasAttribute("listIndent")&&(Se.removeAttribute("listIndent",Gt),He=!0),Gt.hasAttribute("listType")&&(Se.removeAttribute("listType",Gt),He=!0),Gt.hasAttribute("listStyle")&&(Se.removeAttribute("listStyle",Gt),He=!0),Gt.hasAttribute("listReversed")&&(Se.removeAttribute("listReversed",Gt),He=!0),Gt.hasAttribute("listStart")&&(Se.removeAttribute("listStart",Gt),He=!0);for(const ui of Array.from(fe.createRangeIn(Gt)).filter(Pi=>Pi.item.is("element","listItem")))Qe(ui.previousPosition)}Qe(vt.position.getShiftedBy(vt.length))}else vt.type=="remove"&&vt.name=="listItem"?Qe(vt.position):(vt.type=="attribute"&&vt.attributeKey=="listIndent"||vt.type=="attribute"&&vt.attributeKey=="listType")&&Qe(vt.range.start);for(const vt of De.values())_t(vt),Pt(vt);return He;function Qe(vt){const Gt=vt.nodeBefore;if(Gt&&Gt.is("element","listItem")){let ui=Gt;if(De.has(ui))return;for(let Pi=ui.previousSibling;Pi&&Pi.is("element","listItem");Pi=ui.previousSibling)if(ui=Pi,De.has(ui))return;De.set(Gt,ui)}else{const ui=vt.nodeAfter;ui&&ui.is("element","listItem")&&De.set(ui,ui)}}function _t(vt){let Gt=0,ui=null;for(;vt&&vt.is("element","listItem");){const Pi=vt.getAttribute("listIndent");if(Pi>Gt){let Wi;ui===null?(ui=Pi-Gt,Wi=Gt):(ui>Pi&&(ui=Pi),Wi=Pi-ui),Se.setAttribute("listIndent",Wi,vt),He=!0}else ui=null,Gt=vt.getAttribute("listIndent")+1;vt=vt.nextSibling}}function Pt(vt){let Gt=[],ui=null;for(;vt&&vt.is("element","listItem");){const Pi=vt.getAttribute("listIndent");if(ui&&ui.getAttribute("listIndent")>Pi&&(Gt=Gt.slice(0,Pi+1)),Pi!=0)if(Gt[Pi]){const Wi=Gt[Pi];vt.getAttribute("listType")!=Wi&&(Se.setAttribute("listType",Wi,vt),He=!0)}else Gt[Pi]=vt.getAttribute("listType");ui=vt,vt=vt.nextSibling}}}(g.model,ce)),x.mapper.registerViewToModelLength("li",te),u.mapper.registerViewToModelLength("li",te),x.mapper.on("modelToViewPosition",cn(x.view)),x.mapper.on("viewToModelPosition",(F=g.model,(ce,fe)=>{const Se=fe.viewPosition,Le=Se.parent,De=fe.mapper;if(Le.name=="ul"||Le.name=="ol"){if(Se.isAtEnd){const He=De.toModelElement(Se.nodeBefore),Qe=De.getModelLength(Se.nodeBefore);fe.modelPosition=F.createPositionBefore(He).getShiftedBy(Qe)}else{const He=De.toModelElement(Se.nodeAfter);fe.modelPosition=F.createPositionBefore(He)}ce.stop()}else if(Le.name=="li"&&Se.nodeBefore&&(Se.nodeBefore.name=="ul"||Se.nodeBefore.name=="ol")){const He=De.toModelElement(Le);let Qe=1,_t=Se.nodeBefore;for(;_t&&ln(_t);)Qe+=De.getModelLength(_t),_t=_t.previousSibling;fe.modelPosition=F.createPositionBefore(He).getShiftedBy(Qe),ce.stop()}})),u.mapper.on("modelToViewPosition",cn(x.view)),g.conversion.for("editingDowncast").add(ce=>{ce.on("insert",ii,{priority:"high"}),ce.on("insert:listItem",ht(g.model)),ce.on("attribute:listType:listItem",Ot,{priority:"high"}),ce.on("attribute:listType:listItem",Xt,{priority:"low"}),ce.on("attribute:listIndent:listItem",function(fe){return(Se,Le,De)=>{if(!De.consumable.consume(Le.item,"attribute:listIndent"))return;const He=De.mapper.toViewElement(Le.item),Qe=De.writer;Qe.breakContainer(Qe.createPositionBefore(He)),Qe.breakContainer(Qe.createPositionAfter(He));const _t=He.parent,Pt=_t.previousSibling,vt=Qe.createRangeOn(_t);Qe.remove(vt),Pt&&Pt.nextSibling&&Lt(Qe,Pt,Pt.nextSibling),Xi(Le.attributeOldValue+1,Le.range.start,vt.start,He,De,fe),St(Le.item,He,De,fe);for(const Gt of Le.item.getChildren())De.consumable.consume(Gt,"insert")}}(g.model)),ce.on("remove:listItem",function(fe){return(Se,Le,De)=>{const He=De.mapper.toViewPosition(Le.position).getLastMatchingPosition(ui=>!ui.item.is("element","li")).nodeAfter,Qe=De.writer;Qe.breakContainer(Qe.createPositionBefore(He)),Qe.breakContainer(Qe.createPositionAfter(He));const _t=He.parent,Pt=_t.previousSibling,vt=Qe.createRangeOn(_t),Gt=Qe.remove(vt);Pt&&Pt.nextSibling&&Lt(Qe,Pt,Pt.nextSibling),Xi(De.mapper.toModelElement(He).getAttribute("listIndent")+1,Le.position,vt.start,He,De,fe);for(const ui of Qe.createRangeIn(Gt).getItems())De.mapper.unbindViewElement(ui);Se.stop()}}(g.model)),ce.on("remove",di,{priority:"low"})}),g.conversion.for("dataDowncast").add(ce=>{ce.on("insert",ii,{priority:"high"}),ce.on("insert:listItem",ht(g.model))}),g.conversion.for("upcast").add(ce=>{ce.on("element:ul",wi,{priority:"high"}),ce.on("element:ol",wi,{priority:"high"}),ce.on("element:li",Mi,{priority:"high"}),ce.on("element:li",Ai)}),g.model.on("insertContent",hn,{priority:"high"}),g.commands.add("numberedList",new Ut(g,"numbered")),g.commands.add("bulletedList",new Ut(g,"bulleted")),g.commands.add("indentList",new Yi(g,"forward")),g.commands.add("outdentList",new Yi(g,"backward"));const K=x.view.document;this.listenTo(K,"enter",(ce,fe)=>{const Se=this.editor.model.document,Le=Se.selection.getLastPosition().parent;Se.selection.isCollapsed&&Le.name=="listItem"&&Le.isEmpty&&(this.editor.execute("outdentList"),fe.preventDefault(),ce.stop())},{context:"li"}),this.listenTo(K,"delete",(ce,fe)=>{if(fe.direction!=="backward")return;const Se=this.editor.model.document.selection;if(!Se.isCollapsed)return;const Le=Se.getFirstPosition();if(!Le.isAtStart)return;const De=Le.parent;De.name==="listItem"&&(De.previousSibling&&De.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),fe.preventDefault(),ce.stop()))},{context:"li"}),this.listenTo(g.editing.view.document,"tab",(ce,fe)=>{const Se=fe.shiftKey?"outdentList":"indentList";this.editor.commands.get(Se).isEnabled&&(g.execute(Se),fe.stopPropagation(),fe.preventDefault(),ce.stop())},{context:"li"})}afterInit(){const g=this.editor.commands,u=g.get("indent"),x=g.get("outdent");u&&u.registerChildCommand(g.get("indentList")),x&&x.registerChildCommand(g.get("outdentList"))}}function te(ze){let g=1;for(const u of ze.getChildren())if(u.name=="ul"||u.name=="ol")for(const x of u.getChildren())g+=te(x);return g}class Ee extends p.Plugin{static get requires(){return[It,_e]}static get pluginName(){return"List"}}class Ue extends p.Command{constructor(g,u){super(g),this.defaultType=u}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(g={}){this._tryToConvertItemsToList(g);const u=this.editor.model,x=Li(u);x.length&&u.change(F=>{for(const K of x)F.setAttribute("listStyle",g.type||this.defaultType,K)})}_getValue(){const g=this.editor.model.document.selection.getFirstPosition().parent;return g&&g.is("element","listItem")?g.getAttribute("listStyle"):null}_checkEnabled(){const g=this.editor,u=g.commands.get("numberedList"),x=g.commands.get("bulletedList");return u.isEnabled||x.isEnabled}_tryToConvertItemsToList(g){if(!g.type)return;const u=xi(g.type);if(!u)return;const x=this.editor,F=`${u}List`;x.commands.get(F).value||x.execute(F)}}class $e extends p.Command{refresh(){const g=this._getValue();this.value=g,this.isEnabled=g!=null}execute(g={}){const u=this.editor.model,x=Li(u).filter(F=>F.getAttribute("listType")=="numbered");u.change(F=>{for(const K of x)F.setAttribute("listReversed",!!g.reversed,K)})}_getValue(){const g=this.editor.model.document.selection.getFirstPosition().parent;return g&&g.is("element","listItem")&&g.getAttribute("listType")=="numbered"?g.getAttribute("listReversed"):null}}class dt extends p.Command{refresh(){const g=this._getValue();this.value=g,this.isEnabled=g!=null}execute({startIndex:g=1}={}){const u=this.editor.model,x=Li(u).filter(F=>F.getAttribute("listType")=="numbered");u.change(F=>{for(const K of x)F.setAttribute("listStart",g>=0?g:1,K)})}_getValue(){const g=this.editor.model.document.selection.getFirstPosition().parent;return g&&g.is("element","listItem")&&g.getAttribute("listType")=="numbered"?g.getAttribute("listStart"):null}}const gt="default";class Nt extends p.Plugin{static get requires(){return[It]}static get pluginName(){return"ListPropertiesEditing"}constructor(g){super(g),g.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const g=this.editor,u=g.model,x=function(K){const ce=[];return K.styles&&ce.push({attributeName:"listStyle",defaultValue:gt,addCommand(fe){fe.commands.add("listStyle",new Ue(fe,gt))},appliesToListItem:()=>!0,setAttributeOnDowncast(fe,Se,Le){Se&&Se!==gt?fe.setStyle("list-style-type",Se,Le):fe.removeStyle("list-style-type",Le)},getAttributeOnUpcast:fe=>fe.getStyle("list-style-type")||gt}),K.reversed&&ce.push({attributeName:"listReversed",defaultValue:!1,addCommand(fe){fe.commands.add("listReversed",new $e(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",setAttributeOnDowncast(fe,Se,Le){Se?fe.setAttribute("reversed","reversed",Le):fe.removeAttribute("reversed",Le)},getAttributeOnUpcast:fe=>fe.hasAttribute("reversed")}),K.startIndex&&ce.push({attributeName:"listStart",defaultValue:1,addCommand(fe){fe.commands.add("listStart",new dt(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",setAttributeOnDowncast(fe,Se,Le){Se==0||Se>1?fe.setAttribute("start",Se,Le):fe.removeAttribute("start",Le)},getAttributeOnUpcast(fe){const Se=fe.getAttribute("start");return Se>=0?Se:1}}),ce}(g.config.get("list.properties"));u.schema.extend("listItem",{allowAttributes:x.map(K=>K.attributeName)});for(const K of x)K.addCommand(g);var F;this.listenTo(g.commands.get("indentList"),"_executeCleanup",function(K,ce){return(fe,Se)=>{const Le=Se[0],De=Le.getAttribute("listIndent"),He=Se.filter(_t=>_t.getAttribute("listIndent")===De);let Qe=null;Le.previousSibling.getAttribute("listIndent")+1!==De&&(Qe=yt(Le.previousSibling,{sameIndent:!0,direction:"backward",listIndent:De})),K.model.change(_t=>{for(const Pt of He)for(const vt of ce)if(vt.appliesToListItem(Pt)){const Gt=Qe==null?vt.defaultValue:Qe.getAttribute(vt.attributeName);_t.setAttribute(vt.attributeName,Gt,Pt)}})}}(g,x)),this.listenTo(g.commands.get("outdentList"),"_executeCleanup",function(K,ce){return(fe,Se)=>{if(!(Se=Se.reverse().filter(Qe=>Qe.is("element","listItem"))).length)return;const Le=Se[0].getAttribute("listIndent"),De=Se[0].getAttribute("listType");let He=Se[0].previousSibling;if(He.is("element","listItem"))for(;He.getAttribute("listIndent")!==Le;)He=He.previousSibling;else He=null;He||(He=Se[Se.length-1].nextSibling),He&&He.is("element","listItem")&&He.getAttribute("listType")===De&&K.model.change(Qe=>{const _t=Se.filter(Pt=>Pt.getAttribute("listIndent")===Le);for(const Pt of _t)for(const vt of ce)if(vt.appliesToListItem(Pt)){const Gt=vt.attributeName,ui=He.getAttribute(Gt);Qe.setAttribute(Gt,ui,Pt)}})}}(g,x)),this.listenTo(g.commands.get("bulletedList"),"_executeCleanup",qt(g)),this.listenTo(g.commands.get("numberedList"),"_executeCleanup",qt(g)),u.document.registerPostFixer(function(K,ce){return fe=>{let Se=!1;const Le=ai(K.model.document.differ.getChanges()).filter(He=>He.getAttribute("listType")!=="todo");if(!Le.length)return Se;let De=Le[Le.length-1].nextSibling;if((!De||!De.is("element","listItem"))&&(De=Le[0].previousSibling,De)){const He=Le[0].getAttribute("listIndent");for(;De.is("element","listItem")&&De.getAttribute("listIndent")!==He&&(De=De.previousSibling,De););}for(const He of ce){const Qe=He.attributeName;for(const _t of Le)if(He.appliesToListItem(_t))if(_t.hasAttribute(Qe)){const Pt=_t.previousSibling;Bt(Pt,_t,He.attributeName)&&(fe.setAttribute(Qe,Pt.getAttribute(Qe),_t),Se=!0)}else Et(De,_t,He)?fe.setAttribute(Qe,De.getAttribute(Qe),_t):fe.setAttribute(Qe,He.defaultValue,_t),Se=!0;else fe.removeAttribute(Qe,_t)}return Se}}(g,x)),g.conversion.for("upcast").add((F=x,K=>{K.on("element:li",(ce,fe,Se)=>{if(!fe.modelRange)return;const Le=fe.viewItem.parent,De=fe.modelRange.start.nodeAfter||fe.modelRange.end.nodeBefore;for(const He of F)if(He.appliesToListItem(De)){const Qe=He.getAttributeOnUpcast(Le);Se.writer.setAttribute(He.attributeName,Qe,De)}},{priority:"low"})})),g.conversion.for("downcast").add(function(K){return fe=>{for(const Se of K)fe.on(`attribute:${Se.attributeName}:listItem`,(Le,De,He)=>{const Qe=He.writer,_t=De.item,Pt=yt(_t.previousSibling,{sameIndent:!0,listIndent:_t.getAttribute("listIndent"),direction:"backward"}),vt=He.mapper.toViewElement(_t);ce(_t,Pt)||Qe.breakContainer(Qe.createPositionBefore(vt)),Se.setAttributeOnDowncast(Qe,De.attributeNewValue,vt.parent)},{priority:"low"})};function ce(fe,Se){return Se&&fe.getAttribute("listType")===Se.getAttribute("listType")&&fe.getAttribute("listIndent")===Se.getAttribute("listIndent")&&fe.getAttribute("listStyle")===Se.getAttribute("listStyle")&&fe.getAttribute("listReversed")===Se.getAttribute("listReversed")&&fe.getAttribute("listStart")===Se.getAttribute("listStart")}}(x)),this._mergeListAttributesWhileMergingLists(x)}afterInit(){const g=this.editor;g.commands.get("todoList")&&g.model.document.registerPostFixer(function(u){return x=>{const F=ai(u.model.document.differ.getChanges()).filter(K=>K.getAttribute("listType")==="todo"&&(K.hasAttribute("listStyle")||K.hasAttribute("listReversed")||K.hasAttribute("listStart")));if(!F.length)return!1;for(const K of F)x.removeAttribute("listStyle",K),x.removeAttribute("listReversed",K),x.removeAttribute("listStart",K);return!0}}(g))}_mergeListAttributesWhileMergingLists(g){const u=this.editor.model;let x;this.listenTo(u,"deleteContent",(F,[K])=>{const ce=K.getFirstPosition(),fe=K.getLastPosition();if(ce.parent===fe.parent||!ce.parent.is("element","listItem"))return;const Se=fe.parent.nextSibling;if(!Se||!Se.is("element","listItem"))return;const Le=yt(ce.parent,{sameIndent:!0,listIndent:Se.getAttribute("listIndent")});Le&&Le.getAttribute("listType")===Se.getAttribute("listType")&&(x=Le)},{priority:"high"}),this.listenTo(u,"deleteContent",()=>{x&&(u.change(F=>{const K=yt(x.nextSibling,{sameIndent:!0,listIndent:x.getAttribute("listIndent"),direction:"forward"});if(!K)return void(x=null);const ce=[K,...pi(F.createPositionAt(K,0),"forward")];for(const fe of ce)for(const Se of g)if(Se.appliesToListItem(fe)){const Le=Se.attributeName,De=x.getAttribute(Le);F.setAttribute(Le,De,fe)}}),x=null)},{priority:"low"})}}function Et(ze,g,u){if(!ze)return!1;const x=ze.getAttribute(u.attributeName);return!!x&&x!=u.defaultValue&&ze.getAttribute("listType")===g.getAttribute("listType")}function Bt(ze,g,u){if(!ze||!ze.is("element","listItem")||g.getAttribute("listType")!==ze.getAttribute("listType"))return!1;const x=ze.getAttribute("listIndent");if(x<1||x!==g.getAttribute("listIndent"))return!1;const F=ze.getAttribute(u);return!(!F||F===g.getAttribute(u))}function qt(ze){return(g,u)=>{u=u.filter(x=>x.is("element","listItem")),ze.model.change(x=>{for(const F of u)x.removeAttribute("listStyle",F)})}}function ai(ze){const g=[];for(const u of ze){const x=ki(u);x&&x.is("element","listItem")&&g.push(x)}return g}function ki(ze){return ze.type==="attribute"?ze.range.start.nodeAfter:ze.type==="insert"?ze.position.nodeAfter:null}class hi extends p.Plugin{static get requires(){return[Nt,gi]}static get pluginName(){return"ListProperties"}}const ri="todoListChecked";class Ii extends p.Command{constructor(g){super(g),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(g=>!!g.getAttribute(ri)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const g=this.editor.model,u=g.schema,x=g.document.selection.getFirstRange(),F=x.start.parent,K=[];u.checkAttribute(F,ri)&&K.push(F);for(const ce of x.getItems())u.checkAttribute(ce,ri)&&!K.includes(ce)&&K.push(ce);return K}execute(g={}){this.editor.model.change(u=>{for(const x of this._selectedElements)(g.forceValue===void 0?!this.value:g.forceValue)?u.setAttribute(ri,!0,x):u.removeAttribute(ri,x)})}}const Di=(ze,g,u)=>{const x=g.modelCursor,F=x.parent,K=g.viewItem;if(K.getAttribute("type")!="checkbox"||F.name!="listItem"||!x.isAtStart||!u.consumable.consume(K,{name:!0}))return;const ce=u.writer;ce.setAttribute("listType","todo",F),g.viewItem.hasAttribute("checked")&&ce.setAttribute("todoListChecked",!0,F),g.modelRange=ce.createRange(x)};function bn(ze){return(g,u)=>{const x=u.modelPosition,F=x.parent;if(!F.is("element","listItem")||F.getAttribute("listType")!="todo")return;const K=Rn(u.mapper.toViewElement(F),ze);K&&(u.viewPosition=u.mapper.findPositionIn(K,x.offset))}}function yn(ze,g,u,x){return g.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(F){const K=(0,v.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});u&&K.setAttribute("checked","checked"),K.addEventListener("change",()=>x(ze));const ce=this.toDomElement(F);return ce.appendChild(K),ce})}function Rn(ze,g){const u=g.createRangeIn(ze);for(const x of u)if(x.item.is("containerElement","span")&&x.item.hasClass("todo-list__label__description"))return x.item}const Un=(0,v.parseKeystroke)("Ctrl+Enter");class Nn extends p.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[It]}init(){const g=this.editor,{editing:u,data:x,model:F}=g;F.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),F.schema.addAttributeCheck((Le,De)=>{const He=Le.last;if(De=="todoListChecked"&&He.name=="listItem"&&He.getAttribute("listType")!="todo")return!1}),g.commands.add("todoList",new Ut(g,"todo"));const K=new Ii(g);var ce,fe;g.commands.add("checkTodoList",K),g.commands.add("todoListCheck",K),x.downcastDispatcher.on("insert:listItem",function(Le){return(De,He,Qe)=>{const _t=Qe.consumable;if(!_t.test(He.item,"insert")||!_t.test(He.item,"attribute:listType")||!_t.test(He.item,"attribute:listIndent")||He.item.getAttribute("listType")!="todo")return;const Pt=He.item;_t.consume(Pt,"insert"),_t.consume(Pt,"attribute:listType"),_t.consume(Pt,"attribute:listIndent"),_t.consume(Pt,"attribute:todoListChecked");const vt=Qe.writer,Gt=ut(Pt,Qe);vt.addClass("todo-list",Gt.parent);const ui=vt.createContainerElement("label",{class:"todo-list__label"}),Pi=vt.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Wi=vt.createContainerElement("span",{class:"todo-list__label__description"});Pt.getAttribute("todoListChecked")&&vt.setAttribute("checked","checked",Pi),vt.insert(vt.createPositionAt(Gt,0),ui),vt.insert(vt.createPositionAt(ui,0),Pi),vt.insert(vt.createPositionAfter(Pi),Wi),St(Pt,Gt,Qe,Le)}}(F),{priority:"high"}),x.upcastDispatcher.on("element:input",Di,{priority:"high"}),u.downcastDispatcher.on("insert:listItem",function(Le,De){return(He,Qe,_t)=>{const Pt=_t.consumable;if(!Pt.test(Qe.item,"insert")||!Pt.test(Qe.item,"attribute:listType")||!Pt.test(Qe.item,"attribute:listIndent")||Qe.item.getAttribute("listType")!="todo")return;const vt=Qe.item;Pt.consume(vt,"insert"),Pt.consume(vt,"attribute:listType"),Pt.consume(vt,"attribute:listIndent"),Pt.consume(vt,"attribute:todoListChecked");const Gt=_t.writer,ui=ut(vt,_t),Pi=!!vt.getAttribute("todoListChecked"),Wi=yn(vt,Gt,Pi,De),Ki=Gt.createContainerElement("span",{class:"todo-list__label__description"});Gt.addClass("todo-list",ui.parent),Gt.insert(Gt.createPositionAt(ui,0),Wi),Gt.insert(Gt.createPositionAfter(Wi),Ki),St(vt,ui,_t,Le)}}(F,Le=>this._handleCheckmarkChange(Le)),{priority:"high"}),u.downcastDispatcher.on("attribute:listType:listItem",(ce=Le=>this._handleCheckmarkChange(Le),fe=u.view,(Le,De,He)=>{if(!He.consumable.consume(De.item,Le.name))return;const Qe=He.mapper.toViewElement(De.item),_t=He.writer,Pt=function(vt,Gt){const ui=Gt.createRangeIn(vt);for(const Pi of ui)if(Pi.item.is("uiElement","label"))return Pi.item}(Qe,fe);if(De.attributeNewValue=="todo"){const vt=!!De.item.getAttribute("todoListChecked"),Gt=yn(De.item,_t,vt,ce),ui=_t.createContainerElement("span",{class:"todo-list__label__description"}),Pi=_t.createRangeIn(Qe),Wi=mi(Qe),Ki=Qt(Pi.start),nn=Wi?_t.createPositionBefore(Wi):Pi.end,Wn=_t.createRange(Ki,nn);_t.addClass("todo-list",Qe.parent),_t.move(Wn,_t.createPositionAt(ui,0)),_t.insert(_t.createPositionAt(Qe,0),Gt),_t.insert(_t.createPositionAfter(Gt),ui)}else if(De.attributeOldValue=="todo"){const vt=Rn(Qe,fe);_t.removeClass("todo-list",Qe.parent),_t.remove(Pt),_t.move(_t.createRangeIn(vt),_t.createPositionBefore(vt)),_t.remove(vt)}})),u.downcastDispatcher.on("attribute:todoListChecked:listItem",function(Le){return(De,He,Qe)=>{if(He.item.getAttribute("listType")!="todo"||!Qe.consumable.consume(He.item,"attribute:todoListChecked"))return;const{mapper:_t,writer:Pt}=Qe,vt=!!He.item.getAttribute("todoListChecked"),Gt=_t.toViewElement(He.item).getChild(0),ui=yn(He.item,Pt,vt,Le);Pt.insert(Pt.createPositionAfter(Gt),ui),Pt.remove(Gt)}}(Le=>this._handleCheckmarkChange(Le))),u.mapper.on("modelToViewPosition",bn(u.view)),x.mapper.on("modelToViewPosition",bn(u.view)),this.listenTo(u.view.document,"arrowKey",function(Le,De){return(He,Qe)=>{if((0,v.getLocalizedArrowKeyCodeDirection)(Qe.keyCode,De.contentLanguageDirection)!="left")return;const _t=Le.schema,Pt=Le.document.selection;if(!Pt.isCollapsed)return;const vt=Pt.getFirstPosition(),Gt=vt.parent;if(Gt.name==="listItem"&&Gt.getAttribute("listType")=="todo"&&vt.isAtStart){const ui=_t.getNearestSelectionRange(Le.createPositionBefore(Gt),"backward");ui&&Le.change(Pi=>Pi.setSelection(ui)),Qe.preventDefault(),Qe.stopPropagation(),He.stop()}}}(F,g.locale),{context:"li"}),this.listenTo(u.view.document,"keydown",(Le,De)=>{(0,v.getCode)(De)===Un&&(g.execute("checkTodoList"),Le.stop())},{priority:"high"});const Se=new Set;this.listenTo(F,"applyOperation",(Le,De)=>{const He=De[0];if(He.type=="rename"&&He.oldName=="listItem"){const Qe=He.position.nodeAfter;Qe.hasAttribute("todoListChecked")&&Se.add(Qe)}else if(He.type=="changeAttribute"&&He.key=="listType"&&He.oldValue==="todo")for(const Qe of He.range.getItems())Qe.hasAttribute("todoListChecked")&&Qe.getAttribute("listType")!=="todo"&&Se.add(Qe)}),F.document.registerPostFixer(Le=>{let De=!1;for(const He of Se)Le.removeAttribute("todoListChecked",He),De=!0;return Se.clear(),De})}_handleCheckmarkChange(g){const u=this.editor,x=u.model,F=Array.from(x.document.selection.getRanges());x.change(K=>{K.setSelection(g,"end"),u.execute("checkTodoList"),K.setSelection(F)})}}class jn extends p.Plugin{static get pluginName(){return"TodoListUI"}init(){const g=this.editor.t;Tt(this.editor,"todoList",g("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}var Sn=ae(528),Bn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};qe()(Sn.Z,Bn),Sn.Z.locals;class io extends p.Plugin{static get requires(){return[Nn,jn]}static get pluginName(){return"TodoList"}}})(),(window.CKEditor5=window.CKEditor5||{}).list=Yt})()},17680:()=>{(function(Jt){const Zt=Jt.en=Jt.en||{};Zt.dictionary=Object.assign(Zt.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Jt={487:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=A},199:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const l=A},835:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const l=A},708:(p,j,I)=>{"use strict";I.d(j,{Z:()=>l});var v=I(609),A=I.n(v)()(function(c){return c[1]});A.push([p.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const l=A},609:p=>{"use strict";p.exports=function(j){var I=[];return I.toString=function(){return this.map(function(v){var A=j(v);return v[2]?"@media ".concat(v[2]," {").concat(A,"}"):A}).join("")},I.i=function(v,A,l){typeof v=="string"&&(v=[[null,v,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var z=this[L][0];z!=null&&(c[z]=!0)}for(var y=0;y<v.length;y++){var h=[].concat(v[y]);l&&c[h[0]]||(A&&(h[2]?h[2]="".concat(A," and ").concat(h[2]):h[2]=A),I.push(h))}},I}},62:(p,j,I)=>{"use strict";var v,A=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},l=function(){var d={};return function(b){if(d[b]===void 0){var _=document.querySelector(b);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}d[b]=_}return d[b]}}(),c=[];function L(d){for(var b=-1,_=0;_<c.length;_++)if(c[_].identifier===d){b=_;break}return b}function z(d,b){for(var _={},w=[],E=0;E<d.length;E++){var C=d[E],S=b.base?C[0]+b.base:C[0],ne=_[S]||0,U="".concat(S," ").concat(ne);_[S]=ne+1;var D=L(U),f={css:C[1],media:C[2],sourceMap:C[3]};D!==-1?(c[D].references++,c[D].updater(f)):c.push({identifier:U,updater:q(f,b),references:1}),w.push(U)}return w}function y(d){var b=document.createElement("style"),_=d.attributes||{};if(_.nonce===void 0){var w=I.nc;w&&(_.nonce=w)}if(Object.keys(_).forEach(function(C){b.setAttribute(C,_[C])}),typeof d.insert=="function")d.insert(b);else{var E=l(d.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(b)}return b}var h,V=(h=[],function(d,b){return h[d]=b,h.filter(Boolean).join(`
`)});function $(d,b,_,w){var E=_?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(d.styleSheet)d.styleSheet.cssText=V(b,E);else{var C=document.createTextNode(E),S=d.childNodes;S[b]&&d.removeChild(S[b]),S.length?d.insertBefore(C,S[b]):d.appendChild(C)}}function J(d,b,_){var w=_.css,E=_.media,C=_.sourceMap;if(E?d.setAttribute("media",E):d.removeAttribute("media"),C&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),d.styleSheet)d.styleSheet.cssText=w;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(w))}}var Y=null,le=0;function q(d,b){var _,w,E;if(b.singleton){var C=le++;_=Y||(Y=y(b)),w=$.bind(null,_,C,!1),E=$.bind(null,_,C,!0)}else _=y(b),w=J.bind(null,_,b),E=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(_)};return w(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap)return;w(d=S)}else E()}}p.exports=function(d,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=A());var _=z(d=d||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var E=0;E<_.length;E++){var C=L(_[E]);c[C].references--}for(var S=z(w,b),ne=0;ne<_.length;ne++){var U=L(_[ne]);c[U].references===0&&(c[U].updater(),c.splice(U,1))}_=S}}}},945:(p,j,I)=>{p.exports=I(79)("./src/clipboard.js")},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},181:(p,j,I)=>{p.exports=I(79)("./src/typing.js")},273:(p,j,I)=>{p.exports=I(79)("./src/ui.js")},254:(p,j,I)=>{p.exports=I(79)("./src/undo.js")},209:(p,j,I)=>{p.exports=I(79)("./src/utils.js")},995:(p,j,I)=>{p.exports=I(79)("./src/widget.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={id:p,exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.n=p=>{var j=p&&p.__esModule?()=>p.default:()=>p;return ae.d(j,{a:j}),j},ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},ae.nc=void 0;var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{AutoMediaEmbed:()=>C,MediaEmbed:()=>oe,MediaEmbedEditing:()=>q,MediaEmbedToolbar:()=>Te,MediaEmbedUI:()=>R});var p=ae(704),j=ae(995),I=ae(209);function v(Oe,xe){const Re=(lt,rt,ct)=>{if(!ct.consumable.consume(rt.item,lt.name))return;const st=rt.attributeNewValue,kt=ct.writer,pt=ct.mapper.toViewElement(rt.item),Ze=[...pt.getChildren()].find(qe=>qe.getCustomProperty("media-content"));kt.remove(Ze);const mt=Oe.getMediaViewElement(kt,st,xe);kt.insert(kt.createPositionAt(pt,0),mt)};return lt=>{lt.on("attribute:url:media",Re)}}function A(Oe){const xe=Oe.getSelectedElement();return xe&&function(Re){return!!Re.getCustomProperty("media")&&(0,j.isWidget)(Re)}(xe)?xe:null}function l(Oe,xe,Re,lt){return Oe.createContainerElement("figure",{class:"media"},[xe.getMediaViewElement(Oe,Re,lt),Oe.createSlot()])}function c(Oe){const xe=Oe.getSelectedElement();return xe&&xe.is("element","media")?xe:null}function L(Oe,xe,Re,lt){Oe.change(rt=>{const ct=rt.createElement("media",{url:xe});Oe.insertObject(ct,Re,null,{setSelection:"on",findOptimalPosition:lt?"auto":void 0})})}class z extends p.Command{refresh(){const xe=this.editor.model,Re=xe.document.selection,lt=c(Re);this.value=lt?lt.getAttribute("url"):void 0,this.isEnabled=function(rt){const ct=rt.getSelectedElement();return!!ct&&ct.name==="media"}(Re)||function(rt,ct){let kt=(0,j.findOptimalInsertionRange)(rt,ct).start.parent;return kt.isEmpty&&!ct.schema.isLimit(kt)&&(kt=kt.parent),ct.schema.checkChild(kt,"media")}(Re,xe)}execute(xe){const Re=this.editor.model,lt=Re.document.selection,rt=c(lt);rt?Re.change(ct=>{ct.setAttribute("url",xe,rt)}):L(Re,xe,lt,!0)}}var y=ae(273);class h{constructor(xe,Re){const lt=Re.providers,rt=Re.extraProviders||[],ct=new Set(Re.removeProviders),st=lt.concat(rt).filter(kt=>{const pt=kt.name;return pt?!ct.has(pt):((0,I.logWarning)("media-embed-no-provider-name",{provider:kt}),!1)});this.locale=xe,this.providerDefinitions=st}hasMedia(xe){return!!this._getMedia(xe)}getMediaViewElement(xe,Re,lt){return this._getMedia(Re).getViewElement(xe,lt)}_getMedia(xe){if(!xe)return new V(this.locale);xe=xe.trim();for(const Re of this.providerDefinitions){const lt=Re.html,rt=(0,I.toArray)(Re.url);for(const ct of rt){const st=this._getUrlMatches(xe,ct);if(st)return new V(this.locale,xe,st,lt)}}return null}_getUrlMatches(xe,Re){let lt=xe.match(Re);if(lt)return lt;let rt=xe.replace(/^https?:\/\//,"");return lt=rt.match(Re),lt||(rt=rt.replace(/^www\./,""),lt=rt.match(Re),lt||null)}}class V{constructor(xe,Re,lt,rt){this.url=this._getValidUrl(Re),this._locale=xe,this._match=lt,this._previewRenderer=rt}getViewElement(xe,Re){const lt={};let rt;if(Re.renderForEditingView||Re.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(lt["data-oembed-url"]=this.url),Re.renderForEditingView&&(lt.class="ck-media__wrapper");const ct=this._getPreviewHtml(Re);rt=xe.createRawElement("div",lt,(st,kt)=>{kt.setContentOf(st,ct)})}else this.url&&(lt.url=this.url),rt=xe.createEmptyElement(Re.elementName,lt);return xe.setCustomProperty("media-content",!0,rt),rt}_getPreviewHtml(xe){return this._previewRenderer?this._previewRenderer(this._match):this.url&&xe.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const xe=new y.IconView,Re=this._locale.t;return xe.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',xe.viewBox="0 0 64 42",new y.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[xe]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":Re("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(xe){return xe?xe.match(/^https?/)?xe:"https://"+xe:null}}var $=ae(62),J=ae.n($),Y=ae(835),le={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};J()(Y.Z,le),Y.Z.locals;class q extends p.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(xe){super(xe),xe.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:Re=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${Re[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:Re=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${Re[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:Re=>{const lt=Re[1],rt=Re[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${lt}${rt?`?start=${rt}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:Re=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${Re[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new h(xe.locale,xe.config.get("mediaEmbed"))}init(){const xe=this.editor,Re=xe.model.schema,lt=xe.t,rt=xe.conversion,ct=xe.config.get("mediaEmbed.previewsInData"),st=xe.config.get("mediaEmbed.elementName"),kt=this.registry;xe.commands.add("mediaEmbed",new z(xe)),Re.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),rt.for("dataDowncast").elementToStructure({model:"media",view:(pt,{writer:Ze})=>{const mt=pt.getAttribute("url");return l(Ze,kt,mt,{elementName:st,renderMediaPreview:!!mt&&ct})}}),rt.for("dataDowncast").add(v(kt,{elementName:st,renderMediaPreview:ct})),rt.for("editingDowncast").elementToStructure({model:"media",view:(pt,{writer:Ze})=>{const mt=pt.getAttribute("url");return function(qe,et,Q){return et.setCustomProperty("media",!0,qe),(0,j.toWidget)(qe,et,{label:Q})}(l(Ze,kt,mt,{elementName:st,renderForEditingView:!0}),Ze,lt("media widget"))}}),rt.for("editingDowncast").add(v(kt,{elementName:st,renderForEditingView:!0})),rt.for("upcast").elementToElement({view:pt=>["oembed",st].includes(pt.name)&&pt.getAttribute("url")?{name:!0}:null,model:(pt,{writer:Ze})=>{const mt=pt.getAttribute("url");return kt.hasMedia(mt)?Ze.createElement("media",{url:mt}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(pt,{writer:Ze})=>{const mt=pt.getAttribute("data-oembed-url");return kt.hasMedia(mt)?Ze.createElement("media",{url:mt}):null}}).add(pt=>{pt.on("element:figure",(Ze,mt,qe)=>{if(!qe.consumable.consume(mt.viewItem,{name:!0,classes:"media"}))return;const{modelRange:et,modelCursor:Q}=qe.convertChildren(mt.viewItem,mt.modelCursor);mt.modelRange=et,mt.modelCursor=Q,(0,I.first)(et.getItems())||qe.consumable.revert(mt.viewItem,{name:!0,classes:"media"})})})}}var d=ae(492),b=ae(945),_=ae(181),w=ae(254);const E=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class C extends p.Plugin{static get requires(){return[b.Clipboard,_.Delete,w.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(xe){super(xe),this._timeoutId=null,this._positionToInsert=null}init(){const xe=this.editor,Re=xe.model.document,lt=xe.plugins.get("ClipboardPipeline");this.listenTo(lt,"inputTransformation",()=>{const rt=Re.selection.getFirstRange(),ct=d.LivePosition.fromPosition(rt.start);ct.stickiness="toPrevious";const st=d.LivePosition.fromPosition(rt.end);st.stickiness="toNext",Re.once("change:data",()=>{this._embedMediaBetweenPositions(ct,st),ct.detach(),st.detach()},{priority:"high"})}),xe.commands.get("undo").on("execute",()=>{this._timeoutId&&(I.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(xe,Re){const lt=this.editor,rt=lt.plugins.get(q).registry,ct=new d.LiveRange(xe,Re),st=ct.getWalker({ignoreElementEnd:!0});let kt="";for(const pt of st)pt.item.is("$textProxy")&&(kt+=pt.item.data);if(kt=kt.trim(),!kt.match(E)||!rt.hasMedia(kt))return void ct.detach();lt.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=d.LivePosition.fromPosition(xe),this._timeoutId=I.global.window.setTimeout(()=>{lt.model.change(pt=>{this._timeoutId=null,pt.remove(ct),ct.detach();let Ze=null;this._positionToInsert.root.rootName!=="$graveyard"&&(Ze=this._positionToInsert),L(lt.model,kt,Ze,!1),this._positionToInsert.detach(),this._positionToInsert=null}),lt.plugins.get(_.Delete).requestUndoOnBackspace()},100)):ct.detach()}}var S=ae(487),ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};J()(S.Z,ne),S.Z.locals;var U=ae(708),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};J()(U.Z,D),U.Z.locals;class f extends y.View{constructor(xe,Re){super(Re);const lt=Re.t;this.focusTracker=new I.FocusTracker,this.keystrokes=new I.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(lt("Save"),p.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",rt=>!!rt),this.cancelButtonView=this._createButton(lt("Cancel"),p.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new y.ViewCollection,this._focusCycler=new y.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=xe,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,y.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(Re=>{this._focusables.add(Re),this.focusTracker.add(Re.element)}),this.keystrokes.listenTo(this.element);const xe=Re=>Re.stopPropagation();this.keystrokes.set("arrowright",xe),this.keystrokes.set("arrowleft",xe),this.keystrokes.set("arrowup",xe),this.keystrokes.set("arrowdown",xe)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(xe){this.urlInputView.fieldView.element.value=xe.trim()}isValid(){this.resetFormStatus();for(const xe of this._validators){const Re=xe(this);if(Re)return this.urlInputView.errorText=Re,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const xe=this.locale.t,Re=new y.LabeledFieldView(this.locale,y.createLabeledInputText),lt=Re.fieldView;return this._urlInputViewInfoDefault=xe("Paste the media URL in the input."),this._urlInputViewInfoTip=xe("Tip: Paste the URL into the content to embed faster."),Re.label=xe("Media URL"),Re.infoText=this._urlInputViewInfoDefault,lt.on("input",()=>{Re.infoText=lt.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=lt.element.value.trim()}),Re}_createButton(xe,Re,lt,rt){const ct=new y.ButtonView(this.locale);return ct.set({label:xe,icon:Re,tooltip:!0}),ct.extendTemplate({attributes:{class:lt}}),rt&&ct.delegate("execute").to(this,rt),ct}}class R extends p.Plugin{static get requires(){return[q]}static get pluginName(){return"MediaEmbedUI"}init(){const xe=this.editor,Re=xe.commands.get("mediaEmbed");xe.ui.componentFactory.add("mediaEmbed",lt=>{const rt=(0,y.createDropdown)(lt);return this._setUpDropdown(rt,Re),rt})}_setUpDropdown(xe,Re){const lt=this.editor,rt=lt.t,ct=xe.buttonView,st=lt.plugins.get(q).registry;xe.once("change:isOpen",()=>{const kt=new((0,y.CssTransitionDisablerMixin)(f))(function(pt,Ze){return[mt=>{if(!mt.url.length)return pt("The URL must not be empty.")},mt=>{if(!Ze.hasMedia(mt.url))return pt("This media URL is not supported.")}]}(lt.t,st),lt.locale);xe.panelView.children.add(kt),ct.on("open",()=>{kt.disableCssTransitions(),kt.url=Re.value||"",kt.urlInputView.fieldView.select(),kt.enableCssTransitions()},{priority:"low"}),xe.on("submit",()=>{kt.isValid()&&(lt.execute("mediaEmbed",kt.url),lt.editing.view.focus())}),xe.on("change:isOpen",()=>kt.resetFormStatus()),xe.on("cancel",()=>{lt.editing.view.focus()}),kt.delegate("submit","cancel").to(xe),kt.urlInputView.fieldView.bind("value").to(Re,"value"),kt.urlInputView.bind("isEnabled").to(Re,"isEnabled")}),xe.bind("isEnabled").to(Re),ct.set({label:rt("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var W=ae(199),N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};J()(W.Z,N),W.Z.locals;class oe extends p.Plugin{static get requires(){return[q,R,C,j.Widget]}static get pluginName(){return"MediaEmbed"}}class Te extends p.Plugin{static get requires(){return[j.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const xe=this.editor,Re=xe.t;xe.plugins.get(j.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:Re("Media toolbar"),items:xe.config.get("mediaEmbed.toolbar")||[],getRelatedElement:A})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=Yt})()},51609:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Jt={945:(p,j,I)=>{p.exports=I(79)("./src/clipboard.js")},704:(p,j,I)=>{p.exports=I(79)("./src/core.js")},492:(p,j,I)=>{p.exports=I(79)("./src/engine.js")},79:p=>{"use strict";p.exports=CKEditor5.dll}},Zt={};function ae(p){var j=Zt[p];if(j!==void 0)return j.exports;var I=Zt[p]={exports:{}};return Jt[p](I,I.exports,ae),I.exports}ae.d=(p,j)=>{for(var I in j)ae.o(j,I)&&!ae.o(p,I)&&Object.defineProperty(p,I,{enumerable:!0,get:j[I]})},ae.o=(p,j)=>Object.prototype.hasOwnProperty.call(p,j),ae.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var Yt={};(()=>{"use strict";ae.r(Yt),ae.d(Yt,{MSWordNormalizer:()=>V,PasteFromOffice:()=>w,parseHtml:()=>_});var p=ae(704),j=ae(945),I=ae(492);function v(E,C){if(!E.childCount)return;const S=new I.UpcastWriter(E.document),ne=function(f,R){const W=R.createRangeIn(f),N=new I.Matcher({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),oe=[];for(const Te of W)if(Te.type==="elementStart"&&N.match(Te.item)){const Oe=c(Te.item);oe.push({element:Te.item,id:Oe.id,order:Oe.order,indent:Oe.indent})}return oe}(E,S);if(!ne.length)return;let U=null,D=1;ne.forEach((f,R)=>{const W=function(Re,lt){if(!Re)return!0;if(Re.id!==lt.id)return lt.indent-Re.indent!=1;const rt=lt.element.previousSibling;if(!rt)return!0;return ct=rt,!(ct.is("element","ol")||ct.is("element","ul"));var ct}(ne[R-1],f),N=W?null:ne[R-1],oe=(Oe=f,(Te=N)?Oe.indent-Te.indent:Oe.indent-1);var Te,Oe;if(W&&(U=null,D=1),!U||oe!==0){const Re=function(lt,rt){const ct=new RegExp(`@list l${lt.id}:level${lt.indent}\\s*({[^}]*)`,"gi"),st=/mso-level-number-format:([^;]{0,100});/gi,kt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,pt=ct.exec(rt);let Ze="decimal",mt="ol",qe=null;if(pt&&pt[1]){const et=st.exec(pt[1]);if(et&&et[1]&&(Ze=et[1].trim(),mt=Ze!=="bullet"&&Ze!=="image"?"ol":"ul"),Ze==="bullet"){const Q=function(de){const we=function(Ge){if(Ge.getChild(0).is("$text"))return null;for(const Fe of Ge.getChildren()){if(!Fe.is("element","span"))continue;const Ve=Fe.getChild(0);if(Ve)return Ve.is("$text")?Ve:Ve.getChild(0)}return null}(de);if(!we)return null;const Be=we._data;return Be==="o"?"circle":Be==="\xB7"?"disc":Be==="\xA7"?"square":null}(lt.element);Q&&(Ze=Q)}else{const Q=kt.exec(pt[1]);Q&&Q[1]&&(qe=parseInt(Q[1]))}}return{type:mt,startIndex:qe,style:A(Ze)}}(f,C);if(U){if(f.indent>D){const lt=U.getChild(U.childCount-1),rt=lt.getChild(lt.childCount-1);U=l(Re,rt,S),D+=1}else if(f.indent<D){const lt=D-f.indent;U=function(rt,ct){const st=rt.getAncestors({parentFirst:!0});let kt=null,pt=0;for(const Ze of st)if((Ze.is("element","ul")||Ze.is("element","ol"))&&pt++,pt===ct){kt=Ze;break}return kt}(U,lt),D=f.indent}}else U=l(Re,f.element,S);f.indent<=D&&(U.is("element",Re.type)||(U=S.rename(Re.type,U)))}const xe=function(Re,lt){return function(rt,ct){const st=new I.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),kt=ct.createRangeIn(rt);for(const pt of kt)pt.type==="elementStart"&&st.match(pt.item)&&ct.remove(pt.item)}(Re,lt),lt.removeStyle("text-indent",Re),lt.rename("li",Re)}(f.element,S);S.appendChild(xe,U)})}function A(E){if(E.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(E){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return E;default:return null}}function l(E,C,S){const ne=C.parent,U=S.createElement(E.type),D=ne.getChildIndex(C)+1;return S.insertChild(D,U,ne),E.style&&S.setStyle("list-style-type",E.style,U),E.startIndex&&E.startIndex>1&&S.setAttribute("start",E.startIndex,U),U}function c(E){const C={},S=E.getStyle("mso-list");if(S){const ne=S.match(/(^|\s{1,100})l(\d+)/i),U=S.match(/\s{0,100}lfo(\d+)/i),D=S.match(/\s{0,100}level(\d+)/i);ne&&U&&D&&(C.id=ne[2],C.order=U[1],C.indent=parseInt(D[1]))}return C}function L(E,C){if(!E.childCount)return;const S=new I.UpcastWriter(E.document),ne=function(D,f){const R=f.createRangeIn(D),W=new I.Matcher({name:/v:(.+)/}),N=[];for(const oe of R){if(oe.type!="elementStart")continue;const Te=oe.item,Oe=Te.previousSibling,xe=Oe&&Oe.is("element")?Oe.name:null;W.match(Te)&&Te.getAttribute("o:gfxdata")&&xe!=="v:shapetype"&&N.push(oe.item.getAttribute("id"))}return N}(E,S);(function(D,f,R){const W=R.createRangeIn(f),N=new I.Matcher({name:"img"}),oe=[];for(const Te of W)if(Te.item.is("element")&&N.match(Te.item)){const Oe=Te.item,xe=Oe.getAttribute("v:shapes")?Oe.getAttribute("v:shapes").split(" "):[];xe.length&&xe.every(Re=>D.indexOf(Re)>-1)?oe.push(Oe):Oe.getAttribute("src")||oe.push(Oe)}for(const Te of oe)R.remove(Te)})(ne,E,S),function(D,f,R){const W=R.createRangeIn(f),N=[];for(const Oe of W)if(Oe.type=="elementStart"&&Oe.item.is("element","v:shape")){const xe=Oe.item.getAttribute("id");if(D.includes(xe))continue;oe(Oe.item.parent.getChildren(),xe)||N.push(Oe.item)}for(const Oe of N){const xe={src:Te(Oe)};Oe.hasAttribute("alt")&&(xe.alt=Oe.getAttribute("alt"));const Re=R.createElement("img",xe);R.insertChild(Oe.index+1,Re,Oe.parent)}function oe(Oe,xe){for(const Re of Oe)if(Re.is("element")&&(Re.name=="img"&&Re.getAttribute("v:shapes")==xe||oe(Re.getChildren(),xe)))return!0;return!1}function Te(Oe){for(const xe of Oe.getChildren())if(xe.is("element")&&xe.getAttribute("src"))return xe.getAttribute("src")}}(ne,E,S),function(D,f){const R=f.createRangeIn(D),W=new I.Matcher({name:/v:(.+)/}),N=[];for(const oe of R)oe.type=="elementStart"&&W.match(oe.item)&&N.push(oe.item);for(const oe of N)f.remove(oe)}(E,S);const U=function(D,f){const R=f.createRangeIn(D),W=new I.Matcher({name:"img"}),N=[];for(const oe of R)oe.item.is("element")&&W.match(oe.item)&&oe.item.getAttribute("src").startsWith("file://")&&N.push(oe.item);return N}(E,S);U.length&&function(D,f,R){if(D.length===f.length)for(let W=0;W<D.length;W++){const N=`data:${f[W].type};base64,${z(f[W].hex)}`;R.setAttribute("src",N,D[W])}}(U,function(D){if(!D)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,R=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),W=D.match(R),N=[];if(W)for(const oe of W){let Te=!1;oe.includes("\\pngblip")?Te="image/png":oe.includes("\\jpegblip")&&(Te="image/jpeg"),Te&&N.push({hex:oe.replace(f,"").replace(/[^\da-fA-F]/g,""),type:Te})}return N}(C),S)}function z(E){return btoa(E.match(/\w{2}/g).map(C=>String.fromCharCode(parseInt(C,16))).join(""))}const y=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,h=/xmlns:o="urn:schemas-microsoft-com/i;class V{constructor(C){this.document=C}isActive(C){return y.test(C)||h.test(C)}execute(C){const{body:S,stylesString:ne}=C._parsedData;v(S,ne),L(S,C.dataTransfer.getData("text/rtf")),C.content=S}}function $(E,C,S,{blockElements:ne,inlineObjectElements:U}){let D=S.createPositionAt(E,C=="forward"?"after":"before");return D=D.getLastMatchingPosition(({item:f})=>f.is("element")&&!ne.includes(f.name)&&!U.includes(f.name),{direction:C}),C=="forward"?D.nodeAfter:D.nodeBefore}function J(E,C){return!!E&&E.is("element")&&C.includes(E.name)}const Y=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class le{constructor(C){this.document=C}isActive(C){return Y.test(C)}execute(C){const S=new I.UpcastWriter(this.document),{body:ne}=C._parsedData;(function(U,D){for(const f of U.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const R=U.getChildIndex(f);D.remove(f),D.insertChild(R,f.getChildren(),U)}})(ne,S),function(U,D){for(const f of D.createRangeIn(U)){const R=f.item;if(R.is("element","li")){const W=R.getChild(0);W&&W.is("element","p")&&D.unwrapElement(W)}}}(ne,S),function(U,D){const f=new I.ViewDocument(D.document.stylesProcessor),R=new I.DomConverter(f,{renderingMode:"data"}),W=R.blockElements,N=R.inlineObjectElements,oe=[];for(const Te of D.createRangeIn(U)){const Oe=Te.item;if(Oe.is("element","br")){const xe=$(Oe,"forward",D,{blockElements:W,inlineObjectElements:N}),Re=$(Oe,"backward",D,{blockElements:W,inlineObjectElements:N}),lt=J(xe,W);(J(Re,W)||lt)&&oe.push(Oe)}}for(const Te of oe)Te.hasClass("Apple-interchange-newline")?D.remove(Te):D.replace(Te,D.createElement("p"))}(ne,S),C.content=ne}}const q=/<google-sheets-html-origin/i;class d{constructor(C){this.document=C}isActive(C){return q.test(C)}execute(C){const S=new I.UpcastWriter(this.document),{body:ne}=C._parsedData;(function(U,D){for(const f of U.getChildren())if(f.is("element","google-sheets-html-origin")){const R=U.getChildIndex(f);D.remove(f),D.insertChild(R,f.getChildren(),U)}})(ne,S),function(U,D){for(const f of U.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&D.removeAttribute("xmlns",f)}(ne,S),function(U,D){for(const f of U.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&D.removeStyle("width",f)}(ne,S),function(U,D){for(const f of Array.from(U.getChildren()))f.is("element","style")&&D.remove(f)}(ne,S),C.content=ne}}function b(E){return E.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(C,S)=>S.length===1?" ":Array(S.length+1).join("\xA0 ").substr(0,S.length))}function _(E,C){const S=new DOMParser,ne=function(W){return b(b(W)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(W){const N="</body>",oe="</html>",Te=W.indexOf(N);if(Te<0)return W;const Oe=W.indexOf(oe,Te+N.length);return W.substring(0,Te+N.length)+(Oe>=0?W.substring(Oe):"")}(E=E.replace(/<!--\[if gte vml 1]>/g,""))),U=S.parseFromString(ne,"text/html");(function(W){W.querySelectorAll("span[style*=spacerun]").forEach(N=>{const oe=N,Te=oe.innerText.length||0;oe.innerText=Array(Te+1).join("\xA0 ").substr(0,Te)})})(U);const D=U.body.innerHTML,f=function(W,N){const oe=new I.ViewDocument(N),Te=new I.DomConverter(oe,{renderingMode:"data"}),Oe=W.createDocumentFragment(),xe=W.body.childNodes;for(;xe.length>0;)Oe.appendChild(xe[0]);return Te.domToView(Oe,{skipComments:!0})}(U,C),R=function(W){const N=[],oe=[],Te=Array.from(W.getElementsByTagName("style"));for(const Oe of Te)Oe.sheet&&Oe.sheet.cssRules&&Oe.sheet.cssRules.length&&(N.push(Oe.sheet),oe.push(Oe.innerHTML));return{styles:N,stylesString:oe.join(" ")}}(U);return{body:f,bodyString:D,styles:R.styles,stylesString:R.stylesString}}class w extends p.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[j.ClipboardPipeline]}init(){const C=this.editor,S=C.plugins.get("ClipboardPipeline"),ne=C.editing.view.document,U=[];U.push(new V(ne)),U.push(new le(ne)),U.push(new d(ne)),S.on("inputTransformation",(D,f)=>{if(f._isTransformedWithPasteFromOffice||C.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const R=f.dataTransfer.getData("text/html"),W=U.find(N=>N.isActive(R));W&&(f._parsedData||(f._parsedData=_(R,ne.stylesProcessor)),W.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=Yt})()},42979:(Jt,Zt,ae)=>{Jt=ae.nmd(Jt);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(Yt,p){Jt.exports=p(ae(67294))})(self,Yt=>(()=>{var p={703:(A,l,c)=>{"use strict";var L=c(414);function z(){}function y(){}y.resetWarningCache=z,A.exports=function(){function h(J,Y,le,q,d,b){if(b!==L){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}function V(){return h}h.isRequired=h;var $={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:V,element:h,elementType:h,instanceOf:V,node:h,objectOf:V,oneOf:V,oneOfType:V,shape:V,exact:V,checkPropTypes:y,resetWarningCache:z};return $.PropTypes=$,$}},697:(A,l,c)=>{A.exports=c(703)()},414:A=>{"use strict";A.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:A=>{"use strict";A.exports=Yt}},j={};function I(A){var l=j[A];if(l!==void 0)return l.exports;var c=j[A]={exports:{}};return p[A](c,c.exports,I),c.exports}I.n=A=>{var l=A&&A.__esModule?()=>A.default:()=>A;return I.d(l,{a:l}),l},I.d=(A,l)=>{for(var c in l)I.o(l,c)&&!I.o(A,c)&&Object.defineProperty(A,c,{enumerable:!0,get:l[c]})},I.o=(A,l)=>Object.prototype.hasOwnProperty.call(A,l),I.r=A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var v={};return(()=>{"use strict";I.r(v),I.d(v,{CKEditor:()=>Eo,CKEditorContext:()=>Wo});var A=I(787),l=I.n(A),c=I(697),L=I.n(c);const z=new Array(256).fill("").map((ke,ve)=>("0"+ve.toString(16)).slice(-2));class y{constructor(ve){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof ve.crashNumberLimit=="number"?ve.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof ve.minimumNonErrorTimePeriod=="number"?ve.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Ke=>{const jt="error"in Ke?Ke.error:Ke.reason;jt instanceof Error&&this._handleError(jt,Ke)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(ve,Ke){this._listeners[ve]||(this._listeners[ve]=[]),this._listeners[ve].push(Ke)}off(ve,Ke){this._listeners[ve]=this._listeners[ve].filter(jt=>jt!==Ke)}_fire(ve,...Ke){const jt=this._listeners[ve]||[];for(const Si of jt)Si.apply(this,[null,...Ke])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(ve,Ke){if(this._shouldReactToError(ve)){this.crashes.push({message:ve.message,stack:ve.stack,filename:Ke instanceof ErrorEvent?Ke.filename:void 0,lineno:Ke instanceof ErrorEvent?Ke.lineno:void 0,colno:Ke instanceof ErrorEvent?Ke.colno:void 0,date:this._now()});const jt=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:ve,causesRestart:jt}),jt?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(ve){return ve.is&&ve.is("CKEditorError")&&ve.context!==void 0&&ve.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(ve)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function h(ke,ve=new Set){const Ke=[ke],jt=new Set;let Si=0;for(;Ke.length>Si;){const zi=Ke[Si++];if(!jt.has(zi)&&V(zi)&&!ve.has(zi))if(jt.add(zi),Symbol.iterator in zi)try{for(const Gi of zi)Ke.push(Gi)}catch{}else for(const Gi in zi)Gi!=="defaultValue"&&Ke.push(zi[Gi])}return jt}function V(ke){const ve=Object.prototype.toString.call(ke),Ke=typeof ke;return!(Ke==="number"||Ke==="boolean"||Ke==="string"||Ke==="symbol"||Ke==="function"||ve==="[object Date]"||ve==="[object RegExp]"||ve==="[object Module]"||ke==null||ke._watchdogExcluded||ke instanceof EventTarget||ke instanceof Event)}function $(ke,ve,Ke=new Set){if(ke===ve&&typeof(jt=ke)=="object"&&jt!==null)return!0;var jt;const Si=h(ke,Ke),zi=h(ve,Ke);for(const Gi of Si)if(zi.has(Gi))return!0;return!1}const J=function(ke){var ve=typeof ke;return ke!=null&&(ve=="object"||ve=="function")},Y=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var le=typeof self=="object"&&self&&self.Object===Object&&self;const q=Y||le||Function("return this")(),d=function(){return q.Date.now()};var b=/\s/;const _=function(ke){for(var ve=ke.length;ve--&&b.test(ke.charAt(ve)););return ve};var w=/^\s+/;const E=function(ke){return ke&&ke.slice(0,_(ke)+1).replace(w,"")},C=q.Symbol;var S=Object.prototype,ne=S.hasOwnProperty,U=S.toString,D=C?C.toStringTag:void 0;const f=function(ke){var ve=ne.call(ke,D),Ke=ke[D];try{ke[D]=void 0;var jt=!0}catch{}var Si=U.call(ke);return jt&&(ve?ke[D]=Ke:delete ke[D]),Si};var R=Object.prototype.toString;const W=function(ke){return R.call(ke)};var N=C?C.toStringTag:void 0;const oe=function(ke){return ke==null?ke===void 0?"[object Undefined]":"[object Null]":N&&N in Object(ke)?f(ke):W(ke)},Te=function(ke){return ke!=null&&typeof ke=="object"},Oe=function(ke){return typeof ke=="symbol"||Te(ke)&&oe(ke)=="[object Symbol]"};var xe=/^[-+]0x[0-9a-f]+$/i,Re=/^0b[01]+$/i,lt=/^0o[0-7]+$/i,rt=parseInt;const ct=function(ke){if(typeof ke=="number")return ke;if(Oe(ke))return NaN;if(J(ke)){var ve=typeof ke.valueOf=="function"?ke.valueOf():ke;ke=J(ve)?ve+"":ve}if(typeof ke!="string")return ke===0?ke:+ke;ke=E(ke);var Ke=Re.test(ke);return Ke||lt.test(ke)?rt(ke.slice(2),Ke?2:8):xe.test(ke)?NaN:+ke};var st=Math.max,kt=Math.min;const pt=function(ke,ve,Ke){var jt,Si,zi,Gi,$i,Qi,gn=0,Vo=!1,co=!1,On=!0;if(typeof ke!="function")throw new TypeError("Expected a function");function uo(wn){var kn=jt,ho=Si;return jt=Si=void 0,gn=wn,Gi=ke.apply(ho,kn)}function Xn(wn){var kn=wn-Qi;return Qi===void 0||kn>=ve||kn<0||co&&wn-gn>=zi}function An(){var wn=d();if(Xn(wn))return zn(wn);$i=setTimeout(An,function(kn){var ho=ve-(kn-Qi);return co?kt(ho,zi-(kn-gn)):ho}(wn))}function zn(wn){return $i=void 0,On&&jt?uo(wn):(jt=Si=void 0,Gi)}function eo(){var wn=d(),kn=Xn(wn);if(jt=arguments,Si=this,Qi=wn,kn){if($i===void 0)return function(ho){return gn=ho,$i=setTimeout(An,ve),Vo?uo(ho):Gi}(Qi);if(co)return clearTimeout($i),$i=setTimeout(An,ve),uo(Qi)}return $i===void 0&&($i=setTimeout(An,ve)),Gi}return ve=ct(ve)||0,J(Ke)&&(Vo=!!Ke.leading,zi=(co="maxWait"in Ke)?st(ct(Ke.maxWait)||0,ve):zi,On="trailing"in Ke?!!Ke.trailing:On),eo.cancel=function(){$i!==void 0&&clearTimeout($i),gn=0,jt=Qi=Si=$i=void 0},eo.flush=function(){return $i===void 0?Gi:zn(d())},eo},Ze=function(ke,ve,Ke){var jt=!0,Si=!0;if(typeof ke!="function")throw new TypeError("Expected a function");return J(Ke)&&(jt="leading"in Ke?!!Ke.leading:jt,Si="trailing"in Ke?!!Ke.trailing:Si),pt(ke,ve,{leading:jt,maxWait:ve,trailing:Si})},mt=function(){this.__data__=[],this.size=0},qe=function(ke,ve){return ke===ve||ke!=ke&&ve!=ve},et=function(ke,ve){for(var Ke=ke.length;Ke--;)if(qe(ke[Ke][0],ve))return Ke;return-1};var Q=Array.prototype.splice;const de=function(ke){var ve=this.__data__,Ke=et(ve,ke);return!(Ke<0)&&(Ke==ve.length-1?ve.pop():Q.call(ve,Ke,1),--this.size,!0)},we=function(ke){var ve=this.__data__,Ke=et(ve,ke);return Ke<0?void 0:ve[Ke][1]},Be=function(ke){return et(this.__data__,ke)>-1},Ge=function(ke,ve){var Ke=this.__data__,jt=et(Ke,ke);return jt<0?(++this.size,Ke.push([ke,ve])):Ke[jt][1]=ve,this};function Fe(ke){var ve=-1,Ke=ke==null?0:ke.length;for(this.clear();++ve<Ke;){var jt=ke[ve];this.set(jt[0],jt[1])}}Fe.prototype.clear=mt,Fe.prototype.delete=de,Fe.prototype.get=we,Fe.prototype.has=Be,Fe.prototype.set=Ge;const Ve=Fe,ut=function(){this.__data__=new Ve,this.size=0},St=function(ke){var ve=this.__data__,Ke=ve.delete(ke);return this.size=ve.size,Ke},Lt=function(ke){return this.__data__.get(ke)},Qt=function(ke){return this.__data__.has(ke)},yt=function(ke){if(!J(ke))return!1;var ve=oe(ke);return ve=="[object Function]"||ve=="[object GeneratorFunction]"||ve=="[object AsyncFunction]"||ve=="[object Proxy]"},Tt=q["__core-js_shared__"];var mi=function(){var ke=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||"");return ke?"Symbol(src)_1."+ke:""}();const pi=function(ke){return!!mi&&mi in ke};var Li=Function.prototype.toString;const Ei=function(ke){if(ke!=null){try{return Li.call(ke)}catch{}try{return ke+""}catch{}}return""};var Ni=/^\[object .+?Constructor\]$/,xi=Function.prototype,Bi=Object.prototype,nt=xi.toString,ue=Bi.hasOwnProperty,_e=RegExp("^"+nt.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ie=function(ke){return!(!J(ke)||pi(ke))&&(yt(ke)?_e:Ni).test(Ei(ke))},We=function(ke,ve){return ke?.[ve]},tt=function(ke,ve){var Ke=We(ke,ve);return Ie(Ke)?Ke:void 0},bt=tt(q,"Map"),At=tt(Object,"create"),xt=function(){this.__data__=At?At(null):{},this.size=0},Kt=function(ke){var ve=this.has(ke)&&delete this.__data__[ke];return this.size-=ve?1:0,ve};var ni=Object.prototype.hasOwnProperty;const ei=function(ke){var ve=this.__data__;if(At){var Ke=ve[ke];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return ni.call(ve,ke)?ve[ke]:void 0};var li=Object.prototype.hasOwnProperty;const Ci=function(ke){var ve=this.__data__;return At?ve[ke]!==void 0:li.call(ve,ke)},yi=function(ke,ve){var Ke=this.__data__;return this.size+=this.has(ke)?0:1,Ke[ke]=At&&ve===void 0?"__lodash_hash_undefined__":ve,this};function Ri(ke){var ve=-1,Ke=ke==null?0:ke.length;for(this.clear();++ve<Ke;){var jt=ke[ve];this.set(jt[0],jt[1])}}Ri.prototype.clear=xt,Ri.prototype.delete=Kt,Ri.prototype.get=ei,Ri.prototype.has=Ci,Ri.prototype.set=yi;const qi=Ri,Ui=function(){this.size=0,this.__data__={hash:new qi,map:new(bt||Ve),string:new qi}},ji=function(ke){var ve=typeof ke;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?ke!=="__proto__":ke===null},he=function(ke,ve){var Ke=ke.__data__;return ji(ve)?Ke[typeof ve=="string"?"string":"hash"]:Ke.map},B=function(ke){var ve=he(this,ke).delete(ke);return this.size-=ve?1:0,ve},ee=function(ke){return he(this,ke).get(ke)},se=function(ke){return he(this,ke).has(ke)},Pe=function(ke,ve){var Ke=he(this,ke),jt=Ke.size;return Ke.set(ke,ve),this.size+=Ke.size==jt?0:1,this};function Ct(ke){var ve=-1,Ke=ke==null?0:ke.length;for(this.clear();++ve<Ke;){var jt=ke[ve];this.set(jt[0],jt[1])}}Ct.prototype.clear=Ui,Ct.prototype.delete=B,Ct.prototype.get=ee,Ct.prototype.has=se,Ct.prototype.set=Pe;const Ht=Ct,wt=function(ke,ve){var Ke=this.__data__;if(Ke instanceof Ve){var jt=Ke.__data__;if(!bt||jt.length<199)return jt.push([ke,ve]),this.size=++Ke.size,this;Ke=this.__data__=new Ht(jt)}return Ke.set(ke,ve),this.size=Ke.size,this};function zt(ke){var ve=this.__data__=new Ve(ke);this.size=ve.size}zt.prototype.clear=ut,zt.prototype.delete=St,zt.prototype.get=Lt,zt.prototype.has=Qt,zt.prototype.set=wt;const fi=zt,gi=function(ke,ve){for(var Ke=-1,jt=ke==null?0:ke.length;++Ke<jt&&ve(ke[Ke],Ke,ke)!==!1;);return ke},Oi=function(){try{var ke=tt(Object,"defineProperty");return ke({},"",{}),ke}catch{}}(),Ti=function(ke,ve,Ke){ve=="__proto__"&&Oi?Oi(ke,ve,{configurable:!0,enumerable:!0,value:Ke,writable:!0}):ke[ve]=Ke};var Yi=Object.prototype.hasOwnProperty;const Ut=function(ke,ve,Ke){var jt=ke[ve];Yi.call(ke,ve)&&qe(jt,Ke)&&(Ke!==void 0||ve in ke)||Ti(ke,ve,Ke)},Ae=function(ke,ve,Ke,jt){var Si=!Ke;Ke||(Ke={});for(var zi=-1,Gi=ve.length;++zi<Gi;){var $i=ve[zi],Qi=jt?jt(Ke[$i],ke[$i],$i,Ke,ke):void 0;Qi===void 0&&(Qi=ke[$i]),Si?Ti(Ke,$i,Qi):Ut(Ke,$i,Qi)}return Ke},Ye=function(ke,ve){for(var Ke=-1,jt=Array(ke);++Ke<ke;)jt[Ke]=ve(Ke);return jt},it=function(ke){return Te(ke)&&oe(ke)=="[object Arguments]"};var ht=Object.prototype,Ot=ht.hasOwnProperty,Xt=ht.propertyIsEnumerable;const ii=it(function(){return arguments}())?it:function(ke){return Te(ke)&&Ot.call(ke,"callee")&&!Xt.call(ke,"callee")},di=Array.isArray,Ai=function(){return!1};var wi=Zt&&!Zt.nodeType&&Zt,Mi=wi&&!0&&Jt&&!Jt.nodeType&&Jt,cn=Mi&&Mi.exports===wi?q.Buffer:void 0;const hn=(cn?cn.isBuffer:void 0)||Ai;var xn=/^(?:0|[1-9]\d*)$/;const Xi=function(ke,ve){var Ke=typeof ke;return!!(ve=ve??9007199254740991)&&(Ke=="number"||Ke!="symbol"&&xn.test(ke))&&ke>-1&&ke%1==0&&ke<ve},ln=function(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991};var It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;const te=function(ke){return Te(ke)&&ln(ke.length)&&!!It[oe(ke)]},Ee=function(ke){return function(ve){return ke(ve)}};var Ue=Zt&&!Zt.nodeType&&Zt,$e=Ue&&!0&&Jt&&!Jt.nodeType&&Jt,dt=$e&&$e.exports===Ue&&Y.process;const gt=function(){try{var ke=$e&&$e.require&&$e.require("util").types;return ke||dt&&dt.binding&&dt.binding("util")}catch{}}();var Nt=gt&&gt.isTypedArray;const Et=Nt?Ee(Nt):te;var Bt=Object.prototype.hasOwnProperty;const qt=function(ke,ve){var Ke=di(ke),jt=!Ke&&ii(ke),Si=!Ke&&!jt&&hn(ke),zi=!Ke&&!jt&&!Si&&Et(ke),Gi=Ke||jt||Si||zi,$i=Gi?Ye(ke.length,String):[],Qi=$i.length;for(var gn in ke)!ve&&!Bt.call(ke,gn)||Gi&&(gn=="length"||Si&&(gn=="offset"||gn=="parent")||zi&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||Xi(gn,Qi))||$i.push(gn);return $i};var ai=Object.prototype;const ki=function(ke){var ve=ke&&ke.constructor;return ke===(typeof ve=="function"&&ve.prototype||ai)},hi=function(ke,ve){return function(Ke){return ke(ve(Ke))}},ri=hi(Object.keys,Object);var Ii=Object.prototype.hasOwnProperty;const Di=function(ke){if(!ki(ke))return ri(ke);var ve=[];for(var Ke in Object(ke))Ii.call(ke,Ke)&&Ke!="constructor"&&ve.push(Ke);return ve},bn=function(ke){return ke!=null&&ln(ke.length)&&!yt(ke)},yn=function(ke){return bn(ke)?qt(ke):Di(ke)},Rn=function(ke,ve){return ke&&Ae(ve,yn(ve),ke)},Un=function(ke){var ve=[];if(ke!=null)for(var Ke in Object(ke))ve.push(Ke);return ve};var Nn=Object.prototype.hasOwnProperty;const jn=function(ke){if(!J(ke))return Un(ke);var ve=ki(ke),Ke=[];for(var jt in ke)(jt!="constructor"||!ve&&Nn.call(ke,jt))&&Ke.push(jt);return Ke},Sn=function(ke){return bn(ke)?qt(ke,!0):jn(ke)},Bn=function(ke,ve){return ke&&Ae(ve,Sn(ve),ke)};var io=Zt&&!Zt.nodeType&&Zt,ze=io&&!0&&Jt&&!Jt.nodeType&&Jt,g=ze&&ze.exports===io?q.Buffer:void 0,u=g?g.allocUnsafe:void 0;const x=function(ke,ve){if(ve)return ke.slice();var Ke=ke.length,jt=u?u(Ke):new ke.constructor(Ke);return ke.copy(jt),jt},F=function(ke,ve){var Ke=-1,jt=ke.length;for(ve||(ve=Array(jt));++Ke<jt;)ve[Ke]=ke[Ke];return ve},K=function(ke,ve){for(var Ke=-1,jt=ke==null?0:ke.length,Si=0,zi=[];++Ke<jt;){var Gi=ke[Ke];ve(Gi,Ke,ke)&&(zi[Si++]=Gi)}return zi},ce=function(){return[]};var fe=Object.prototype.propertyIsEnumerable,Se=Object.getOwnPropertySymbols;const Le=Se?function(ke){return ke==null?[]:(ke=Object(ke),K(Se(ke),function(ve){return fe.call(ke,ve)}))}:ce,De=function(ke,ve){return Ae(ke,Le(ke),ve)},He=function(ke,ve){for(var Ke=-1,jt=ve.length,Si=ke.length;++Ke<jt;)ke[Si+Ke]=ve[Ke];return ke},Qe=hi(Object.getPrototypeOf,Object),_t=Object.getOwnPropertySymbols?function(ke){for(var ve=[];ke;)He(ve,Le(ke)),ke=Qe(ke);return ve}:ce,Pt=function(ke,ve){return Ae(ke,_t(ke),ve)},vt=function(ke,ve,Ke){var jt=ve(ke);return di(ke)?jt:He(jt,Ke(ke))},Gt=function(ke){return vt(ke,yn,Le)},ui=function(ke){return vt(ke,Sn,_t)},Pi=tt(q,"DataView"),Wi=tt(q,"Promise"),Ki=tt(q,"Set"),nn=tt(q,"WeakMap");var Wn="[object Map]",Pn="[object Promise]",qn="[object Set]",_o="[object WeakMap]",po="[object DataView]",Kn=Ei(Pi),yo=Ei(bt),no=Ei(Wi),fo=Ei(Ki),bo=Ei(nn),Vn=oe;(Pi&&Vn(new Pi(new ArrayBuffer(1)))!=po||bt&&Vn(new bt)!=Wn||Wi&&Vn(Wi.resolve())!=Pn||Ki&&Vn(new Ki)!=qn||nn&&Vn(new nn)!=_o)&&(Vn=function(ke){var ve=oe(ke),Ke=ve=="[object Object]"?ke.constructor:void 0,jt=Ke?Ei(Ke):"";if(jt)switch(jt){case Kn:return po;case yo:return Wn;case no:return Pn;case fo:return qn;case bo:return _o}return ve});const Gn=Vn;var so=Object.prototype.hasOwnProperty;const Oo=function(ke){var ve=ke.length,Ke=new ke.constructor(ve);return ve&&typeof ke[0]=="string"&&so.call(ke,"index")&&(Ke.index=ke.index,Ke.input=ke.input),Ke},Fo=q.Uint8Array,xo=function(ke){var ve=new ke.constructor(ke.byteLength);return new Fo(ve).set(new Fo(ke)),ve},Zi=function(ke,ve){var Ke=ve?xo(ke.buffer):ke.buffer;return new ke.constructor(Ke,ke.byteOffset,ke.byteLength)};var Lo=/\w*$/;const Mo=function(ke){var ve=new ke.constructor(ke.source,Lo.exec(ke));return ve.lastIndex=ke.lastIndex,ve};var Ho=C?C.prototype:void 0,Tn=Ho?Ho.valueOf:void 0;const $o=function(ke){return Tn?Object(Tn.call(ke)):{}},Uo=function(ke,ve){var Ke=ve?xo(ke.buffer):ke.buffer;return new ke.constructor(Ke,ke.byteOffset,ke.length)},ar=function(ke,ve,Ke){var jt=ke.constructor;switch(ve){case"[object ArrayBuffer]":return xo(ke);case"[object Boolean]":case"[object Date]":return new jt(+ke);case"[object DataView]":return Zi(ke,Ke);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Uo(ke,Ke);case"[object Map]":case"[object Set]":return new jt;case"[object Number]":case"[object String]":return new jt(ke);case"[object RegExp]":return Mo(ke);case"[object Symbol]":return $o(ke)}};var Ro=Object.create;const lr=function(){function ke(){}return function(ve){if(!J(ve))return{};if(Ro)return Ro(ve);ke.prototype=ve;var Ke=new ke;return ke.prototype=void 0,Ke}}(),Mn=function(ke){return typeof ke.constructor!="function"||ki(ke)?{}:lr(Qe(ke))},wo=function(ke){return Te(ke)&&Gn(ke)=="[object Map]"};var Co=gt&&gt.isMap;const cr=Co?Ee(Co):wo,br=function(ke){return Te(ke)&&Gn(ke)=="[object Set]"};var Yn=gt&&gt.isSet;const ao=Yn?Ee(Yn):br;var qo="[object Arguments]",Qn="[object Function]",lo="[object Object]",sn={};sn[qo]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object DataView]"]=sn["[object Boolean]"]=sn["[object Date]"]=sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Map]"]=sn["[object Number]"]=sn[lo]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object Symbol]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Error]"]=sn[Qn]=sn["[object WeakMap]"]=!1;const an=function ke(ve,Ke,jt,Si,zi,Gi){var $i,Qi=1&Ke,gn=2&Ke,Vo=4&Ke;if(jt&&($i=zi?jt(ve,Si,zi,Gi):jt(ve)),$i!==void 0)return $i;if(!J(ve))return ve;var co=di(ve);if(co){if($i=Oo(ve),!Qi)return F(ve,$i)}else{var On=Gn(ve),uo=On==Qn||On=="[object GeneratorFunction]";if(hn(ve))return x(ve,Qi);if(On==lo||On==qo||uo&&!zi){if($i=gn||uo?{}:Mn(ve),!Qi)return gn?Pt(ve,Bn($i,ve)):De(ve,Rn($i,ve))}else{if(!sn[On])return zi?ve:{};$i=ar(ve,On,Qi)}}Gi||(Gi=new fi);var Xn=Gi.get(ve);if(Xn)return Xn;Gi.set(ve,$i),ao(ve)?ve.forEach(function(zn){$i.add(ke(zn,Ke,jt,zn,ve,Gi))}):cr(ve)&&ve.forEach(function(zn,eo){$i.set(eo,ke(zn,Ke,jt,eo,ve,Gi))});var An=co?void 0:(Vo?gn?ui:Gt:gn?Sn:yn)(ve);return gi(An||ve,function(zn,eo){An&&(zn=ve[eo=zn]),Ut($i,eo,ke(zn,Ke,jt,eo,ve,Gi))}),$i},Dn=function(ke,ve){return an(ke,5,ve=typeof ve=="function"?ve:void 0)};var on=Function.prototype,oo=Object.prototype,ro=on.toString,oi=oo.hasOwnProperty,ko=ro.call(Object);const dr=function(ke){if(!Te(ke)||oe(ke)!="[object Object]")return!1;var ve=Qe(ke);if(ve===null)return!0;var Ke=oi.call(ve,"constructor")&&ve.constructor;return typeof Ke=="function"&&Ke instanceof Ke&&ro.call(Ke)==ko},Ko=function(ke){return Te(ke)&&ke.nodeType===1&&!dr(ke)};class Go extends y{constructor(ve,Ke={}){super(Ke),this._editor=null,this._throttledSave=Ze(this._save.bind(this),typeof Ke.saveInterval=="number"?Ke.saveInterval:5e3),ve&&(this._creator=(jt,Si)=>ve.create(jt,Si)),this._destructor=jt=>jt.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(ve){this._creator=ve}setDestructor(ve){this._destructor=ve}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(ve=>{console.error("An error happened during the editor destroying.",ve)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const ve=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,ve,ve.context)}}).then(()=>{this._fire("restart")})}create(ve=this._elementOrData,Ke=this._config,jt){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=ve,this._config=this._cloneEditorConfiguration(Ke)||{},this._config.context=jt,this._creator(ve,this._config))).then(Si=>{this._editor=Si,Si.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Si.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const ve=this._editor;return this._editor=null,ve.model.document.off("change:data",this._throttledSave),this._destructor(ve)})}_save(){const ve=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=ve}catch(Ke){console.error(Ke,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(ve){this._excludedProps=ve}_getData(){const ve={};for(const Ke of this._editor.model.document.getRootNames())ve[Ke]=this._editor.data.get({rootName:Ke});return ve}_isErrorComingFromThisItem(ve){return $(this._editor,ve.context,this._excludedProps)}_cloneEditorConfiguration(ve){return Dn(ve,(Ke,jt)=>Ko(Ke)||jt==="context"?Ke:void 0)}}const Jn=Symbol("MainQueueId");class Dt extends y{constructor(ve,Ke={}){super(Ke),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Yo,this._watchdogConfig=Ke,this._creator=jt=>ve.create(jt),this._destructor=jt=>jt.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(ve){this._creator=ve}setDestructor(ve){this._destructor=ve}get context(){return this._context}create(ve={}){return this._actionQueues.enqueue(Jn,()=>(this._contextConfig=ve,this._create()))}getItem(ve){return this._getWatchdog(ve)._item}getItemState(ve){return this._getWatchdog(ve).state}add(ve){const Ke=Qo(ve);return Promise.all(Ke.map(jt=>this._actionQueues.enqueue(jt.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Si;if(this._watchdogs.has(jt.id))throw new Error(`Item with the given id is already added: '${jt.id}'.`);if(jt.type==="editor")return Si=new Go(null,this._watchdogConfig),Si.setCreator(jt.creator),Si._setExcludedProperties(this._contextProps),jt.destructor&&Si.setDestructor(jt.destructor),this._watchdogs.set(jt.id,Si),Si.on("error",(zi,{error:Gi,causesRestart:$i})=>{this._fire("itemError",{itemId:jt.id,error:Gi}),$i&&this._actionQueues.enqueue(jt.id,()=>new Promise(Qi=>{const gn=()=>{Si.off("restart",gn),this._fire("itemRestart",{itemId:jt.id}),Qi()};Si.on("restart",gn)}))}),Si.create(jt.sourceElementOrData,jt.config,this._context);throw new Error(`Not supported item type: '${jt.type}'.`)})))}remove(ve){const Ke=Qo(ve);return Promise.all(Ke.map(jt=>this._actionQueues.enqueue(jt,()=>{const Si=this._getWatchdog(jt);return this._watchdogs.delete(jt),Si.destroy()})))}destroy(){return this._actionQueues.enqueue(Jn,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Jn,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(ve=>{console.error("An error happened during destroying the context or items.",ve)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(ve=>(this._context=ve,this._contextProps=h(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Ke=>(Ke._setExcludedProperties(this._contextProps),Ke.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const ve=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Ke=>Ke.destroy())).then(()=>this._destructor(ve))})}_getWatchdog(ve){const Ke=this._watchdogs.get(ve);if(!Ke)throw new Error(`Item with the given id was not registered: ${ve}.`);return Ke}_isErrorComingFromThisItem(ve){for(const Ke of this._watchdogs.values())if(Ke._isErrorComingFromThisItem(ve))return!1;return $(this._context,ve.context)}}class Yo{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(ve){this._onEmptyCallbacks.push(ve)}enqueue(ve,Ke){const jt=ve===Jn;this._activeActions++,this._queues.get(ve)||this._queues.set(ve,Promise.resolve());const Si=(jt?Promise.all(this._queues.values()):Promise.all([this._queues.get(Jn),this._queues.get(ve)])).then(Ke),zi=Si.catch(()=>{});return this._queues.set(ve,zi),Si.finally(()=>{this._activeActions--,this._queues.get(ve)===zi&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Gi=>Gi())})}}function Qo(ke){return Array.isArray(ke)?ke:[ke]}const To=l().createContext("contextWatchdog");class Wo extends l().Component{constructor(ve,Ke){super(ve,Ke),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(ve){return this._shouldComponentUpdate(ve)}async _shouldComponentUpdate(ve){return ve.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(ve.config)),ve.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(ve.config),!0):this.props.children!==ve.children}render(){return l().createElement(To.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(ve){this.contextWatchdog=new Dt(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Ke,jt)=>{this.props.onError(jt.error,{phase:"runtime",willContextRestart:jt.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(ve).catch(Ke=>{this.props.onError(Ke,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Wo.defaultProps={isLayoutReady:!0,onError:(ke,ve)=>console.error(ke,ve)},Wo.propTypes={id:L().string,isLayoutReady:L().bool,context:L().func,watchdogConfig:L().object,config:L().object,onReady:L().func,onError:L().func};const Ao="Lock from React integration (@ckeditor/ckeditor5-react)";class Eo extends l().Component{constructor(ve){super(ve),this.editorDestructionInProgress=null,this.domContainer=l().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Ke}=window;if(Ke){const[jt]=Ke.split(".").map(Number);jt<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(ve){return!!this.editor&&(ve.id!==this.props.id||ve.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(ve)&&this.editor.data.set(ve.data),"disabled"in ve&&(ve.disabled?this.editor.enableReadOnlyMode(Ao):this.editor.disableReadOnlyMode(Ao)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return l().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Dt?this.watchdog=new jo(this.context):this.watchdog=new Eo._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((ve,Ke)=>this._createEditor(ve,Ke)),this.watchdog.on("error",(ve,{error:Ke,causesRestart:jt})=>{(this.props.onError||console.error)(Ke,{phase:"runtime",willEditorRestart:jt})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(ve=>{(this.props.onError||console.error)(ve,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(ve,Ke){return this.props.editor.create(ve,Ke).then(jt=>{"disabled"in this.props&&this.props.disabled&&jt.enableReadOnlyMode(Ao);const Si=jt.model.document,zi=jt.editing.view.document;return Si.on("change:data",Gi=>{this.props.onChange&&this.props.onChange(Gi,jt)}),zi.on("focus",Gi=>{this.props.onFocus&&this.props.onFocus(Gi,jt)}),zi.on("blur",Gi=>{this.props.onBlur&&this.props.onBlur(Gi,jt)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(jt)}),jt})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(ve=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,ve()):this.instance?(await this.instance.destroy(),this.instance=null,ve()):void ve())})}_shouldUpdateEditor(ve){return this.props.data!==ve.data&&this.editor.data.get()!==ve.data}_getConfig(){const ve=this.props.config||{};return this.props.data&&ve.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...ve,initialData:ve.initialData||this.props.data||""}}}Eo.contextType=To,Eo.propTypes={editor:L().func.isRequired,data:L().string,config:L().object,disableWatchdog:L().bool,watchdogConfig:L().object,onChange:L().func,onReady:L().func,onFocus:L().func,onBlur:L().func,onError:L().func,disabled:L().bool,id:L().any},Eo._EditorWatchdog=Go;class jo{constructor(ve){this._contextWatchdog=ve,this._id=function(){const Ke=4294967296*Math.random()>>>0,jt=4294967296*Math.random()>>>0,Si=4294967296*Math.random()>>>0,zi=4294967296*Math.random()>>>0;return"e"+z[Ke>>0&255]+z[Ke>>8&255]+z[Ke>>16&255]+z[Ke>>24&255]+z[jt>>0&255]+z[jt>>8&255]+z[jt>>16&255]+z[jt>>24&255]+z[Si>>0&255]+z[Si>>8&255]+z[Si>>16&255]+z[Si>>24&255]+z[zi>>0&255]+z[zi>>8&255]+z[zi>>16&255]+z[zi>>24&255]}()}setCreator(ve){this._creator=ve}create(ve,Ke){return this._contextWatchdog.add({sourceElementOrData:ve,config:Ke,creator:this._creator,id:this._id,type:"editor"})}on(ve,Ke){this._contextWatchdog.on("itemError",(jt,{itemId:Si,error:zi})=>{Si===this._id&&Ke(null,{error:zi,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),v})())},20060:(Jt,Zt,ae)=>{Jt=ae.nmd(Jt),function(Yt){const p=Yt.en=Yt.en||{};p.dictionary=Object.assign(p.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Yt={993:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const z=L},102:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const z=L},865:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const z=L},430:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const z=L},943:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const z=L},966:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}",""]);const z=L},770:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const z=L},387:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const z=L},51:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const z=L},424:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const z=L},500:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const z=L},522:(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([v.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const z=L},609:v=>{"use strict";v.exports=function(A){var l=[];return l.toString=function(){return this.map(function(c){var L=A(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,z){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(z)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var $=0;$<c.length;$++){var J=[].concat(c[$]);z&&y[J[0]]||(L&&(J[2]?J[2]="".concat(L," and ").concat(J[2]):J[2]=L),l.push(J))}},l}},62:(v,A,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},z=function(){var w={};return function(E){if(w[E]===void 0){var C=document.querySelector(E);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}w[E]=C}return w[E]}}(),y=[];function h(w){for(var E=-1,C=0;C<y.length;C++)if(y[C].identifier===w){E=C;break}return E}function V(w,E){for(var C={},S=[],ne=0;ne<w.length;ne++){var U=w[ne],D=E.base?U[0]+E.base:U[0],f=C[D]||0,R="".concat(D," ").concat(f);C[D]=f+1;var W=h(R),N={css:U[1],media:U[2],sourceMap:U[3]};W!==-1?(y[W].references++,y[W].updater(N)):y.push({identifier:R,updater:_(N,E),references:1}),S.push(R)}return S}function $(w){var E=document.createElement("style"),C=w.attributes||{};if(C.nonce===void 0){var S=l.nc;S&&(C.nonce=S)}if(Object.keys(C).forEach(function(U){E.setAttribute(U,C[U])}),typeof w.insert=="function")w.insert(E);else{var ne=z(w.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(E)}return E}var J,Y=(J=[],function(w,E){return J[w]=E,J.filter(Boolean).join(`
`)});function le(w,E,C,S){var ne=C?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(w.styleSheet)w.styleSheet.cssText=Y(E,ne);else{var U=document.createTextNode(ne),D=w.childNodes;D[E]&&w.removeChild(D[E]),D.length?w.insertBefore(U,D[E]):w.appendChild(U)}}function q(w,E,C){var S=C.css,ne=C.media,U=C.sourceMap;if(ne?w.setAttribute("media",ne):w.removeAttribute("media"),U&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),w.styleSheet)w.styleSheet.cssText=S;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(S))}}var d=null,b=0;function _(w,E){var C,S,ne;if(E.singleton){var U=b++;C=d||(d=$(E)),S=le.bind(null,C,U,!1),ne=le.bind(null,C,U,!0)}else C=$(E),S=q.bind(null,C,E),ne=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(C)};return S(w),function(D){if(D){if(D.css===w.css&&D.media===w.media&&D.sourceMap===w.sourceMap)return;S(w=D)}else ne()}}v.exports=function(w,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=L());var C=V(w=w||[],E);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ne=0;ne<C.length;ne++){var U=h(C[ne]);y[U].references--}for(var D=V(S,E),f=0;f<C.length;f++){var R=h(C[f]);y[R].references===0&&(y[R].updater(),y.splice(R,1))}C=D}}}},704:(v,A,l)=>{v.exports=l(79)("./src/core.js")},492:(v,A,l)=>{v.exports=l(79)("./src/engine.js")},273:(v,A,l)=>{v.exports=l(79)("./src/ui.js")},209:(v,A,l)=>{v.exports=l(79)("./src/utils.js")},995:(v,A,l)=>{v.exports=l(79)("./src/widget.js")},79:v=>{"use strict";v.exports=CKEditor5.dll}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={id:v,exports:{}};return Yt[v](l,l.exports,j),l.exports}j.n=v=>{var A=v&&v.__esModule?()=>v.default:()=>v;return j.d(A,{a:A}),A},j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},j.nc=void 0;var I={};(()=>{"use strict";j.r(I),j.d(I,{PlainTableOutput:()=>ii,Table:()=>Xt,TableCaption:()=>zi,TableCaptionEditing:()=>ve,TableCaptionUI:()=>Ke,TableCellProperties:()=>br,TableCellPropertiesEditing:()=>cr,TableCellPropertiesUI:()=>xo,TableCellWidthEditing:()=>Mo,TableClipboard:()=>fi,TableColumnResize:()=>na,TableColumnResizeEditing:()=>Es,TableEditing:()=>Ui,TableKeyboard:()=>Yi,TableMouse:()=>Ye,TableProperties:()=>Qo,TablePropertiesEditing:()=>ro,TablePropertiesUI:()=>Yo,TableSelection:()=>zt,TableToolbar:()=>cn,TableUI:()=>Pe,TableUtils:()=>Tt});var v=j(704),A=j(995);function l(O,r){const{modelAttribute:m,styleName:P,viewElement:M,defaultValue:Z,reduceBoxSides:ie=!1,shouldUpcast:me=()=>!0}=r;O.for("upcast").attributeToAttribute({view:{name:M,styles:{[P]:/[\s\S]+/}},model:{key:m,value:ge=>{if(!me(ge))return;const Ce=ge.getNormalizedStyle(P),Me=ie?y(Ce):Ce;return Z!==Me?Me:void 0}}})}function c(O,r,m,P){O.for("upcast").add(M=>M.on("element:"+r,(Z,ie,me)=>{if(!ie.modelRange)return;const ge=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Vt=>ie.viewItem.hasStyle(Vt));if(!ge.length)return;const Ce={styles:ge};if(!me.consumable.test(ie.viewItem,Ce))return;const Me=[...ie.modelRange.getItems({shallow:!0})].pop();me.consumable.consume(ie.viewItem,Ce);const ot={style:ie.viewItem.getNormalizedStyle("border-style"),color:ie.viewItem.getNormalizedStyle("border-color"),width:ie.viewItem.getNormalizedStyle("border-width")},ft={style:y(ot.style),color:y(ot.color),width:y(ot.width)};ft.style!==P.style&&me.writer.setAttribute(m.style,ft.style,Me),ft.color!==P.color&&me.writer.setAttribute(m.color,ft.color,Me),ft.width!==P.width&&me.writer.setAttribute(m.width,ft.width,Me)}))}function L(O,r){const{modelElement:m,modelAttribute:P,styleName:M}=r;O.for("downcast").attributeToAttribute({model:{name:m,key:P},view:Z=>({key:"style",value:{[M]:Z}})})}function z(O,r){const{modelAttribute:m,styleName:P}=r;O.for("downcast").add(M=>M.on(`attribute:${m}:table`,(Z,ie,me)=>{const{item:ge,attributeNewValue:Ce}=ie,{mapper:Me,writer:ot}=me;if(!me.consumable.consume(ie.item,Z.name))return;const ft=[...Me.toViewElement(ge).getChildren()].find(Vt=>Vt.is("element","table"));Ce?ot.setStyle(P,Ce,ft):ot.removeStyle(P,ft)}))}function y(O){if(!O)return;const r=["top","right","bottom","left"];if(!r.every(P=>O[P]))return O;const m=O.top;return r.every(P=>O[P]===m)?m:O}function h(O,r,m,P,M=1){r!=null&&M!=null&&r>M?P.setAttribute(O,r,m):P.removeAttribute(O,m)}function V(O,r,m={}){const P=O.createElement("tableCell",m);return O.insertElement("paragraph",P),O.insert(P,r),P}function $(O,r){const m=r.parent.parent,P=parseInt(m.getAttribute("headingColumns")||"0"),{column:M}=O.getCellLocation(r);return!!P&&M<P}function J(O,r,m){const{modelAttribute:P}=m;O.extend("tableCell",{allowAttributes:[P]}),l(r,{viewElement:/^(td|th)$/,...m}),L(r,{modelElement:"tableCell",...m})}var Y=j(209);function le(){return O=>{O.on("element:table",(r,m,P)=>{const M=m.viewItem;if(!P.consumable.test(M,{name:!0}))return;const{rows:Z,headingRows:ie,headingColumns:me}=function(Me){let ot,ft=0;const Vt=[],$t=[];let Ft;for(const ti of Array.from(Me.getChildren())){if(ti.name!=="tbody"&&ti.name!=="thead"&&ti.name!=="tfoot")continue;ti.name!=="thead"||Ft||(Ft=ti);const ci=Array.from(ti.getChildren()).filter(_i=>_i.is("element","tr"));for(const _i of ci)if(Ft&&ti===Ft||ti.name==="tbody"&&Array.from(_i.getChildren()).length&&Array.from(_i.getChildren()).every(Vi=>Vi.is("element","th")))ft++,Vt.push(_i);else{$t.push(_i);const Vi=d(_i);(!ot||Vi<ot)&&(ot=Vi)}}return{headingRows:ft,headingColumns:ot||0,rows:[...Vt,...$t]}}(M),ge={};me&&(ge.headingColumns=me),ie&&(ge.headingRows=ie);const Ce=P.writer.createElement("table",ge);if(P.safeInsert(Ce,m.modelCursor)){if(P.consumable.consume(M,{name:!0}),Z.forEach(Me=>P.convertItem(Me,P.writer.createPositionAt(Ce,"end"))),P.convertChildren(M,P.writer.createPositionAt(Ce,"end")),Ce.isEmpty){const Me=P.writer.createElement("tableRow");P.writer.insert(Me,P.writer.createPositionAt(Ce,"end")),V(P.writer,P.writer.createPositionAt(Me,"end"))}P.updateConversionResult(Ce,m)}})}}function q(O){return r=>{r.on(`element:${O}`,(m,P,{writer:M})=>{if(!P.modelRange)return;const Z=P.modelRange.start.nodeAfter,ie=M.createPositionAt(Z,0);if(P.viewItem.isEmpty)return void M.insertElement("paragraph",ie);const me=Array.from(Z.getChildren());if(me.every(ge=>ge.is("element","$marker"))){const ge=M.createElement("paragraph");M.insert(ge,M.createPositionAt(Z,0));for(const Ce of me)M.move(M.createRangeOn(Ce),M.createPositionAt(ge,"end"))}},{priority:"low"})}}function d(O){let r=0,m=0;const P=Array.from(O.getChildren()).filter(M=>M.name==="th"||M.name==="td");for(;m<P.length&&P[m].name==="th";){const M=P[m];r+=parseInt(M.getAttribute("colspan")||"1"),m++}return r}class b{constructor(r,m={}){this._jumpedToStartRow=!1,this._table=r,this._startRow=m.row!==void 0?m.row:m.startRow||0,this._endRow=m.row!==void 0?m.row:m.endRow,this._startColumn=m.column!==void 0?m.column:m.startColumn||0,this._endColumn=m.column!==void 0?m.column:m.endColumn,this._includeAllSlots=!!m.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const r=this._table.getChild(this._rowIndex);if(!r||this._isOverEndRow())return{done:!0,value:void 0};if(!r.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let m=null;const P=this._getSpanned();if(P)this._includeAllSlots&&!this._shouldSkipSlot()&&(m=this._formatOutValue(P.cell,P.row,P.column));else{const M=r.getChild(this._cellIndex);if(!M)return this._advanceToNextRow();const Z=parseInt(M.getAttribute("colspan")||"1"),ie=parseInt(M.getAttribute("rowspan")||"1");(Z>1||ie>1)&&this._recordSpans(M,ie,Z),this._shouldSkipSlot()||(m=this._formatOutValue(M)),this._nextCellAtColumn=this._column+Z}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,m||this.next()}skipRow(r){this._skipRows.add(r)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(r,m=this._row,P=this._column){return{done:!1,value:new _(this,r,m,P)}}_shouldSkipSlot(){const r=this._skipRows.has(this._row),m=this._row<this._startRow,P=this._column<this._startColumn,M=this._endColumn!==void 0&&this._column>this._endColumn;return r||m||P||M}_getSpanned(){const r=this._spannedCells.get(this._row);return r&&r.get(this._column)||null}_recordSpans(r,m,P){const M={cell:r,row:this._row,column:this._column};for(let Z=this._row;Z<this._row+m;Z++)for(let ie=this._column;ie<this._column+P;ie++)Z==this._row&&ie==this._column||this._markSpannedCell(Z,ie,M)}_markSpannedCell(r,m,P){this._spannedCells.has(r)||this._spannedCells.set(r,new Map),this._spannedCells.get(r).set(m,P)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const r=this._getRowLength(0);for(let m=this._startRow;!this._jumpedToStartRow;m--)r===this._getRowLength(m)&&(this._row=m,this._rowIndex=m,this._jumpedToStartRow=!0)}_getRowLength(r){return[...this._table.getChild(r).getChildren()].reduce((m,P)=>m+parseInt(P.getAttribute("colspan")||"1"),0)}}class _{constructor(r,m,P,M){this.cell=m,this.row=r._row,this.column=r._column,this.cellAnchorRow=P,this.cellAnchorColumn=M,this._cellIndex=r._cellIndex,this._rowIndex=r._rowIndex,this._table=r._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function w(O,r){return(m,{writer:P})=>{const M=m.getAttribute("headingRows")||0,Z=P.createContainerElement("table",null,[]),ie=P.createContainerElement("figure",{class:"table"},Z);M>0&&P.insert(P.createPositionAt(Z,"end"),P.createContainerElement("thead",null,P.createSlot(me=>me.is("element","tableRow")&&me.index<M))),M<O.getRows(m)&&P.insert(P.createPositionAt(Z,"end"),P.createContainerElement("tbody",null,P.createSlot(me=>me.is("element","tableRow")&&me.index>=M)));for(const{positionOffset:me,filter:ge}of r.additionalSlots)P.insert(P.createPositionAt(Z,me),P.createSlot(ge));return P.insert(P.createPositionAt(Z,"after"),P.createSlot(me=>!me.is("element","tableRow")&&!r.additionalSlots.some(({filter:ge})=>ge(me)))),r.asWidget?function(me,ge){return ge.setCustomProperty("table",!0,me),(0,A.toWidget)(me,ge,{hasSelectionHandle:!0})}(ie,P):ie}}function E(O={}){return(r,{writer:m})=>{const P=r.parent,M=P.parent,Z=M.getChildIndex(P),ie=new b(M,{row:Z}),me=M.getAttribute("headingRows")||0,ge=M.getAttribute("headingColumns")||0;let Ce=null;for(const Me of ie)if(Me.cell==r){const ot=Me.row<me||Me.column<ge?"th":"td";Ce=O.asWidget?(0,A.toWidgetEditable)(m.createEditableElement(ot),m):m.createContainerElement(ot);break}return Ce}}function C(O={}){return(r,{writer:m})=>{if(!r.parent.is("element","tableCell")||!S(r))return null;if(O.asWidget)return m.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const P=m.createContainerElement("p");return m.setCustomProperty("dataPipeline:transparentRendering",!0,P),P}}}function S(O){return O.parent.childCount==1&&!!O.getAttributeKeys().next().done}class ne extends v.Command{refresh(){const r=this.editor.model,m=r.document.selection,P=r.schema;this.isEnabled=function(M,Z){const ie=M.getFirstPosition().parent,me=ie===ie.root?ie:ie.parent;return Z.checkChild(me,"table")}(m,P)}execute(r={}){const m=this.editor,P=m.model,M=m.plugins.get("TableUtils"),Z=m.config.get("table.defaultHeadings.rows"),ie=m.config.get("table.defaultHeadings.columns");r.headingRows===void 0&&Z&&(r.headingRows=Z),r.headingColumns===void 0&&ie&&(r.headingColumns=ie),P.change(me=>{const ge=M.createTable(me,r);P.insertObject(ge,null,null,{findOptimalPosition:"auto"}),me.setSelection(me.createPositionAt(ge.getNodeByPath([0,0,0]),0))})}}class U extends v.Command{constructor(r,m={}){super(r),this.order=m.order||"below"}refresh(){const r=this.editor.model.document.selection,m=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=m}execute(){const r=this.editor,m=r.model.document.selection,P=r.plugins.get("TableUtils"),M=this.order==="above",Z=P.getSelectionAffectedTableCells(m),ie=P.getRowIndexes(Z),me=M?ie.first:ie.last,ge=Z[0].findAncestor("table");P.insertRows(ge,{at:M?me:me+1,copyStructureFromAbove:!M})}}class D extends v.Command{constructor(r,m={}){super(r),this.order=m.order||"right"}refresh(){const r=this.editor.model.document.selection,m=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=m}execute(){const r=this.editor,m=r.model.document.selection,P=r.plugins.get("TableUtils"),M=this.order==="left",Z=P.getSelectionAffectedTableCells(m),ie=P.getColumnIndexes(Z),me=M?ie.first:ie.last,ge=Z[0].findAncestor("table");P.insertColumns(ge,{columns:1,at:M?me:me+1})}}class f extends v.Command{constructor(r,m={}){super(r),this.direction=m.direction||"horizontally"}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length===1}execute(){const r=this.editor.plugins.get("TableUtils"),m=r.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?r.splitCellHorizontally(m,2):r.splitCellVertically(m,2)}}function R(O,r,m){const{startRow:P,startColumn:M,endRow:Z,endColumn:ie}=r,me=m.createElement("table"),ge=Z-P+1;for(let Me=0;Me<ge;Me++)m.insertElement("tableRow",me,"end");const Ce=[...new b(O,{startRow:P,endRow:Z,startColumn:M,endColumn:ie,includeAllSlots:!0})];for(const{row:Me,column:ot,cell:ft,isAnchor:Vt,cellAnchorRow:$t,cellAnchorColumn:Ft}of Ce){const ti=Me-P,ci=me.getChild(ti);if(Vt){const _i=m.cloneElement(ft);m.append(_i,ci),Oe(_i,Me,ot,Z,ie,m)}else($t<P||Ft<M)&&V(m,m.createPositionAt(ci,"end"))}return function(Me,ot,ft,Vt,$t){const Ft=parseInt(ot.getAttribute("headingRows")||"0");Ft>0&&h("headingRows",Ft-ft,Me,$t,0);const ti=parseInt(ot.getAttribute("headingColumns")||"0");ti>0&&h("headingColumns",ti-Vt,Me,$t,0)}(me,O,P,M,m),me}function W(O,r,m=0){const P=[],M=new b(O,{startRow:m,endRow:r-1});for(const Z of M){const{row:ie,cellHeight:me}=Z;ie<r&&r<=ie+me-1&&P.push(Z)}return P}function N(O,r,m){const P=O.parent,M=P.parent,Z=P.index,ie=r-Z,me={},ge=parseInt(O.getAttribute("rowspan"))-ie;ge>1&&(me.rowspan=ge);const Ce=parseInt(O.getAttribute("colspan")||"1");Ce>1&&(me.colspan=Ce);const Me=Z+ie,ot=[...new b(M,{startRow:Z,endRow:Me,includeAllSlots:!0})];let ft,Vt=null;for(const $t of ot){const{row:Ft,column:ti,cell:ci}=$t;ci===O&&ft===void 0&&(ft=ti),ft!==void 0&&ft===ti&&Ft===Me&&(Vt=V(m,$t.getPositionBefore(),me))}return h("rowspan",ie,O,m),Vt}function oe(O,r){const m=[],P=new b(O);for(const M of P){const{column:Z,cellWidth:ie}=M;Z<r&&r<=Z+ie-1&&m.push(M)}return m}function Te(O,r,m,P){const M=m-r,Z={},ie=parseInt(O.getAttribute("colspan"))-M;ie>1&&(Z.colspan=ie);const me=parseInt(O.getAttribute("rowspan")||"1");me>1&&(Z.rowspan=me);const ge=V(P,P.createPositionAfter(O),Z);return h("colspan",M,O,P),ge}function Oe(O,r,m,P,M,Z){const ie=parseInt(O.getAttribute("colspan")||"1"),me=parseInt(O.getAttribute("rowspan")||"1");m+ie-1>M&&h("colspan",M-m+1,O,Z,1),r+me-1>P&&h("rowspan",P-r+1,O,Z,1)}function xe(O,r){const m=r.getColumns(O),P=new Array(m).fill(0);for(const{column:Z}of new b(O))P[Z]++;const M=P.reduce((Z,ie,me)=>ie?Z:[...Z,me],[]);if(M.length>0){const Z=M[M.length-1];return r.removeColumns(O,{at:Z}),!0}return!1}function Re(O,r){const m=[],P=r.getRows(O);for(let M=0;M<P;M++)O.getChild(M).isEmpty&&m.push(M);if(m.length>0){const M=m[m.length-1];return r.removeRows(O,{at:M}),!0}return!1}function lt(O,r){xe(O,r)||Re(O,r)}function rt(O,r){const m=Array.from(new b(O,{startColumn:r.firstColumn,endColumn:r.lastColumn,row:r.lastRow}));if(m.every(({cellHeight:M})=>M===1))return r.lastRow;const P=m[0].cellHeight-1;return r.lastRow+P}function ct(O,r){const m=Array.from(new b(O,{startRow:r.firstRow,endRow:r.lastRow,column:r.lastColumn}));if(m.every(({cellWidth:M})=>M===1))return r.lastColumn;const P=m[0].cellWidth-1;return r.lastColumn+P}class st extends v.Command{constructor(r,m){super(r),this.direction=m.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const r=this._getMergeableCell();this.value=r,this.isEnabled=!!r}execute(){const r=this.editor.model,m=r.document,P=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(m.selection)[0],M=this.value,Z=this.direction;r.change(ie=>{const me=Z=="right"||Z=="down",ge=me?P:M,Ce=me?M:P,Me=Ce.parent;(function(Ft,ti,ci){kt(Ft)||(kt(ti)&&ci.remove(ci.createRangeIn(ti)),ci.move(ci.createRangeIn(Ft),ci.createPositionAt(ti,"end"))),ci.remove(Ft)})(Ce,ge,ie);const ot=this.isHorizontal?"colspan":"rowspan",ft=parseInt(P.getAttribute(ot)||"1"),Vt=parseInt(M.getAttribute(ot)||"1");ie.setAttribute(ot,ft+Vt,ge),ie.setSelection(ie.createRangeIn(ge));const $t=this.editor.plugins.get("TableUtils");lt(Me.findAncestor("table"),$t)})}_getMergeableCell(){const r=this.editor.model.document,m=this.editor.plugins.get("TableUtils"),P=m.getTableCellsContainingSelection(r.selection)[0];if(!P)return;const M=this.isHorizontal?function(me,ge,Ce){const Me=me.parent,ot=Me.parent,ft=ge=="right"?me.nextSibling:me.previousSibling,Vt=(ot.getAttribute("headingColumns")||0)>0;if(!ft)return;const $t=ge=="right"?me:ft,Ft=ge=="right"?ft:me,{column:ti}=Ce.getCellLocation($t),{column:ci}=Ce.getCellLocation(Ft),_i=parseInt($t.getAttribute("colspan")||"1"),Vi=$(Ce,$t),tn=$(Ce,Ft);if(!(Vt&&Vi!=tn))return ti+_i===ci?ft:void 0}(P,this.direction,m):function(me,ge,Ce){const Me=me.parent,ot=Me.parent,ft=ot.getChildIndex(Me);if(ge=="down"&&ft===Ce.getRows(ot)-1||ge=="up"&&ft===0)return null;const Vt=parseInt(me.getAttribute("rowspan")||"1"),$t=ot.getAttribute("headingRows")||0,Ft=ge=="down"&&ft+Vt===$t,ti=ge=="up"&&ft===$t;if($t&&(Ft||ti))return null;const ci=parseInt(me.getAttribute("rowspan")||"1"),_i=ge=="down"?ft+ci:ft,Vi=[...new b(ot,{endRow:_i})],tn=Vi.find(un=>un.cell===me),fn=tn.column,Ln=Vi.find(({row:un,cellHeight:fr,column:to})=>to===fn&&(ge=="down"?un===_i:_i===un+fr));return Ln&&Ln.cell?Ln.cell:null}(P,this.direction,m);if(!M)return;const Z=this.isHorizontal?"rowspan":"colspan",ie=parseInt(P.getAttribute(Z)||"1");return parseInt(M.getAttribute(Z)||"1")===ie?M:void 0}}function kt(O){const r=O.getChild(0);return O.childCount==1&&r.is("element","paragraph")&&r.isEmpty}class pt extends v.Command{refresh(){const r=this.editor.plugins.get("TableUtils"),m=r.getSelectionAffectedTableCells(this.editor.model.document.selection),P=m[0];if(P){const M=P.findAncestor("table"),Z=r.getRows(M)-1,ie=r.getRowIndexes(m),me=ie.first===0&&ie.last===Z;this.isEnabled=!me}else this.isEnabled=!1}execute(){const r=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(r.document.selection),M=m.getRowIndexes(P),Z=P[0],ie=Z.findAncestor("table"),me=m.getCellLocation(Z).column;r.change(ge=>{const Ce=M.last-M.first+1;m.removeRows(ie,{at:M.first,rows:Ce});const Me=function(ot,ft,Vt,$t){const Ft=ot.getChild(Math.min(ft,$t-1));let ti=Ft.getChild(0),ci=0;for(const _i of Ft.getChildren()){if(ci>Vt)return ti;ti=_i,ci+=parseInt(_i.getAttribute("colspan")||"1")}return ti}(ie,M.first,me,m.getRows(ie));ge.setSelection(ge.createPositionAt(Me,0))})}}class Ze extends v.Command{refresh(){const r=this.editor.plugins.get("TableUtils"),m=r.getSelectionAffectedTableCells(this.editor.model.document.selection),P=m[0];if(P){const M=P.findAncestor("table"),Z=r.getColumns(M),{first:ie,last:me}=r.getColumnIndexes(m);this.isEnabled=me-ie<Z-1}else this.isEnabled=!1}execute(){const r=this.editor.plugins.get("TableUtils"),[m,P]=function(ge,Ce){const Me=Ce.getSelectionAffectedTableCells(ge),ot=Me[0],ft=Me.pop(),Vt=[ot,ft];return ot.isBefore(ft)?Vt:Vt.reverse()}(this.editor.model.document.selection,r),M=m.parent.parent,Z=[...new b(M)],ie={first:Z.find(ge=>ge.cell===m).column,last:Z.find(ge=>ge.cell===P).column},me=function(ge,Ce,Me,ot){return parseInt(Me.getAttribute("colspan")||"1")>1?Me:Ce.previousSibling||Me.nextSibling?Me.nextSibling||Ce.previousSibling:ot.first?ge.reverse().find(({column:Vt})=>Vt<ot.first).cell:ge.reverse().find(({column:Vt})=>Vt>ot.last).cell}(Z,m,P,ie);this.editor.model.change(ge=>{const Ce=ie.last-ie.first+1;r.removeColumns(M,{at:ie.first,columns:Ce}),ge.setSelection(ge.createPositionAt(me,0))})}}class mt extends v.Command{refresh(){const r=this.editor.plugins.get("TableUtils"),m=this.editor.model,P=r.getSelectionAffectedTableCells(m.document.selection),M=P.length>0;this.isEnabled=M,this.value=M&&P.every(Z=>this._isInHeading(Z,Z.parent.parent))}execute(r={}){if(r.forceValue===this.value)return;const m=this.editor.plugins.get("TableUtils"),P=this.editor.model,M=m.getSelectionAffectedTableCells(P.document.selection),Z=M[0].findAncestor("table"),{first:ie,last:me}=m.getRowIndexes(M),ge=this.value?ie:me+1,Ce=Z.getAttribute("headingRows")||0;P.change(Me=>{if(ge){const ot=W(Z,ge,ge>Ce?Ce:0);for(const{cell:ft}of ot)N(ft,ge,Me)}h("headingRows",ge,Z,Me,0)})}_isInHeading(r,m){const P=parseInt(m.getAttribute("headingRows")||"0");return!!P&&r.parent.index<P}}class qe extends v.Command{refresh(){const r=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(r.document.selection),M=P.length>0;this.isEnabled=M,this.value=M&&P.every(Z=>$(m,Z))}execute(r={}){if(r.forceValue===this.value)return;const m=this.editor.plugins.get("TableUtils"),P=this.editor.model,M=m.getSelectionAffectedTableCells(P.document.selection),Z=M[0].findAncestor("table"),{first:ie,last:me}=m.getColumnIndexes(M),ge=this.value?ie:me+1;P.change(Ce=>{if(ge){const Me=oe(Z,ge);for(const{cell:ot,column:ft}of Me)Te(ot,ft,ge,Ce)}h("headingColumns",ge,Z,Ce,0)})}}const et=5,Q=2;function de(O,r){return 4e3/we(O,r)}function we(O,r){const m=Be(O,"tbody",r)||Be(O,"thead",r);return Ge(r.editing.view.domConverter.mapViewToDom(m))}function Be(O,r,m){return[...[...m.editing.mapper.toViewElement(O).getChildren()].find(P=>P.is("element","table")).getChildren()].find(P=>P.is("element",r))}function Ge(O){const r=Y.global.window.getComputedStyle(O);return r.boxSizing==="border-box"?parseFloat(r.width)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth):parseFloat(r.width)}function Fe(O){const r=Math.pow(10,Q),m=typeof O=="number"?O:parseFloat(O);return Math.round(m*r)/r}function Ve(O){return O.map(r=>typeof r=="number"?r:parseFloat(r)).filter(r=>!Number.isNaN(r)).reduce((r,m)=>r+m,0)}function ut(O){let r=function(P){const M=P.filter(me=>me==="auto").length;if(M===0)return P.map(me=>Fe(me));const Z=Ve(P),ie=Math.max((100-Z)/M,et);return P.map(me=>me==="auto"?ie:me).map(me=>Fe(me))}(O.map(P=>P==="auto"?P:parseFloat(P.replace("%",""))));const m=Ve(r);return m!==100&&(r=r.map(P=>Fe(100*P/m)).map((P,M,Z)=>M!==Z.length-1?P:Fe(P+100-Ve(Z)))),r.map(P=>P+"%")}function St(O){const r=Y.global.window.getComputedStyle(O);return r.boxSizing==="border-box"?parseInt(r.width):parseFloat(r.width)+parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderWidth)}function Lt(O,r,m,P){for(let M=0;M<Math.max(m.length,O.length);M++){const Z=O[M],ie=m[M];ie?Z?P.setAttribute("columnWidth",ie,Z):P.appendElement("tableColumn",{columnWidth:ie},r):P.remove(Z)}}function Qt(O){if(O.is("element","tableColumnGroup"))return O;const r=O.getChildren();return Array.from(r).find(m=>m.is("element","tableColumnGroup"))}function yt(O){const r=Qt(O);return r?Array.from(r.getChildren()):[]}class Tt extends v.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(r){const m=r.parent,P=m.parent,M=P.getChildIndex(m),Z=new b(P,{row:M});for(const{cell:ie,row:me,column:ge}of Z)if(ie===r)return{row:me,column:ge}}createTable(r,m){const P=r.createElement("table"),M=m.rows||2,Z=m.columns||2;return mi(r,P,0,M,Z),m.headingRows&&h("headingRows",Math.min(m.headingRows,M),P,r,0),m.headingColumns&&h("headingColumns",Math.min(m.headingColumns,Z),P,r,0),P}insertRows(r,m={}){const P=this.editor.model,M=m.at||0,Z=m.rows||1,ie=m.copyStructureFromAbove!==void 0,me=m.copyStructureFromAbove?M-1:M,ge=this.getRows(r),Ce=this.getColumns(r);if(M>ge)throw new Y.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:m});P.change(Me=>{const ot=r.getAttribute("headingRows")||0;if(ot>M&&h("headingRows",ot+Z,r,Me,0),!ie&&(M===0||M===ge))return void mi(Me,r,M,Z,Ce);const ft=ie?Math.max(M,me):M,Vt=new b(r,{endRow:ft}),$t=new Array(Ce).fill(1);for(const{row:Ft,column:ti,cellHeight:ci,cellWidth:_i,cell:Vi}of Vt){const tn=Ft+ci-1,fn=Ft<=me&&me<=tn;Ft<M&&M<=tn?(Me.setAttribute("rowspan",ci+Z,Vi),$t[ti]=-_i):ie&&fn&&($t[ti]=_i)}for(let Ft=0;Ft<Z;Ft++){const ti=Me.createElement("tableRow");Me.insert(ti,r,M);for(let ci=0;ci<$t.length;ci++){const _i=$t[ci],Vi=Me.createPositionAt(ti,"end");_i>0&&V(Me,Vi,_i>1?{colspan:_i}:void 0),ci+=Math.abs(_i)-1}}})}insertColumns(r,m={}){const P=this.editor.model,M=m.at||0,Z=m.columns||1;P.change(ie=>{const me=r.getAttribute("headingColumns");M<me&&ie.setAttribute("headingColumns",me+Z,r);const ge=this.getColumns(r);if(M===0||ge===M){for(const Me of r.getChildren())Me.is("element","tableRow")&&pi(Z,ie,ie.createPositionAt(Me,M?"end":0));return}const Ce=new b(r,{column:M,includeAllSlots:!0});for(const Me of Ce){const{row:ot,cell:ft,cellAnchorColumn:Vt,cellAnchorRow:$t,cellWidth:Ft,cellHeight:ti}=Me;if(Vt<M){ie.setAttribute("colspan",Ft+Z,ft);const ci=$t+ti-1;for(let _i=ot;_i<=ci;_i++)Ce.skipRow(_i)}else pi(Z,ie,Me.getPositionBefore())}})}removeRows(r,m){const P=this.editor.model,M=m.rows||1,Z=this.getRows(r),ie=m.at,me=ie+M-1;if(me>Z-1)throw new Y.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:r,options:m});P.change(ge=>{const Ce={first:ie,last:me},{cellsToMove:Me,cellsToTrim:ot}=function(ft,{first:Vt,last:$t}){const Ft=new Map,ti=[];for(const{row:ci,column:_i,cellHeight:Vi,cell:tn}of new b(ft,{endRow:$t})){const fn=ci+Vi-1;if(ci>=Vt&&ci<=$t&&fn>$t){const Ln=Vi-($t-ci+1);Ft.set(_i,{cell:tn,rowspan:Ln})}if(ci<Vt&&fn>=Vt){let Ln;Ln=fn>=$t?$t-Vt+1:fn-Vt+1,ti.push({cell:tn,rowspan:Vi-Ln})}}return{cellsToMove:Ft,cellsToTrim:ti}}(r,Ce);Me.size&&function(ft,Vt,$t,Ft){const ti=new b(ft,{includeAllSlots:!0,row:Vt}),ci=[...ti],_i=ft.getChild(Vt);let Vi;for(const{column:tn,cell:fn,isAnchor:Ln}of ci)if($t.has(tn)){const{cell:un,rowspan:fr}=$t.get(tn),to=Vi?Ft.createPositionAfter(Vi):Ft.createPositionAt(_i,0);Ft.move(Ft.createRangeOn(un),to),h("rowspan",fr,un,Ft),Vi=un}else Ln&&(Vi=fn)}(r,me+1,Me,ge);for(let ft=me;ft>=ie;ft--)ge.remove(r.getChild(ft));for(const{rowspan:ft,cell:Vt}of ot)h("rowspan",ft,Vt,ge);(function(ft,{first:Vt,last:$t},Ft){const ti=ft.getAttribute("headingRows")||0;Vt<ti&&h("headingRows",$t<ti?ti-($t-Vt+1):Vt,ft,Ft,0)})(r,Ce,ge),xe(r,this)||Re(r,this)})}removeColumns(r,m){const P=this.editor.model,M=m.at,Z=m.columns||1,ie=m.at+Z-1;P.change(me=>{(function(Ce,Me,ot){const ft=Ce.getAttribute("headingColumns")||0;if(ft&&Me.first<ft){const Vt=Math.min(ft-1,Me.last)-Me.first+1;ot.setAttribute("headingColumns",ft-Vt,Ce)}})(r,{first:M,last:ie},me);const ge=yt(r);for(let Ce=ie;Ce>=M;Ce--){for(const{cell:Me,column:ot,cellWidth:ft}of[...new b(r)])ot<=Ce&&ft>1&&ot+ft>Ce?h("colspan",ft-1,Me,me):ot===Ce&&me.remove(Me);if(ge[Ce]){const Me=Ce===0?ge[1]:ge[Ce-1],ot=parseFloat(ge[Ce].getAttribute("columnWidth")),ft=parseFloat(Me.getAttribute("columnWidth"));me.remove(ge[Ce]),me.setAttribute("columnWidth",ot+ft+"%",Me)}}Re(r,this)||xe(r,this)})}splitCellVertically(r,m=2){const P=this.editor.model,M=r.parent.parent,Z=parseInt(r.getAttribute("rowspan")||"1"),ie=parseInt(r.getAttribute("colspan")||"1");P.change(me=>{if(ie>1){const{newCellsSpan:ge,updatedSpan:Ce}=Li(ie,m);h("colspan",Ce,r,me);const Me={};ge>1&&(Me.colspan=ge),Z>1&&(Me.rowspan=Z),pi(ie>m?m-1:ie-1,me,me.createPositionAfter(r),Me)}if(ie<m){const ge=m-ie,Ce=[...new b(M)],{column:Me}=Ce.find(({cell:$t})=>$t===r),ot=Ce.filter(({cell:$t,cellWidth:Ft,column:ti})=>$t!==r&&ti===Me||ti<Me&&ti+Ft>Me);for(const{cell:$t,cellWidth:Ft}of ot)me.setAttribute("colspan",Ft+ge,$t);const ft={};Z>1&&(ft.rowspan=Z),pi(ge,me,me.createPositionAfter(r),ft);const Vt=M.getAttribute("headingColumns")||0;Vt>Me&&h("headingColumns",Vt+ge,M,me)}})}splitCellHorizontally(r,m=2){const P=this.editor.model,M=r.parent,Z=M.parent,ie=Z.getChildIndex(M),me=parseInt(r.getAttribute("rowspan")||"1"),ge=parseInt(r.getAttribute("colspan")||"1");P.change(Ce=>{if(me>1){const Me=[...new b(Z,{startRow:ie,endRow:ie+me-1,includeAllSlots:!0})],{newCellsSpan:ot,updatedSpan:ft}=Li(me,m);h("rowspan",ft,r,Ce);const{column:Vt}=Me.find(({cell:Ft})=>Ft===r),$t={};ot>1&&($t.rowspan=ot),ge>1&&($t.colspan=ge);for(const Ft of Me){const{column:ti,row:ci}=Ft;ci>=ie+ft&&ti===Vt&&(ci+ie+ft)%ot==0&&pi(1,Ce,Ft.getPositionBefore(),$t)}}if(me<m){const Me=m-me,ot=[...new b(Z,{startRow:0,endRow:ie})];for(const{cell:$t,cellHeight:Ft,row:ti}of ot)if($t!==r&&ti+Ft>ie){const ci=Ft+Me;Ce.setAttribute("rowspan",ci,$t)}const ft={};ge>1&&(ft.colspan=ge),mi(Ce,Z,ie+1,Me,1,ft);const Vt=Z.getAttribute("headingRows")||0;Vt>ie&&h("headingRows",Vt+Me,Z,Ce)}})}getColumns(r){return[...r.getChild(0).getChildren()].reduce((m,P)=>m+parseInt(P.getAttribute("colspan")||"1"),0)}getRows(r){return Array.from(r.getChildren()).reduce((m,P)=>P.is("element","tableRow")?m+1:m,0)}createTableWalker(r,m={}){return new b(r,m)}getSelectedTableCells(r){const m=[];for(const P of this.sortRanges(r.getRanges())){const M=P.getContainedElement();M&&M.is("element","tableCell")&&m.push(M)}return m}getTableCellsContainingSelection(r){const m=[];for(const P of r.getRanges()){const M=P.start.findAncestor("tableCell");M&&m.push(M)}return m}getSelectionAffectedTableCells(r){const m=this.getSelectedTableCells(r);return m.length?m:this.getTableCellsContainingSelection(r)}getRowIndexes(r){const m=r.map(P=>P.parent.index);return this._getFirstLastIndexesObject(m)}getColumnIndexes(r){const m=r[0].findAncestor("table"),P=[...new b(m)].filter(M=>r.includes(M.cell)).map(M=>M.column);return this._getFirstLastIndexesObject(P)}isSelectionRectangular(r){if(r.length<2||!this._areCellInTheSameTableSection(r))return!1;const m=new Set,P=new Set;let M=0;for(const ie of r){const{row:me,column:ge}=this.getCellLocation(ie),Ce=parseInt(ie.getAttribute("rowspan"))||1,Me=parseInt(ie.getAttribute("colspan"))||1;m.add(me),P.add(ge),Ce>1&&m.add(me+Ce-1),Me>1&&P.add(ge+Me-1),M+=Ce*Me}return function(ie,me){const ge=Array.from(ie.values()),Ce=Array.from(me.values()),Me=Math.max(...ge),ot=Math.min(...ge),ft=Math.max(...Ce),Vt=Math.min(...Ce);return(Me-ot+1)*(ft-Vt+1)}(m,P)==M}sortRanges(r){return Array.from(r).sort(Ei)}_getFirstLastIndexesObject(r){const m=r.sort((P,M)=>P-M);return{first:m[0],last:m[m.length-1]}}_areCellInTheSameTableSection(r){const m=r[0].findAncestor("table"),P=this.getRowIndexes(r),M=parseInt(m.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(P,M))return!1;const Z=this.getColumnIndexes(r),ie=parseInt(m.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(Z,ie)}_areIndexesInSameSection({first:r,last:m},P){return r<P==m<P}}function mi(O,r,m,P,M,Z={}){for(let ie=0;ie<P;ie++){const me=O.createElement("tableRow");O.insert(me,r,m),pi(M,O,O.createPositionAt(me,"end"),Z)}}function pi(O,r,m,P={}){for(let M=0;M<O;M++)V(r,m,P)}function Li(O,r){if(O<r)return{newCellsSpan:1,updatedSpan:1};const m=Math.floor(O/r);return{newCellsSpan:m,updatedSpan:O-m*r+m}}function Ei(O,r){const m=O.start,P=r.start;return m.isBefore(P)?-1:1}class Ni extends v.Command{refresh(){const r=this.editor.plugins.get(Tt),m=r.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=r.isSelectionRectangular(m)}execute(){const r=this.editor.model,m=this.editor.plugins.get(Tt);r.change(P=>{const M=m.getSelectedTableCells(r.document.selection),Z=M.shift(),{mergeWidth:ie,mergeHeight:me}=function(ge,Ce,Me){let ot=0,ft=0;for(const ci of Ce){const{row:_i,column:Vi}=Me.getCellLocation(ci);ot=nt(ci,Vi,ot,"colspan"),ft=nt(ci,_i,ft,"rowspan")}const{row:Vt,column:$t}=Me.getCellLocation(ge),Ft=ot-$t,ti=ft-Vt;return{mergeWidth:Ft,mergeHeight:ti}}(Z,M,m);h("colspan",ie,Z,P),h("rowspan",me,Z,P);for(const ge of M)xi(ge,Z,P);lt(Z.findAncestor("table"),m),P.setSelection(Z,"in")})}}function xi(O,r,m){Bi(O)||(Bi(r)&&m.remove(m.createRangeIn(r)),m.move(m.createRangeIn(O),m.createPositionAt(r,"end"))),m.remove(O)}function Bi(O){const r=O.getChild(0);return O.childCount==1&&r.is("element","paragraph")&&r.isEmpty}function nt(O,r,m,P){const M=parseInt(O.getAttribute(P)||"1");return Math.max(m,r+M)}class ue extends v.Command{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(r.document.selection),M=m.getRowIndexes(P),Z=P[0].findAncestor("table"),ie=[];for(let me=M.first;me<=M.last;me++)for(const ge of Z.getChild(me).getChildren())ie.push(r.createRangeOn(ge));r.change(me=>{me.setSelection(ie)})}}class _e extends v.Command{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.plugins.get("TableUtils"),m=this.editor.model,P=r.getSelectionAffectedTableCells(m.document.selection),M=P[0],Z=P.pop(),ie=M.findAncestor("table"),me=r.getCellLocation(M),ge=r.getCellLocation(Z),Ce=Math.min(me.column,ge.column),Me=Math.max(me.column,ge.column),ot=[];for(const ft of new b(ie,{startColumn:Ce,endColumn:Me}))ot.push(m.createRangeOn(ft.cell));m.change(ft=>{ft.setSelection(ot)})}}function Ie(O){O.document.registerPostFixer(r=>function(m,P){const M=P.document.differ.getChanges();let Z=!1;const ie=new Set;for(const me of M){let ge=null;me.type=="insert"&&me.name=="table"&&(ge=me.position.nodeAfter),me.type!="insert"&&me.type!="remove"||me.name!="tableRow"&&me.name!="tableCell"||(ge=me.position.findAncestor("table")),bt(me)&&(ge=me.range.start.findAncestor("table")),ge&&!ie.has(ge)&&(Z=We(ge,m)||Z,Z=tt(ge,m)||Z,ie.add(ge))}return Z}(r,O))}function We(O,r){let m=!1;const P=function(M){const Z=parseInt(M.getAttribute("headingRows")||"0"),ie=Array.from(M.getChildren()).reduce((ge,Ce)=>Ce.is("element","tableRow")?ge+1:ge,0),me=[];for(const{row:ge,cell:Ce,cellHeight:Me}of new b(M)){if(Me<2)continue;const ot=ge<Z?Z:ie;if(ge+Me>ot){const ft=ot-ge;me.push({cell:Ce,rowspan:ft})}}return me}(O);if(P.length){m=!0;for(const M of P)h("rowspan",M.rowspan,M.cell,r,1)}return m}function tt(O,r){let m=!1;const P=function(me){const ge=new Array(me.childCount).fill(0);for(const{rowIndex:Ce}of new b(me,{includeAllSlots:!0}))ge[Ce]++;return ge}(O),M=[];for(const[me,ge]of P.entries())!ge&&O.getChild(me).is("element","tableRow")&&M.push(me);if(M.length){m=!0;for(const me of M.reverse())r.remove(O.getChild(me)),P.splice(me,1)}const Z=P.filter((me,ge)=>O.getChild(ge).is("element","tableRow")),ie=Z[0];if(!Z.every(me=>me===ie)){const me=Z.reduce((ge,Ce)=>Ce>ge?Ce:ge,0);for(const[ge,Ce]of Z.entries()){const Me=me-Ce;if(Me){for(let ot=0;ot<Me;ot++)V(r,r.createPositionAt(O.getChild(ge),"end"));m=!0}}}return m}function bt(O){if(O.type!=="attribute")return!1;const r=O.attributeKey;return r==="headingRows"||r==="colspan"||r==="rowspan"}function At(O){O.document.registerPostFixer(r=>function(m,P){const M=P.document.differ.getChanges();let Z=!1;for(const ie of M)ie.type=="insert"&&ie.name=="table"&&(Z=xt(ie.position.nodeAfter,m)||Z),ie.type=="insert"&&ie.name=="tableRow"&&(Z=Kt(ie.position.nodeAfter,m)||Z),ie.type=="insert"&&ie.name=="tableCell"&&(Z=ni(ie.position.nodeAfter,m)||Z),ie.type!="remove"&&ie.type!="insert"||!ei(ie)||(Z=ni(ie.position.parent,m)||Z);return Z}(r,O))}function xt(O,r){let m=!1;for(const P of O.getChildren())P.is("element","tableRow")&&(m=Kt(P,r)||m);return m}function Kt(O,r){let m=!1;for(const P of O.getChildren())m=ni(P,r)||m;return m}function ni(O,r){if(O.childCount==0)return r.insertElement("paragraph",O),!0;const m=Array.from(O.getChildren()).filter(P=>P.is("$text"));for(const P of m)r.wrap(r.createRangeOn(P),"paragraph");return!!m.length}function ei(O){return!!O.position.parent.is("element","tableCell")&&(O.type=="insert"&&O.name=="$text"||O.type=="remove")}function li(O,r){if(!O.is("element","paragraph"))return!1;const m=r.toViewElement(O);return!!m&&S(O)!==m.is("element","span")}var Ci=j(62),yi=j.n(Ci),Ri=j(51),qi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ri.Z,qi),Ri.Z.locals;class Ui extends v.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[Tt]}constructor(r){super(r),this._additionalSlots=[]}init(){const r=this.editor,m=r.model,P=m.schema,M=r.conversion,Z=r.plugins.get(Tt);P.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),P.register("tableRow",{allowIn:"table",isLimit:!0}),P.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),M.for("upcast").add(ie=>{ie.on("element:figure",(me,ge,Ce)=>{if(!Ce.consumable.test(ge.viewItem,{name:!0,classes:"table"}))return;const Me=function(Vt){for(const $t of Vt.getChildren())if($t.is("element","table"))return $t}(ge.viewItem);if(!Me||!Ce.consumable.test(Me,{name:!0}))return;Ce.consumable.consume(ge.viewItem,{name:!0,classes:"table"});const ot=Ce.convertItem(Me,ge.modelCursor),ft=(0,Y.first)(ot.modelRange.getItems());ft?(Ce.convertChildren(ge.viewItem,Ce.writer.createPositionAt(ft,"end")),Ce.updateConversionResult(ft,ge)):Ce.consumable.revert(ge.viewItem,{name:!0,classes:"table"})})}),M.for("upcast").add(le()),M.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:w(Z,{asWidget:!0,additionalSlots:this._additionalSlots})}),M.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:w(Z,{additionalSlots:this._additionalSlots})}),M.for("upcast").elementToElement({model:"tableRow",view:"tr"}),M.for("upcast").add(ie=>{ie.on("element:tr",(me,ge)=>{ge.viewItem.isEmpty&&ge.modelCursor.index==0&&me.stop()},{priority:"high"})}),M.for("downcast").elementToElement({model:"tableRow",view:(ie,{writer:me})=>ie.isEmpty?me.createEmptyElement("tr"):me.createContainerElement("tr")}),M.for("upcast").elementToElement({model:"tableCell",view:"td"}),M.for("upcast").elementToElement({model:"tableCell",view:"th"}),M.for("upcast").add(q("td")),M.for("upcast").add(q("th")),M.for("editingDowncast").elementToElement({model:"tableCell",view:E({asWidget:!0})}),M.for("dataDowncast").elementToElement({model:"tableCell",view:E()}),M.for("editingDowncast").elementToElement({model:"paragraph",view:C({asWidget:!0}),converterPriority:"high"}),M.for("dataDowncast").elementToElement({model:"paragraph",view:C(),converterPriority:"high"}),M.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),M.for("upcast").attributeToAttribute({model:{key:"colspan",value:ji("colspan")},view:"colspan"}),M.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),M.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ji("rowspan")},view:"rowspan"}),r.config.define("table.defaultHeadings.rows",0),r.config.define("table.defaultHeadings.columns",0),r.commands.add("insertTable",new ne(r)),r.commands.add("insertTableRowAbove",new U(r,{order:"above"})),r.commands.add("insertTableRowBelow",new U(r,{order:"below"})),r.commands.add("insertTableColumnLeft",new D(r,{order:"left"})),r.commands.add("insertTableColumnRight",new D(r,{order:"right"})),r.commands.add("removeTableRow",new pt(r)),r.commands.add("removeTableColumn",new Ze(r)),r.commands.add("splitTableCellVertically",new f(r,{direction:"vertically"})),r.commands.add("splitTableCellHorizontally",new f(r,{direction:"horizontally"})),r.commands.add("mergeTableCells",new Ni(r)),r.commands.add("mergeTableCellRight",new st(r,{direction:"right"})),r.commands.add("mergeTableCellLeft",new st(r,{direction:"left"})),r.commands.add("mergeTableCellDown",new st(r,{direction:"down"})),r.commands.add("mergeTableCellUp",new st(r,{direction:"up"})),r.commands.add("setTableColumnHeader",new qe(r)),r.commands.add("setTableRowHeader",new mt(r)),r.commands.add("selectTableRow",new ue(r)),r.commands.add("selectTableColumn",new _e(r)),Ie(m),At(m),this.listenTo(m.document,"change:data",()=>{(function(ie,me){const ge=ie.document.differ;for(const Ce of ge.getChanges()){let Me,ot=!1;if(Ce.type=="attribute"){const Ft=Ce.range.start.nodeAfter;if(!Ft||!Ft.is("element","table")||Ce.attributeKey!="headingRows"&&Ce.attributeKey!="headingColumns")continue;Me=Ft,ot=Ce.attributeKey=="headingRows"}else Ce.name!="tableRow"&&Ce.name!="tableCell"||(Me=Ce.position.findAncestor("table"),ot=Ce.name=="tableRow");if(!Me)continue;const ft=Me.getAttribute("headingRows")||0,Vt=Me.getAttribute("headingColumns")||0,$t=new b(Me);for(const Ft of $t){const ti=Ft.row<ft||Ft.column<Vt?"th":"td",ci=me.mapper.toViewElement(Ft.cell);ci&&ci.is("element")&&ci.name!=ti&&me.reconvertItem(ot?Ft.cell.parent:Ft.cell)}}})(m,r.editing),function(ie,me){const ge=ie.document.differ,Ce=new Set;for(const Me of ge.getChanges()){const ot=Me.type=="attribute"?Me.range.start.parent:Me.position.parent;ot.is("element","tableCell")&&Ce.add(ot)}for(const Me of Ce.values()){const ot=Array.from(Me.getChildren()).filter(ft=>li(ft,me.mapper));for(const ft of ot)me.reconvertItem(ft)}}(m,r.editing)})}registerAdditionalSlot(r){this._additionalSlots.push(r)}}function ji(O){return r=>{const m=parseInt(r.getAttribute(O));return Number.isNaN(m)||m<=0?null:m}}var he=j(273),B=j(430),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(B.Z,ee),B.Z.locals;class se extends he.View{constructor(r){super(r);const m=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Y.KeystrokeHandler,this.focusTracker=new Y.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(P,M)=>`${M} \xD7 ${P}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":m.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:m.to("label")}]}],on:{mousedown:m.to(P=>{P.preventDefault()}),click:m.to(()=>{this.fire("execute")})}}),this.on("boxover",(P,M)=>{const{row:Z,column:ie}=M.target.dataset;this.items.get(10*(parseInt(Z,10)-1)+(parseInt(ie,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(P,M,Z)=>{if(!Z)return;const{row:ie,column:me}=Z.dataset;this.set({rows:parseInt(ie),columns:parseInt(me)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,he.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const r of this.items)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const r=this.rows,m=this.columns;this.items.map((P,M)=>{const Z=Math.floor(M/10)<r&&M%10<m;P.set("isOn",Z)})}_createGridButton(r,m,P,M){const Z=new he.ButtonView(r);return Z.set({label:M,class:"ck-insert-table-dropdown-grid-box"}),Z.extendTemplate({attributes:{"data-row":m,"data-column":P}}),Z}_createGridCollection(){const r=[];for(let m=0;m<100;m++){const P=Math.floor(m/10),M=m%10,Z=`${P+1} \xD7 ${M+1}`;r.push(this._createGridButton(this.locale,P+1,M+1,Z))}return this.createCollection(r)}}class Pe extends v.Plugin{static get pluginName(){return"TableUI"}init(){const r=this.editor,m=this.editor.t,P=r.locale.contentLanguageDirection==="ltr";r.ui.componentFactory.add("insertTable",M=>{const Z=r.commands.get("insertTable"),ie=(0,he.createDropdown)(M);let me;return ie.bind("isEnabled").to(Z),ie.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:m("Insert table"),tooltip:!0}),ie.on("change:isOpen",()=>{me||(me=new se(M),ie.panelView.children.add(me),me.delegate("execute").to(ie),ie.on("execute",()=>{r.execute("insertTable",{rows:me.rows,columns:me.columns}),r.editing.view.focus()}))}),ie}),r.ui.componentFactory.add("tableColumn",M=>{const Z=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:m("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:P?"insertTableColumnLeft":"insertTableColumnRight",label:m("Insert column left")}},{type:"button",model:{commandName:P?"insertTableColumnRight":"insertTableColumnLeft",label:m("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:m("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:m("Select column")}}];return this._prepareDropdown(m("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',Z,M)}),r.ui.componentFactory.add("tableRow",M=>{const Z=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:m("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:m("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:m("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:m("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:m("Select row")}}];return this._prepareDropdown(m("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',Z,M)}),r.ui.componentFactory.add("mergeTableCells",M=>{const Z=[{type:"button",model:{commandName:"mergeTableCellUp",label:m("Merge cell up")}},{type:"button",model:{commandName:P?"mergeTableCellRight":"mergeTableCellLeft",label:m("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:m("Merge cell down")}},{type:"button",model:{commandName:P?"mergeTableCellLeft":"mergeTableCellRight",label:m("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:m("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:m("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(m("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',Z,M)})}_prepareDropdown(r,m,P,M){const Z=this.editor,ie=(0,he.createDropdown)(M),me=this._fillDropdownWithListOptions(ie,P);return ie.buttonView.set({label:r,icon:m,tooltip:!0}),ie.bind("isEnabled").toMany(me,"isEnabled",(...ge)=>ge.some(Ce=>Ce)),this.listenTo(ie,"execute",ge=>{Z.execute(ge.source.commandName),ge.source instanceof he.SwitchButtonView||Z.editing.view.focus()}),ie}_prepareMergeSplitButtonDropdown(r,m,P,M){const Z=this.editor,ie=(0,he.createDropdown)(M,he.SplitButtonView),me="mergeTableCells",ge=Z.commands.get(me),Ce=this._fillDropdownWithListOptions(ie,P);return ie.buttonView.set({label:r,icon:m,tooltip:!0,isEnabled:!0}),ie.bind("isEnabled").toMany([ge,...Ce],"isEnabled",(...Me)=>Me.some(ot=>ot)),this.listenTo(ie.buttonView,"execute",()=>{Z.execute(me),Z.editing.view.focus()}),this.listenTo(ie,"execute",Me=>{Z.execute(Me.source.commandName),Z.editing.view.focus()}),ie}_fillDropdownWithListOptions(r,m){const P=this.editor,M=[],Z=new Y.Collection;for(const ie of m)Ct(ie,P,M,Z);return(0,he.addListToDropdown)(r,Z),M}}function Ct(O,r,m,P){if(O.type==="button"||O.type==="switchbutton"){const M=O.model=new he.Model(O.model),{commandName:Z,bindIsOn:ie}=O.model,me=r.commands.get(Z);m.push(me),M.set({commandName:Z}),M.bind("isEnabled").to(me),ie&&M.bind("isOn").to(me,"value"),M.set({withText:!0})}P.add(O)}var Ht=j(522),wt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ht.Z,wt),Ht.Z.locals;class zt extends v.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[Tt,Tt]}init(){const r=this.editor,m=r.model,P=r.editing.view;this.listenTo(m,"deleteContent",(M,Z)=>this._handleDeleteContent(M,Z),{priority:"high"}),this.listenTo(P.document,"insertText",(M,Z)=>this._handleInsertTextEvent(M,Z),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const r=this.editor.plugins.get(Tt),m=this.editor.model.document.selection,P=r.getSelectedTableCells(m);return P.length==0?null:P}getSelectionAsFragment(){const r=this.editor.plugins.get(Tt),m=this.getSelectedTableCells();return m?this.editor.model.change(P=>{const M=P.createDocumentFragment(),{first:Z,last:ie}=r.getColumnIndexes(m),{first:me,last:ge}=r.getRowIndexes(m),Ce=m[0].findAncestor("table");let Me=ge,ot=ie;if(r.isSelectionRectangular(m)){const Vt={firstColumn:Z,lastColumn:ie,firstRow:me,lastRow:ge};Me=rt(Ce,Vt),ot=ct(Ce,Vt)}const ft=R(Ce,{startRow:me,startColumn:Z,endRow:Me,endColumn:ot},P);return P.insert(ft,M,0),M}):null}setCellSelection(r,m){const P=this._getCellsToSelect(r,m);this.editor.model.change(M=>{M.setSelection(P.cells.map(Z=>M.createRangeOn(Z)),{backward:P.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const r=this.editor.model.document.selection,m=(0,Y.first)(r.getRanges()).getContainedElement();return m&&m.is("element","tableCell")?m:null}_defineSelectionConverter(){const r=this.editor,m=new Set;r.conversion.for("editingDowncast").add(P=>P.on("selection",(M,Z,ie)=>{const me=ie.writer;(function(Me){for(const ot of m)Me.removeClass("ck-editor__editable_selected",ot);m.clear()})(me);const ge=this.getSelectedTableCells();if(!ge)return;for(const Me of ge){const ot=ie.mapper.toViewElement(Me);me.addClass("ck-editor__editable_selected",ot),m.add(ot)}const Ce=ie.mapper.toViewElement(ge[ge.length-1]);me.setSelection(Ce,0)},{priority:"lowest"}))}_enablePluginDisabling(){const r=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const m=this.getSelectedTableCells();if(!m)return;r.model.change(P=>{const M=P.createPositionAt(m[0],0),Z=r.model.schema.getNearestSelectionRange(M);P.setSelection(Z)})}})}_handleDeleteContent(r,m){const P=this.editor.plugins.get(Tt),M=m[0],Z=m[1],ie=this.editor.model,me=!Z||Z.direction=="backward",ge=P.getSelectedTableCells(M);ge.length&&(r.stop(),ie.change(Ce=>{const Me=ge[me?ge.length-1:0];ie.change(ft=>{for(const Vt of ge)ie.deleteContent(ft.createSelection(Vt,"in"))});const ot=ie.schema.getNearestSelectionRange(Ce.createPositionAt(Me,0));M.is("documentSelection")?Ce.setSelection(ot):M.setTo(ot)}))}_handleInsertTextEvent(r,m){const P=this.editor,M=this.getSelectedTableCells();if(!M)return;const Z=P.editing.view,ie=P.editing.mapper,me=M.map(ge=>Z.createRangeOn(ie.toViewElement(ge)));m.selection=Z.createSelection(me)}_getCellsToSelect(r,m){const P=this.editor.plugins.get("TableUtils"),M=P.getCellLocation(r),Z=P.getCellLocation(m),ie=Math.min(M.row,Z.row),me=Math.max(M.row,Z.row),ge=Math.min(M.column,Z.column),Ce=Math.max(M.column,Z.column),Me=new Array(me-ie+1).fill(null).map(()=>[]),ot={startRow:ie,endRow:me,startColumn:ge,endColumn:Ce};for(const{row:$t,cell:Ft}of new b(r.findAncestor("table"),ot))Me[$t-ie].push(Ft);const ft=Z.row<M.row,Vt=Z.column<M.column;return ft&&Me.reverse(),Vt&&Me.forEach($t=>$t.reverse()),{cells:Me.flat(),backward:ft||Vt}}}class fi extends v.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[zt,Tt]}init(){const r=this.editor,m=r.editing.view.document;this.listenTo(m,"copy",(P,M)=>this._onCopyCut(P,M)),this.listenTo(m,"cut",(P,M)=>this._onCopyCut(P,M)),this.listenTo(r.model,"insertContent",(P,[M,Z])=>this._onInsertContent(P,M,Z),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(r,m){const P=this.editor.plugins.get(zt);if(!P.getSelectedTableCells()||r.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;m.preventDefault(),r.stop();const M=this.editor.data,Z=this.editor.editing.view.document,ie=M.toView(P.getSelectionAsFragment());Z.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:ie,method:r.name})}_onInsertContent(r,m,P){if(P&&!P.is("documentSelection"))return;const M=this.editor.model,Z=this.editor.plugins.get(Tt);let ie=this.getTableIfOnlyTableInContent(m,M);if(!ie)return;const me=Z.getSelectionAffectedTableCells(M.document.selection);me.length?(r.stop(),M.change(ge=>{const Ce={width:Z.getColumns(ie),height:Z.getRows(ie)},Me=function(ti,ci,_i,Vi){const tn=ti[0].findAncestor("table"),fn=Vi.getColumnIndexes(ti),Ln=Vi.getRowIndexes(ti),un={firstColumn:fn.first,lastColumn:fn.last,firstRow:Ln.first,lastRow:Ln.last},fr=ti.length===1;return fr&&(un.lastRow+=ci.height-1,un.lastColumn+=ci.width-1,function(to,yr,Bo,Do){const rr=Do.getColumns(to),sr=Do.getRows(to);Bo>rr&&Do.insertColumns(to,{at:rr,columns:Bo-rr}),yr>sr&&Do.insertRows(to,{at:sr,rows:yr-sr})}(tn,un.lastRow+1,un.lastColumn+1,Vi)),fr||!Vi.isSelectionRectangular(ti)?function(to,yr,Bo){const{firstRow:Do,lastRow:rr,firstColumn:sr,lastColumn:Ps}=yr,Xr={first:Do,last:rr},Os={first:sr,last:Ps};Oi(to,sr,Xr,Bo),Oi(to,Ps+1,Xr,Bo),gi(to,Do,Os,Bo),gi(to,rr+1,Os,Bo,Do)}(tn,un,_i):(un.lastRow=rt(tn,un),un.lastColumn=ct(tn,un)),un}(me,Ce,ge,Z),ot=Me.lastRow-Me.firstRow+1,ft=Me.lastColumn-Me.firstColumn+1,Vt={startRow:0,startColumn:0,endRow:Math.min(ot,Ce.height)-1,endColumn:Math.min(ft,Ce.width)-1};ie=R(ie,Vt,ge);const $t=me[0].findAncestor("table"),Ft=this._replaceSelectedCellsWithPasted(ie,Ce,$t,Me,ge);if(this.editor.plugins.get("TableSelection").isEnabled){const ti=Z.sortRanges(Ft.map(ci=>ge.createRangeOn(ci)));ge.setSelection(ti)}else ge.setSelection(Ft[0],0)})):lt(ie,Z)}_replaceSelectedCellsWithPasted(r,m,P,M,Z){const{width:ie,height:me}=m,ge=function(ti,ci,_i){const Vi=new Array(_i).fill(null).map(()=>new Array(ci).fill(null));for(const{column:tn,row:fn,cell:Ln}of new b(ti))Vi[fn][tn]=Ln;return Vi}(r,ie,me),Ce=[...new b(P,{startRow:M.firstRow,endRow:M.lastRow,startColumn:M.firstColumn,endColumn:M.lastColumn,includeAllSlots:!0})],Me=[];let ot;for(const ti of Ce){const{row:ci,column:_i}=ti;_i===M.firstColumn&&(ot=ti.getPositionBefore());const Vi=ci-M.firstRow,tn=_i-M.firstColumn,fn=ge[Vi%me][tn%ie],Ln=fn?Z.cloneElement(fn):null,un=this._replaceTableSlotCell(ti,Ln,ot,Z);un&&(Oe(un,ci,_i,M.lastRow,M.lastColumn,Z),Me.push(un),ot=Z.createPositionAfter(un))}const ft=parseInt(P.getAttribute("headingRows")||"0"),Vt=parseInt(P.getAttribute("headingColumns")||"0"),$t=M.firstRow<ft&&ft<=M.lastRow,Ft=M.firstColumn<Vt&&Vt<=M.lastColumn;if($t){const ti=gi(P,ft,{first:M.firstColumn,last:M.lastColumn},Z,M.firstRow);Me.push(...ti)}if(Ft){const ti=Oi(P,Vt,{first:M.firstRow,last:M.lastRow},Z);Me.push(...ti)}return Me}_replaceTableSlotCell(r,m,P,M){const{cell:Z,isAnchor:ie}=r;return ie&&M.remove(Z),m?(M.insert(m,P),m):null}getTableIfOnlyTableInContent(r,m){if(!r.is("documentFragment")&&!r.is("element"))return null;if(r.is("element","table"))return r;if(r.childCount==1&&r.getChild(0).is("element","table"))return r.getChild(0);const P=m.createRangeIn(r);for(const M of P.getItems())if(M.is("element","table")){const Z=m.createRange(P.start,m.createPositionBefore(M));if(m.hasContent(Z,{ignoreWhitespaces:!0}))return null;const ie=m.createRange(m.createPositionAfter(M),P.end);return m.hasContent(ie,{ignoreWhitespaces:!0})?null:M}return null}}function gi(O,r,m,P,M=0){if(!(r<1))return W(O,r,M).filter(({column:Z,cellWidth:ie})=>Ti(Z,ie,m)).map(({cell:Z})=>N(Z,r,P))}function Oi(O,r,m,P){if(!(r<1))return oe(O,r).filter(({row:M,cellHeight:Z})=>Ti(M,Z,m)).map(({cell:M,column:Z})=>Te(M,Z,r,P))}function Ti(O,r,m){const P=O+r-1,{first:M,last:Z}=m;return O>=M&&O<=Z||O<M&&P>=M}class Yi extends v.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[zt,Tt]}init(){const r=this.editor.editing.view.document;this.listenTo(r,"arrowKey",(...m)=>this._onArrowKey(...m),{context:"table"}),this.listenTo(r,"tab",(...m)=>this._handleTabOnSelectedTable(...m),{context:"figure"}),this.listenTo(r,"tab",(...m)=>this._handleTab(...m),{context:["th","td"]})}_handleTabOnSelectedTable(r,m){const P=this.editor,M=P.model.document.selection.getSelectedElement();M&&M.is("element","table")&&(m.preventDefault(),m.stopPropagation(),r.stop(),P.model.change(Z=>{Z.setSelection(Z.createRangeIn(M.getChild(0).getChild(0)))}))}_handleTab(r,m){const P=this.editor,M=this.editor.plugins.get(Tt),Z=this.editor.plugins.get("TableSelection"),ie=P.model.document.selection,me=!m.shiftKey;let ge=M.getTableCellsContainingSelection(ie)[0];if(ge||(ge=Z.getFocusCell()),!ge)return;m.preventDefault(),m.stopPropagation(),r.stop();const Ce=ge.parent,Me=Ce.parent,ot=Me.getChildIndex(Ce),ft=Ce.getChildIndex(ge),Vt=ft===0;if(!me&&Vt&&ot===0)return void P.model.change(ci=>{ci.setSelection(ci.createRangeOn(Me))});const $t=ft===Ce.childCount-1,Ft=ot===M.getRows(Me)-1;if(me&&Ft&&$t&&(P.execute("insertTableRowBelow"),ot===M.getRows(Me)-1))return void P.model.change(ci=>{ci.setSelection(ci.createRangeOn(Me))});let ti;if(me&&$t)ti=Me.getChild(ot+1).getChild(0);else if(!me&&Vt){const ci=Me.getChild(ot-1);ti=ci.getChild(ci.childCount-1)}else ti=Ce.getChild(ft+(me?1:-1));P.model.change(ci=>{ci.setSelection(ci.createRangeIn(ti))})}_onArrowKey(r,m){const P=this.editor,M=m.keyCode,Z=(0,Y.getLocalizedArrowKeyCodeDirection)(M,P.locale.contentLanguageDirection);this._handleArrowKeys(Z,m.shiftKey)&&(m.preventDefault(),m.stopPropagation(),r.stop())}_handleArrowKeys(r,m){const P=this.editor.plugins.get(Tt),M=this.editor.plugins.get("TableSelection"),Z=this.editor.model,ie=Z.document.selection,me=["right","down"].includes(r),ge=P.getSelectedTableCells(ie);if(ge.length){let Me;return Me=m?M.getFocusCell():me?ge[ge.length-1]:ge[0],this._navigateFromCellInDirection(Me,r,m),!0}const Ce=ie.focus.findAncestor("tableCell");if(!Ce)return!1;if(!ie.isCollapsed)if(m){if(ie.isBackward==me&&!ie.containsEntireContent(Ce))return!1}else{const Me=ie.getSelectedElement();if(!Me||!Z.schema.isObject(Me))return!1}return!!this._isSelectionAtCellEdge(ie,Ce,me)&&(this._navigateFromCellInDirection(Ce,r,m),!0)}_isSelectionAtCellEdge(r,m,P){const M=this.editor.model,Z=this.editor.model.schema,ie=P?r.getLastPosition():r.getFirstPosition();if(!Z.getLimitElement(ie).is("element","tableCell"))return M.createPositionAt(m,P?"end":0).isTouching(ie);const me=M.createSelection(ie);return M.modifySelection(me,{direction:P?"forward":"backward"}),ie.isEqual(me.focus)}_navigateFromCellInDirection(r,m,P=!1){const M=this.editor.model,Z=r.findAncestor("table"),ie=[...new b(Z,{includeAllSlots:!0})],{row:me,column:ge}=ie[ie.length-1],Ce=ie.find(({cell:Ft})=>Ft==r);let{row:Me,column:ot}=Ce;switch(m){case"left":ot--;break;case"up":Me--;break;case"right":ot+=Ce.cellWidth;break;case"down":Me+=Ce.cellHeight}if(Me<0||Me>me||ot<0&&Me<=0||ot>ge&&Me>=me)return void M.change(Ft=>{Ft.setSelection(Ft.createRangeOn(Z))});ot<0?(ot=P?0:ge,Me--):ot>ge&&(ot=P?ge:0,Me++);const ft=ie.find(Ft=>Ft.row==Me&&Ft.column==ot).cell,Vt=["right","down"].includes(m),$t=this.editor.plugins.get("TableSelection");if(P&&$t.isEnabled){const Ft=$t.getAnchorCell()||r;$t.setCellSelection(Ft,ft)}else{const Ft=M.createPositionAt(ft,Vt?0:"end");M.change(ti=>{ti.setSelection(Ft)})}}}var Ut=j(492);class Ae extends Ut.DomEventObserver{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(r){this.fire(r.type,r)}}class Ye extends v.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[zt,Tt]}init(){this.editor.editing.view.addObserver(Ae),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const r=this.editor,m=r.plugins.get(Tt);let P=!1;const M=r.plugins.get(zt);this.listenTo(r.editing.view.document,"mousedown",(Z,ie)=>{const me=r.model.document.selection;if(!this.isEnabled||!M.isEnabled||!ie.domEvent.shiftKey)return;const ge=M.getAnchorCell()||m.getTableCellsContainingSelection(me)[0];if(!ge)return;const Ce=this._getModelTableCellFromDomEvent(ie);Ce&&it(ge,Ce)&&(P=!0,M.setCellSelection(ge,Ce),ie.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{P=!1}),this.listenTo(r.editing.view.document,"selectionChange",Z=>{P&&Z.stop()},{priority:"highest"})}_enableMouseDragSelection(){const r=this.editor;let m,P,M=!1,Z=!1;const ie=r.plugins.get(zt);this.listenTo(r.editing.view.document,"mousedown",(me,ge)=>{this.isEnabled&&ie.isEnabled&&(ge.domEvent.shiftKey||ge.domEvent.ctrlKey||ge.domEvent.altKey||(m=this._getModelTableCellFromDomEvent(ge)))}),this.listenTo(r.editing.view.document,"mousemove",(me,ge)=>{if(!ge.domEvent.buttons||!m)return;const Ce=this._getModelTableCellFromDomEvent(ge);Ce&&it(m,Ce)&&(P=Ce,M||P==m||(M=!0)),M&&(Z=!0,ie.setCellSelection(m,P),ge.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{M=!1,Z=!1,m=null,P=null}),this.listenTo(r.editing.view.document,"selectionChange",me=>{Z&&me.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(r){const m=r.target,P=this.editor.editing.view.createPositionAt(m,0);return this.editor.editing.mapper.toModelPosition(P).parent.findAncestor("tableCell",{includeSelf:!0})}}function it(O,r){return O.parent.parent==r.parent.parent}var ht=j(943),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ht.Z,Ot),ht.Z.locals;class Xt extends v.Plugin{static get requires(){return[Ui,Pe,zt,Ye,Yi,fi,A.Widget]}static get pluginName(){return"Table"}}class ii extends v.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[Xt]}init(){const r=this.editor;r.conversion.for("dataDowncast").elementToStructure({model:"table",view:di,converterPriority:"high"}),r.plugins.has("TableCaption")&&r.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:P})=>{if(m.parent.name==="table")return P.createContainerElement("caption")},converterPriority:"high"}),r.plugins.has("TableProperties")&&function(m){const P={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[M,Z]of Object.entries(P))m.conversion.for("dataDowncast").add(ie=>ie.on(`attribute:${Z}:table`,(me,ge,Ce)=>{const{item:Me,attributeNewValue:ot}=ge,{mapper:ft,writer:Vt}=Ce;if(!Ce.consumable.consume(Me,me.name))return;const $t=ft.toViewElement(Me);ot?Vt.setStyle(M,ot,$t):Vt.removeStyle(M,$t)},{priority:"high"}))}(r)}}function di(O,{writer:r}){const m=O.getAttribute("headingRows")||0,P=r.createSlot(Ce=>Ce.is("element","tableRow")&&Ce.index<m),M=r.createSlot(Ce=>Ce.is("element","tableRow")&&Ce.index>=m),Z=r.createSlot(Ce=>!Ce.is("element","tableRow")),ie=r.createContainerElement("thead",null,P),me=r.createContainerElement("tbody",null,M),ge=[];return m&&ge.push(ie),m<O.childCount&&ge.push(me),r.createContainerElement("table",null,[Z,...ge])}function Ai(O){const r=O.getSelectedElement();return r&&Mi(r)?r:null}function wi(O){const r=O.getFirstPosition();if(!r)return null;let m=r.parent;for(;m;){if(m.is("element")&&Mi(m))return m;m=m.parent}return null}function Mi(O){return!!O.getCustomProperty("table")&&(0,A.isWidget)(O)}class cn extends v.Plugin{static get requires(){return[A.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,m=r.t,P=r.plugins.get(A.WidgetToolbarRepository),M=r.config.get("table.contentToolbar"),Z=r.config.get("table.tableToolbar");M&&P.register("tableContent",{ariaLabel:m("Table toolbar"),items:M,getRelatedElement:wi}),Z&&P.register("table",{ariaLabel:m("Table toolbar"),items:Z,getRelatedElement:Ai})}}var hn=j(993),xn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(hn.Z,xn),hn.Z.locals;class Xi extends he.View{constructor(r,m){super(r),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=m,this.focusTracker=new Y.FocusTracker,this._focusables=new he.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new Y.KeystrokeHandler,this._stillTyping=!1,this._focusCycler=new he.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(P,M,Z)=>this._setInputValue(Z))}render(){super.render(),this.keystrokes.listenTo(this.dropdownView.panelView.element)}focus(){this.inputView.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const r=this.locale,m=r.t,P=this.bindTemplate,M=this._createColorSelector(r),Z=(0,he.createDropdown)(r),ie=new he.View;return ie.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:P.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",P.if("value","ck-hidden",me=>me!="")]}}]}),Z.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),Z.buttonView.children.add(ie),Z.buttonView.label=m("Color picker"),Z.buttonView.tooltip=!0,Z.panelPosition=r.uiLanguageDirection==="rtl"?"se":"sw",Z.panelView.children.add(M),Z.bind("isEnabled").to(this,"isReadOnly",me=>!me),this._focusables.add(M),this.focusTracker.add(M.element),Z.on("change:isOpen",(me,ge,Ce)=>{Ce&&(M.updateSelectedColors(),M.showColorGridsFragment())}),Z}_createInputTextView(){const r=this.locale,m=new he.InputTextView(r);return m.extendTemplate({on:{blur:m.bindTemplate.to("blur")}}),m.value=this.value,m.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(m),m.on("input",()=>{const P=m.element.value,M=this.options.colorDefinitions.find(Z=>P===Z.label);this._stillTyping=!0,this.value=M&&M.color||P}),m.on("blur",()=>{this._stillTyping=!1,this._setInputValue(m.element.value)}),m.delegate("input").to(this),m}_createColorSelector(r){const m=r.t,P=this.options.defaultColorValue||"",M=m(P?"Restore default":"Remove color"),Z=new he.ColorSelectorView(r,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:M,colorPickerLabel:m("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&{...this.options.colorPickerConfig,hideInput:!0}});Z.appendUI(),Z.on("execute",(me,ge)=>{ge.source!=="colorPickerSaveButton"?(this.value=ge.value||P,this.fire("input"),ge.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1});let ie=this.value;return Z.on("colorPicker:cancel",()=>{this.value=ie,this.fire("input"),this.dropdownView.isOpen=!1}),Z.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{ie=this.value}),Z.bind("selectedColor").to(this,"value"),Z}_setInputValue(r){if(!this._stillTyping){const m=ln(r),P=this.options.colorDefinitions.find(M=>m===ln(M.color));this.inputView.value=P?P.label:r||""}}}function ln(O){return O.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const It=O=>O==="";function te(O){return{none:O("None"),solid:O("Solid"),dotted:O("Dotted"),dashed:O("Dashed"),double:O("Double"),groove:O("Groove"),ridge:O("Ridge"),inset:O("Inset"),outset:O("Outset")}}function Ee(O){return O('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function Ue(O){return O('The value is invalid. Try "10px" or "2em" or simply "2".')}function $e(O){return O=O.trim().toLowerCase(),It(O)||(0,Ut.isColor)(O)}function dt(O){return O=O.trim(),It(O)||ai(O)||(0,Ut.isLength)(O)||(0,Ut.isPercentage)(O)}function gt(O){return O=O.trim(),It(O)||ai(O)||(0,Ut.isLength)(O)}function Nt(O,r){const m=new Y.Collection,P=te(O.t);for(const M in P){const Z={type:"button",model:new he.Model({_borderStyleValue:M,label:P[M],role:"menuitemradio",withText:!0})};M==="none"?Z.model.bind("isOn").to(O,"borderStyle",ie=>r==="none"?!ie:ie===M):Z.model.bind("isOn").to(O,"borderStyle",ie=>ie===M),m.add(Z)}return m}function Et(O){const{view:r,icons:m,toolbar:P,labels:M,propertyName:Z,nameToValue:ie,defaultValue:me}=O;for(const ge in M){const Ce=new he.ButtonView(r.locale);Ce.set({label:M[ge],icon:m[ge],tooltip:M[ge]});const Me=ie?ie(ge):ge;Ce.bind("isOn").to(r,Z,ot=>{let ft=ot;return ot===""&&me&&(ft=me),Me===ft}),Ce.on("execute",()=>{r[Z]=Me}),P.items.add(Ce)}}const Bt=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function qt(O){return(r,m,P)=>{const M=new Xi(r.locale,{colorDefinitions:(Z=O.colorConfig,Z.map(ie=>({color:ie.model,label:ie.label,options:{hasBorder:ie.hasBorder}}))),columns:O.columns,defaultColorValue:O.defaultColorValue,colorPickerConfig:O.colorPickerConfig});var Z;return M.inputView.set({id:m,ariaDescribedById:P}),M.bind("isReadOnly").to(r,"isEnabled",ie=>!ie),M.bind("hasError").to(r,"errorText",ie=>!!ie),M.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused").to(M),M}}function ai(O){const r=parseFloat(O);return!Number.isNaN(r)&&O===String(r)}var ki=j(865),hi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ki.Z,hi),ki.Z.locals;class ri extends he.View{constructor(r,m={}){super(r);const P=this.bindTemplate;this.set("class",m.class||null),this.children=this.createCollection(),m.children&&m.children.forEach(M=>this.children.add(M)),this.set("_role",null),this.set("_ariaLabelledBy",null),m.labelView&&this.set({_role:"group",_ariaLabelledBy:m.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",P.to("class")],role:P.to("_role"),"aria-labelledby":P.to("_ariaLabelledBy")},children:this.children})}}var Ii=j(102),Di={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ii.Z,Di),Ii.Z.locals;var bn=j(424),yn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(bn.Z,yn),bn.Z.locals;var Rn=j(770),Un={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Rn.Z,Un),Rn.Z.locals;const Nn={left:v.icons.alignLeft,center:v.icons.alignCenter,right:v.icons.alignRight,justify:v.icons.alignJustify,top:v.icons.alignTop,middle:v.icons.alignMiddle,bottom:v.icons.alignBottom};class jn extends he.View{constructor(r,m){super(r),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=m;const{borderStyleDropdown:P,borderWidthInput:M,borderColorInput:Z,borderRowLabel:ie}=this._createBorderFields(),{backgroundRowLabel:me,backgroundInput:ge}=this._createBackgroundFields(),{widthInput:Ce,operatorLabel:Me,heightInput:ot,dimensionsLabel:ft}=this._createDimensionFields(),{horizontalAlignmentToolbar:Vt,verticalAlignmentToolbar:$t,alignmentLabel:Ft}=this._createAlignmentFields();this.focusTracker=new Y.FocusTracker,this.keystrokes=new Y.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=P,this.borderWidthInput=M,this.borderColorInput=Z,this.backgroundInput=ge,this.paddingInput=this._createPaddingField(),this.widthInput=Ce,this.heightInput=ot,this.horizontalAlignmentToolbar=Vt,this.verticalAlignmentToolbar=$t;const{saveButtonView:ti,cancelButtonView:ci}=this._createActionButtons();this.saveButtonView=ti,this.cancelButtonView=ci,this._focusables=new he.ViewCollection,this._focusCycler=new he.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new he.FormHeaderView(r,{label:this.t("Cell properties")})),this.children.add(new ri(r,{labelView:ie,children:[ie,P,Z,M],class:"ck-table-form__border-row"})),this.children.add(new ri(r,{labelView:me,children:[me,ge],class:"ck-table-form__background-row"})),this.children.add(new ri(r,{children:[new ri(r,{labelView:ft,children:[ft,Ce,Me,ot],class:"ck-table-form__dimensions-row"}),new ri(r,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new ri(r,{labelView:Ft,children:[Ft,Vt,$t],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new ri(r,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,he.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const r=this.options.defaultTableCellProperties,m={style:r.borderStyle,width:r.borderWidth,color:r.borderColor},P=qt({colorConfig:this.options.borderColors,columns:5,defaultColorValue:m.color,colorPickerConfig:this.options.colorPickerConfig}),M=this.locale,Z=this.t,ie=Z("Style"),me=new he.LabelView(M);me.text=Z("Border");const ge=te(Z),Ce=new he.LabeledFieldView(M,he.createLabeledDropdown);Ce.set({label:ie,class:"ck-table-form__border-style"}),Ce.fieldView.buttonView.set({ariaLabel:ie,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ie}),Ce.fieldView.buttonView.bind("label").to(this,"borderStyle",ft=>ge[ft||"none"]),Ce.fieldView.on("execute",ft=>{this.borderStyle=ft.source._borderStyleValue}),Ce.bind("isEmpty").to(this,"borderStyle",ft=>!ft),(0,he.addListToDropdown)(Ce.fieldView,Nt(this,m.style),{role:"menu",ariaLabel:ie});const Me=new he.LabeledFieldView(M,he.createLabeledInputText);Me.set({label:Z("Width"),class:"ck-table-form__border-width"}),Me.fieldView.bind("value").to(this,"borderWidth"),Me.bind("isEnabled").to(this,"borderStyle",Sn),Me.fieldView.on("input",()=>{this.borderWidth=Me.fieldView.element.value});const ot=new he.LabeledFieldView(M,P);return ot.set({label:Z("Color"),class:"ck-table-form__border-color"}),ot.fieldView.bind("value").to(this,"borderColor"),ot.bind("isEnabled").to(this,"borderStyle",Sn),ot.fieldView.on("input",()=>{this.borderColor=ot.fieldView.value}),this.on("change:borderStyle",(ft,Vt,$t,Ft)=>{Sn($t)||(this.borderColor="",this.borderWidth=""),Sn(Ft)||(this.borderColor=m.color,this.borderWidth=m.width)}),{borderRowLabel:me,borderStyleDropdown:Ce,borderColorInput:ot,borderWidthInput:Me}}_createBackgroundFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Background");const M=qt({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),Z=new he.LabeledFieldView(r,M);return Z.set({label:m("Color"),class:"ck-table-cell-properties-form__background"}),Z.fieldView.bind("value").to(this,"backgroundColor"),Z.fieldView.on("input",()=>{this.backgroundColor=Z.fieldView.value}),{backgroundRowLabel:P,backgroundInput:Z}}_createDimensionFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Dimensions");const M=new he.LabeledFieldView(r,he.createLabeledInputText);M.set({label:m("Width"),class:"ck-table-form__dimensions-row__width"}),M.fieldView.bind("value").to(this,"width"),M.fieldView.on("input",()=>{this.width=M.fieldView.element.value});const Z=new he.View(r);Z.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ie=new he.LabeledFieldView(r,he.createLabeledInputText);return ie.set({label:m("Height"),class:"ck-table-form__dimensions-row__height"}),ie.fieldView.bind("value").to(this,"height"),ie.fieldView.on("input",()=>{this.height=ie.fieldView.element.value}),{dimensionsLabel:P,widthInput:M,operatorLabel:Z,heightInput:ie}}_createPaddingField(){const r=this.locale,m=this.t,P=new he.LabeledFieldView(r,he.createLabeledInputText);return P.set({label:m("Padding"),class:"ck-table-cell-properties-form__padding"}),P.fieldView.bind("value").to(this,"padding"),P.fieldView.on("input",()=>{this.padding=P.fieldView.element.value}),P}_createAlignmentFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Table cell text alignment");const M=new he.ToolbarView(r),Z=r.contentLanguageDirection==="rtl";M.set({isCompact:!0,ariaLabel:m("Horizontal text alignment toolbar")}),Et({view:this,icons:Nn,toolbar:M,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:me=>{if(Z){if(me==="left")return"right";if(me==="right")return"left"}return me},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const ie=new he.ToolbarView(r);return ie.set({isCompact:!0,ariaLabel:m("Vertical text alignment toolbar")}),Et({view:this,icons:Nn,toolbar:ie,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:M,verticalAlignmentToolbar:ie,alignmentLabel:P}}_createActionButtons(){const r=this.locale,m=this.t,P=new he.ButtonView(r),M=new he.ButtonView(r),Z=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return P.set({label:m("Save"),icon:v.icons.check,class:"ck-button-save",type:"submit",withText:!0}),P.bind("isEnabled").toMany(Z,"errorText",(...ie)=>ie.every(me=>!me)),M.set({label:m("Cancel"),icon:v.icons.cancel,class:"ck-button-cancel",withText:!0}),M.delegate("execute").to(this,"cancel"),{saveButtonView:P,cancelButtonView:M}}get _horizontalAlignmentLabels(){const r=this.locale,m=this.t,P=m("Align cell text to the left"),M=m("Align cell text to the center"),Z=m("Align cell text to the right"),ie=m("Justify cell text");return r.uiLanguageDirection==="rtl"?{right:Z,center:M,left:P,justify:ie}:{left:P,center:M,right:Z,justify:ie}}get _verticalAlignmentLabels(){const r=this.t;return{top:r("Align cell text to the top"),middle:r("Align cell text to the middle"),bottom:r("Align cell text to the bottom")}}}function Sn(O){return O!=="none"}const Bn=function(O){var r=typeof O;return O!=null&&(r=="object"||r=="function")},io=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g;var ze=typeof self=="object"&&self&&self.Object===Object&&self;const g=io||ze||Function("return this")(),u=function(){return g.Date.now()};var x=/\s/;const F=function(O){for(var r=O.length;r--&&x.test(O.charAt(r)););return r};var K=/^\s+/;const ce=function(O){return O&&O.slice(0,F(O)+1).replace(K,"")},fe=g.Symbol;var Se=Object.prototype,Le=Se.hasOwnProperty,De=Se.toString,He=fe?fe.toStringTag:void 0;const Qe=function(O){var r=Le.call(O,He),m=O[He];try{O[He]=void 0;var P=!0}catch{}var M=De.call(O);return P&&(r?O[He]=m:delete O[He]),M};var _t=Object.prototype.toString;const Pt=function(O){return _t.call(O)};var vt=fe?fe.toStringTag:void 0;const Gt=function(O){return O==null?O===void 0?"[object Undefined]":"[object Null]":vt&&vt in Object(O)?Qe(O):Pt(O)},ui=function(O){return O!=null&&typeof O=="object"},Pi=function(O){return typeof O=="symbol"||ui(O)&&Gt(O)=="[object Symbol]"};var Wi=/^[-+]0x[0-9a-f]+$/i,Ki=/^0b[01]+$/i,nn=/^0o[0-7]+$/i,Wn=parseInt;const Pn=function(O){if(typeof O=="number")return O;if(Pi(O))return NaN;if(Bn(O)){var r=typeof O.valueOf=="function"?O.valueOf():O;O=Bn(r)?r+"":r}if(typeof O!="string")return O===0?O:+O;O=ce(O);var m=Ki.test(O);return m||nn.test(O)?Wn(O.slice(2),m?2:8):Wi.test(O)?NaN:+O};var qn=Math.max,_o=Math.min;const po=function(O,r,m){var P,M,Z,ie,me,ge,Ce=0,Me=!1,ot=!1,ft=!0;if(typeof O!="function")throw new TypeError("Expected a function");function Vt(_i){var Vi=P,tn=M;return P=M=void 0,Ce=_i,ie=O.apply(tn,Vi)}function $t(_i){var Vi=_i-ge;return ge===void 0||Vi>=r||Vi<0||ot&&_i-Ce>=Z}function Ft(){var _i=u();if($t(_i))return ti(_i);me=setTimeout(Ft,function(Vi){var tn=r-(Vi-ge);return ot?_o(tn,Z-(Vi-Ce)):tn}(_i))}function ti(_i){return me=void 0,ft&&P?Vt(_i):(P=M=void 0,ie)}function ci(){var _i=u(),Vi=$t(_i);if(P=arguments,M=this,ge=_i,Vi){if(me===void 0)return function(tn){return Ce=tn,me=setTimeout(Ft,r),Me?Vt(tn):ie}(ge);if(ot)return clearTimeout(me),me=setTimeout(Ft,r),Vt(ge)}return me===void 0&&(me=setTimeout(Ft,r)),ie}return r=Pn(r)||0,Bn(m)&&(Me=!!m.leading,Z=(ot="maxWait"in m)?qn(Pn(m.maxWait)||0,r):Z,ft="trailing"in m?!!m.trailing:ft),ci.cancel=function(){me!==void 0&&clearTimeout(me),Ce=0,P=ge=M=me=void 0},ci.flush=function(){return me===void 0?ie:ti(u())},ci},Kn=he.BalloonPanelView.defaultPositions,yo=[Kn.northArrowSouth,Kn.northArrowSouthWest,Kn.northArrowSouthEast,Kn.southArrowNorth,Kn.southArrowNorthWest,Kn.southArrowNorthEast,Kn.viewportStickyNorth];function no(O,r){const m=O.plugins.get("ContextualBalloon");if(wi(O.editing.view.document.selection)){let P;P=r==="cell"?bo(O):fo(O),m.updatePosition(P)}}function fo(O){const r=O.model.document.selection.getFirstPosition().findAncestor("table"),m=O.editing.mapper.toViewElement(r);return{target:O.editing.view.domConverter.mapViewToDom(m),positions:yo}}function bo(O){const r=O.editing.mapper,m=O.editing.view.domConverter,P=O.model.document.selection;if(P.rangeCount>1)return{target:()=>function(ie,me){const ge=me.editing.mapper,Ce=me.editing.view.domConverter,Me=Array.from(ie).map(ot=>{const ft=Vn(ot.start),Vt=ge.toViewElement(ft);return new Y.Rect(Ce.mapViewToDom(Vt))});return Y.Rect.getBoundingRect(Me)}(P.getRanges(),O),positions:yo};const M=Vn(P.getFirstPosition()),Z=r.toViewElement(M);return{target:m.mapViewToDom(Z),positions:yo}}function Vn(O){return O.nodeAfter&&O.nodeAfter.is("element","tableCell")?O.nodeAfter:O.findAncestor("tableCell")}function Gn(O){if(!O||!Bn(O))return O;const{top:r,right:m,bottom:P,left:M}=O;return r==m&&m==P&&P==M?r:void 0}function so(O,r){const m=parseFloat(O);return Number.isNaN(m)||String(m)!==String(O)?O:`${m}${r}`}function Oo(O,r={}){const m={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...O};return r.includeAlignmentProperty&&!m.alignment&&(m.alignment="center"),r.includePaddingProperty&&!m.padding&&(m.padding=""),r.includeVerticalAlignmentProperty&&!m.verticalAlignment&&(m.verticalAlignment="middle"),r.includeHorizontalAlignmentProperty&&!m.horizontalAlignment&&(m.horizontalAlignment=r.isRightToLeftContent?"right":"left"),m}const Fo={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class xo extends v.Plugin{static get requires(){return[he.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(r){super(r),r.config.define("table.tableCellProperties",{borderColors:Bt,backgroundColors:Bt})}init(){const r=this.editor,m=r.t;this._defaultTableCellProperties=Oo(r.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:r.locale.contentLanguageDirection==="rtl"}),this._balloon=r.plugins.get(he.ContextualBalloon),this.view=null,this._isReady=!1,r.ui.componentFactory.add("tableCellProperties",P=>{const M=new he.ButtonView(P);M.set({label:m("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(M,"execute",()=>this._showView());const Z=Object.values(Fo).map(ie=>r.commands.get(ie));return M.bind("isEnabled").toMany(Z,"isEnabled",(...ie)=>ie.some(me=>me)),M})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const r=this.editor,m=r.config.get("table.tableCellProperties"),P=(0,he.normalizeColorOptions)(m.borderColors),M=(0,he.getLocalizedColorOptions)(r.locale,P),Z=(0,he.normalizeColorOptions)(m.backgroundColors),ie=(0,he.getLocalizedColorOptions)(r.locale,Z),me=m.colorPicker!==!1,ge=new jn(r.locale,{borderColors:M,backgroundColors:ie,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!me&&(m.colorPicker||{})}),Ce=r.t;ge.render(),this.listenTo(ge,"submit",()=>{this._hideView()}),this.listenTo(ge,"cancel",()=>{this._undoStepBatch.operations.length&&r.execute("undo",this._undoStepBatch),this._hideView()}),ge.keystrokes.set("Esc",(ft,Vt)=>{this._hideView(),Vt()}),(0,he.clickOutsideHandler)({emitter:ge,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const Me=Ee(Ce),ot=Ue(Ce);return ge.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),ge.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:ge.borderColorInput,commandName:"tableCellBorderColor",errorText:Me,validator:$e})),ge.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:ge.borderWidthInput,commandName:"tableCellBorderWidth",errorText:ot,validator:gt})),ge.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:ge.paddingInput,commandName:"tableCellPadding",errorText:ot,validator:dt})),ge.on("change:width",this._getValidatedPropertyChangeCallback({viewField:ge.widthInput,commandName:"tableCellWidth",errorText:ot,validator:dt})),ge.on("change:height",this._getValidatedPropertyChangeCallback({viewField:ge.heightInput,commandName:"tableCellHeight",errorText:ot,validator:dt})),ge.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:ge.backgroundInput,commandName:"tableCellBackgroundColor",errorText:Me,validator:$e})),ge.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),ge.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),ge}_fillViewFormFromCommandValues(){const r=this.editor.commands,m=r.get("tableCellBorderStyle");Object.entries(Fo).map(([P,M])=>{const Z=this._defaultTableCellProperties[P]||"";return[P,r.get(M).value||Z]}).forEach(([P,M])=>{(P!=="borderColor"&&P!=="borderWidth"||m.value!=="none")&&this.view.set(P,M)}),this._isReady=!0}_showView(){const r=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(r.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:bo(r)}),this._undoStepBatch=r.model.createBatch(),this.view.focus()}_hideView(){const r=this.editor;this.stopListening(r.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const r=this.editor;wi(r.editing.view.document.selection)?this._isViewVisible&&no(r,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(r){return(m,P,M)=>{this._isReady&&this.editor.execute(r,{value:M,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(r){const{commandName:m,viewField:P,validator:M,errorText:Z}=r,ie=po(()=>{P.errorText=Z},500);return(me,ge,Ce)=>{ie.cancel(),this._isReady&&(M(Ce)?(this.editor.execute(m,{value:Ce,batch:this._undoStepBatch}),P.errorText=null):ie())}}}class Zi extends v.Command{constructor(r,m,P){super(r),this.attributeName=m,this._defaultValue=P}refresh(){const r=this.editor,m=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r.model.document.selection);this.isEnabled=!!m.length,this.value=this._getSingleValue(m)}execute(r={}){const{value:m,batch:P}=r,M=this.editor.model,Z=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(M.document.selection),ie=this._getValueToSet(m);M.enqueueChange(P,me=>{ie?Z.forEach(ge=>me.setAttribute(this.attributeName,ie,ge)):Z.forEach(ge=>me.removeAttribute(this.attributeName,ge))})}_getAttribute(r){if(!r)return;const m=r.getAttribute(this.attributeName);return m!==this._defaultValue?m:void 0}_getValueToSet(r){if(r!==this._defaultValue)return r}_getSingleValue(r){const m=this._getAttribute(r[0]);return r.every(P=>this._getAttribute(P)===m)?m:void 0}}class Lo extends Zi{constructor(r,m){super(r,"tableCellWidth",m)}_getValueToSet(r){if((r=so(r,"px"))!==this._defaultValue)return r}}class Mo extends v.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Ui]}init(){const r=this.editor,m=Oo(r.config.get("table.tableCellProperties.defaultProperties"));J(r.model.schema,r.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:m.width}),r.commands.add("tableCellWidth",new Lo(r,m.width))}}class Ho extends Zi{constructor(r,m){super(r,"tableCellPadding",m)}_getAttribute(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(r){const m=so(r,"px");if(m!==this._defaultValue)return m}}class Tn extends Zi{constructor(r,m){super(r,"tableCellHeight",m)}_getValueToSet(r){const m=so(r,"px");if(m!==this._defaultValue)return m}}class $o extends Zi{constructor(r,m){super(r,"tableCellBackgroundColor",m)}}class Uo extends Zi{constructor(r,m){super(r,"tableCellVerticalAlignment",m)}}class ar extends Zi{constructor(r,m){super(r,"tableCellHorizontalAlignment",m)}}class Ro extends Zi{constructor(r,m){super(r,"tableCellBorderStyle",m)}_getAttribute(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class lr extends Zi{constructor(r,m){super(r,"tableCellBorderColor",m)}_getAttribute(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class Mn extends Zi{constructor(r,m){super(r,"tableCellBorderWidth",m)}_getAttribute(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(r){const m=so(r,"px");if(m!==this._defaultValue)return m}}const wo=/^(top|middle|bottom)$/,Co=/^(left|center|right|justify)$/;class cr extends v.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Ui,Mo]}init(){const r=this.editor,m=r.model.schema,P=r.conversion;r.config.define("table.tableCellProperties.defaultProperties",{});const M=Oo(r.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:r.locale.contentLanguageDirection==="rtl"});r.data.addStyleProcessorRules(Ut.addBorderRules),function(Z,ie,me){const ge={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};Z.extend("tableCell",{allowAttributes:Object.values(ge)}),c(ie,"td",ge,me),c(ie,"th",ge,me),L(ie,{modelElement:"tableCell",modelAttribute:ge.style,styleName:"border-style"}),L(ie,{modelElement:"tableCell",modelAttribute:ge.color,styleName:"border-color"}),L(ie,{modelElement:"tableCell",modelAttribute:ge.width,styleName:"border-width"})}(m,P,{color:M.borderColor,style:M.borderStyle,width:M.borderWidth}),r.commands.add("tableCellBorderStyle",new Ro(r,M.borderStyle)),r.commands.add("tableCellBorderColor",new lr(r,M.borderColor)),r.commands.add("tableCellBorderWidth",new Mn(r,M.borderWidth)),J(m,P,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:M.height}),r.commands.add("tableCellHeight",new Tn(r,M.height)),r.data.addStyleProcessorRules(Ut.addPaddingRules),J(m,P,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:M.padding}),r.commands.add("tableCellPadding",new Ho(r,M.padding)),r.data.addStyleProcessorRules(Ut.addBackgroundRules),J(m,P,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:M.backgroundColor}),r.commands.add("tableCellBackgroundColor",new $o(r,M.backgroundColor)),function(Z,ie,me){Z.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),ie.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:ge=>({key:"style",value:{"text-align":ge}})}),ie.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":Co}},model:{key:"tableCellHorizontalAlignment",value:ge=>{const Ce=ge.getStyle("text-align");return Ce===me?null:Ce}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:Co}},model:{key:"tableCellHorizontalAlignment",value:ge=>{const Ce=ge.getAttribute("align");return Ce===me?null:Ce}}})}(m,P,M.horizontalAlignment),r.commands.add("tableCellHorizontalAlignment",new ar(r,M.horizontalAlignment)),function(Z,ie,me){Z.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),ie.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:ge=>({key:"style",value:{"vertical-align":ge}})}),ie.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":wo}},model:{key:"tableCellVerticalAlignment",value:ge=>{const Ce=ge.getStyle("vertical-align");return Ce===me?null:Ce}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:wo}},model:{key:"tableCellVerticalAlignment",value:ge=>{const Ce=ge.getAttribute("valign");return Ce===me?null:Ce}}})}(m,P,M.verticalAlignment),r.commands.add("tableCellVerticalAlignment",new Uo(r,M.verticalAlignment))}}class br extends v.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[cr,xo]}}class Yn extends v.Command{constructor(r,m,P){super(r),this.attributeName=m,this._defaultValue=P}refresh(){const r=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!r,this.value=this._getValue(r)}execute(r={}){const m=this.editor.model,P=m.document.selection,{value:M,batch:Z}=r,ie=P.getFirstPosition().findAncestor("table"),me=this._getValueToSet(M);m.enqueueChange(Z,ge=>{me?ge.setAttribute(this.attributeName,me,ie):ge.removeAttribute(this.attributeName,ie)})}_getValue(r){if(!r)return;const m=r.getAttribute(this.attributeName);return m!==this._defaultValue?m:void 0}_getValueToSet(r){if(r!==this._defaultValue)return r}}class ao extends Yn{constructor(r,m){super(r,"tableBackgroundColor",m)}}class qo extends Yn{constructor(r,m){super(r,"tableBorderColor",m)}_getValue(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class Qn extends Yn{constructor(r,m){super(r,"tableBorderStyle",m)}_getValue(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class lo extends Yn{constructor(r,m){super(r,"tableBorderWidth",m)}_getValue(r){if(!r)return;const m=Gn(r.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(r){const m=so(r,"px");if(m!==this._defaultValue)return m}}class sn extends Yn{constructor(r,m){super(r,"tableWidth",m)}_getValueToSet(r){if((r=so(r,"px"))!==this._defaultValue)return r}}class an extends Yn{constructor(r,m){super(r,"tableHeight",m)}_getValueToSet(r){if((r=so(r,"px"))!==this._defaultValue)return r}}class Dn extends Yn{constructor(r,m){super(r,"tableAlignment",m)}}const on=/^(left|center|right)$/,oo=/^(left|none|right)$/;class ro extends v.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Ui]}init(){const r=this.editor,m=r.model.schema,P=r.conversion;r.config.define("table.tableProperties.defaultProperties",{});const M=Oo(r.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});r.data.addStyleProcessorRules(Ut.addBorderRules),function(Z,ie,me){const ge={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};Z.extend("table",{allowAttributes:Object.values(ge)}),c(ie,"table",ge,me),z(ie,{modelAttribute:ge.color,styleName:"border-color"}),z(ie,{modelAttribute:ge.style,styleName:"border-style"}),z(ie,{modelAttribute:ge.width,styleName:"border-width"})}(m,P,{color:M.borderColor,style:M.borderStyle,width:M.borderWidth}),r.commands.add("tableBorderColor",new qo(r,M.borderColor)),r.commands.add("tableBorderStyle",new Qn(r,M.borderStyle)),r.commands.add("tableBorderWidth",new lo(r,M.borderWidth)),function(Z,ie,me){Z.extend("table",{allowAttributes:["tableAlignment"]}),ie.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:ge=>({key:"style",value:{float:ge==="center"?"none":ge}}),converterPriority:"high"}),ie.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:oo}},model:{key:"tableAlignment",value:ge=>{let Ce=ge.getStyle("float");return Ce==="none"&&(Ce="center"),Ce===me?null:Ce}}}).attributeToAttribute({view:{attributes:{align:on}},model:{name:"table",key:"tableAlignment",value:ge=>{const Ce=ge.getAttribute("align");return Ce===me?null:Ce}}})}(m,P,M.alignment),r.commands.add("tableAlignment",new Dn(r,M.alignment)),oi(m,P,{modelAttribute:"tableWidth",styleName:"width",defaultValue:M.width}),r.commands.add("tableWidth",new sn(r,M.width)),oi(m,P,{modelAttribute:"tableHeight",styleName:"height",defaultValue:M.height}),r.commands.add("tableHeight",new an(r,M.height)),r.data.addStyleProcessorRules(Ut.addBackgroundRules),function(Z,ie,me){const{modelAttribute:ge}=me;Z.extend("table",{allowAttributes:[ge]}),l(ie,{viewElement:"table",...me}),z(ie,me)}(m,P,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:M.backgroundColor}),r.commands.add("tableBackgroundColor",new ao(r,M.backgroundColor))}}function oi(O,r,m){const{modelAttribute:P}=m;O.extend("table",{allowAttributes:[P]}),l(r,{viewElement:/^(table|figure)$/,shouldUpcast:M=>!(M.name=="table"&&M.parent.name=="figure"),...m}),L(r,{modelElement:"table",...m})}var ko=j(500),dr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ko.Z,dr),ko.Z.locals;const Ko={left:v.icons.objectLeft,center:v.icons.objectCenter,right:v.icons.objectRight};class Go extends he.View{constructor(r,m){super(r),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=m;const{borderStyleDropdown:P,borderWidthInput:M,borderColorInput:Z,borderRowLabel:ie}=this._createBorderFields(),{backgroundRowLabel:me,backgroundInput:ge}=this._createBackgroundFields(),{widthInput:Ce,operatorLabel:Me,heightInput:ot,dimensionsLabel:ft}=this._createDimensionFields(),{alignmentToolbar:Vt,alignmentLabel:$t}=this._createAlignmentFields();this.focusTracker=new Y.FocusTracker,this.keystrokes=new Y.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=P,this.borderWidthInput=M,this.borderColorInput=Z,this.backgroundInput=ge,this.widthInput=Ce,this.heightInput=ot,this.alignmentToolbar=Vt;const{saveButtonView:Ft,cancelButtonView:ti}=this._createActionButtons();this.saveButtonView=Ft,this.cancelButtonView=ti,this._focusables=new he.ViewCollection,this._focusCycler=new he.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new he.FormHeaderView(r,{label:this.t("Table properties")})),this.children.add(new ri(r,{labelView:ie,children:[ie,P,Z,M],class:"ck-table-form__border-row"})),this.children.add(new ri(r,{labelView:me,children:[me,ge],class:"ck-table-form__background-row"})),this.children.add(new ri(r,{children:[new ri(r,{labelView:ft,children:[ft,Ce,Me,ot],class:"ck-table-form__dimensions-row"}),new ri(r,{labelView:$t,children:[$t,Vt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new ri(r,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,he.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const r=this.options.defaultTableProperties,m={style:r.borderStyle,width:r.borderWidth,color:r.borderColor},P=qt({colorConfig:this.options.borderColors,columns:5,defaultColorValue:m.color,colorPickerConfig:this.options.colorPickerConfig}),M=this.locale,Z=this.t,ie=Z("Style"),me=new he.LabelView(M);me.text=Z("Border");const ge=te(Z),Ce=new he.LabeledFieldView(M,he.createLabeledDropdown);Ce.set({label:ie,class:"ck-table-form__border-style"}),Ce.fieldView.buttonView.set({ariaLabel:ie,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ie}),Ce.fieldView.buttonView.bind("label").to(this,"borderStyle",ft=>ge[ft||"none"]),Ce.fieldView.on("execute",ft=>{this.borderStyle=ft.source._borderStyleValue}),Ce.bind("isEmpty").to(this,"borderStyle",ft=>!ft),(0,he.addListToDropdown)(Ce.fieldView,Nt(this,m.style),{role:"menu",ariaLabel:ie});const Me=new he.LabeledFieldView(M,he.createLabeledInputText);Me.set({label:Z("Width"),class:"ck-table-form__border-width"}),Me.fieldView.bind("value").to(this,"borderWidth"),Me.bind("isEnabled").to(this,"borderStyle",Jn),Me.fieldView.on("input",()=>{this.borderWidth=Me.fieldView.element.value});const ot=new he.LabeledFieldView(M,P);return ot.set({label:Z("Color"),class:"ck-table-form__border-color"}),ot.fieldView.bind("value").to(this,"borderColor"),ot.bind("isEnabled").to(this,"borderStyle",Jn),ot.fieldView.on("input",()=>{this.borderColor=ot.fieldView.value}),this.on("change:borderStyle",(ft,Vt,$t,Ft)=>{Jn($t)||(this.borderColor="",this.borderWidth=""),Jn(Ft)||(this.borderColor=m.color,this.borderWidth=m.width)}),{borderRowLabel:me,borderStyleDropdown:Ce,borderColorInput:ot,borderWidthInput:Me}}_createBackgroundFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Background");const M=qt({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),Z=new he.LabeledFieldView(r,M);return Z.set({label:m("Color"),class:"ck-table-properties-form__background"}),Z.fieldView.bind("value").to(this,"backgroundColor"),Z.fieldView.on("input",()=>{this.backgroundColor=Z.fieldView.value}),{backgroundRowLabel:P,backgroundInput:Z}}_createDimensionFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Dimensions");const M=new he.LabeledFieldView(r,he.createLabeledInputText);M.set({label:m("Width"),class:"ck-table-form__dimensions-row__width"}),M.fieldView.bind("value").to(this,"width"),M.fieldView.on("input",()=>{this.width=M.fieldView.element.value});const Z=new he.View(r);Z.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ie=new he.LabeledFieldView(r,he.createLabeledInputText);return ie.set({label:m("Height"),class:"ck-table-form__dimensions-row__height"}),ie.fieldView.bind("value").to(this,"height"),ie.fieldView.on("input",()=>{this.height=ie.fieldView.element.value}),{dimensionsLabel:P,widthInput:M,operatorLabel:Z,heightInput:ie}}_createAlignmentFields(){const r=this.locale,m=this.t,P=new he.LabelView(r);P.text=m("Alignment");const M=new he.ToolbarView(r);return M.set({isCompact:!0,ariaLabel:m("Table alignment toolbar")}),Et({view:this,icons:Ko,toolbar:M,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:P,alignmentToolbar:M}}_createActionButtons(){const r=this.locale,m=this.t,P=new he.ButtonView(r),M=new he.ButtonView(r),Z=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return P.set({label:m("Save"),icon:v.icons.check,class:"ck-button-save",type:"submit",withText:!0}),P.bind("isEnabled").toMany(Z,"errorText",(...ie)=>ie.every(me=>!me)),M.set({label:m("Cancel"),icon:v.icons.cancel,class:"ck-button-cancel",withText:!0}),M.delegate("execute").to(this,"cancel"),{saveButtonView:P,cancelButtonView:M}}get _alignmentLabels(){const r=this.locale,m=this.t,P=m("Align table to the left"),M=m("Center table"),Z=m("Align table to the right");return r.uiLanguageDirection==="rtl"?{right:Z,center:M,left:P}:{left:P,center:M,right:Z}}}function Jn(O){return O!=="none"}const Dt={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class Yo extends v.Plugin{static get requires(){return[he.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(r){super(r),this.view=null,r.config.define("table.tableProperties",{borderColors:Bt,backgroundColors:Bt})}init(){const r=this.editor,m=r.t;this._defaultTableProperties=Oo(r.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=r.plugins.get(he.ContextualBalloon),r.ui.componentFactory.add("tableProperties",P=>{const M=new he.ButtonView(P);M.set({label:m("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(M,"execute",()=>this._showView());const Z=Object.values(Dt).map(ie=>r.commands.get(ie));return M.bind("isEnabled").toMany(Z,"isEnabled",(...ie)=>ie.some(me=>me)),M})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const r=this.editor,m=r.config.get("table.tableProperties"),P=(0,he.normalizeColorOptions)(m.borderColors),M=(0,he.getLocalizedColorOptions)(r.locale,P),Z=(0,he.normalizeColorOptions)(m.backgroundColors),ie=(0,he.getLocalizedColorOptions)(r.locale,Z),me=m.colorPicker!==!1,ge=new Go(r.locale,{borderColors:M,backgroundColors:ie,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!me&&(m.colorPicker||{})}),Ce=r.t;ge.render(),this.listenTo(ge,"submit",()=>{this._hideView()}),this.listenTo(ge,"cancel",()=>{this._undoStepBatch.operations.length&&r.execute("undo",this._undoStepBatch),this._hideView()}),ge.keystrokes.set("Esc",(ft,Vt)=>{this._hideView(),Vt()}),(0,he.clickOutsideHandler)({emitter:ge,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const Me=Ee(Ce),ot=Ue(Ce);return ge.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),ge.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:ge.borderColorInput,commandName:"tableBorderColor",errorText:Me,validator:$e})),ge.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:ge.borderWidthInput,commandName:"tableBorderWidth",errorText:ot,validator:gt})),ge.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:ge.backgroundInput,commandName:"tableBackgroundColor",errorText:Me,validator:$e})),ge.on("change:width",this._getValidatedPropertyChangeCallback({viewField:ge.widthInput,commandName:"tableWidth",errorText:ot,validator:dt})),ge.on("change:height",this._getValidatedPropertyChangeCallback({viewField:ge.heightInput,commandName:"tableHeight",errorText:ot,validator:dt})),ge.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),ge}_fillViewFormFromCommandValues(){const r=this.editor.commands,m=r.get("tableBorderStyle");Object.entries(Dt).map(([P,M])=>{const Z=P,ie=this._defaultTableProperties[Z]||"";return[Z,r.get(M).value||ie]}).forEach(([P,M])=>{(P!=="borderColor"&&P!=="borderWidth"||m.value!=="none")&&this.view.set(P,M)}),this._isReady=!0}_showView(){const r=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(r.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:fo(r)}),this._undoStepBatch=r.model.createBatch(),this.view.focus()}_hideView(){const r=this.editor;this.stopListening(r.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const r=this.editor;wi(r.editing.view.document.selection)?this._isViewVisible&&no(r,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(r){return(m,P,M)=>{this._isReady&&this.editor.execute(r,{value:M,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(r){const{commandName:m,viewField:P,validator:M,errorText:Z}=r,ie=po(()=>{P.errorText=Z},500);return(me,ge,Ce)=>{ie.cancel(),this._isReady&&(M(Ce)?(this.editor.execute(m,{value:Ce,batch:this._undoStepBatch}),P.errorText=null):ie())}}}class Qo extends v.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[ro,Yo]}}function To(O){O.document.registerPostFixer(r=>function(m,P){const M=P.document.differ.getChanges();let Z=!1;for(const ie of M){if(ie.type!="insert")continue;const me=ie.position.parent;if(me.is("element","table")||ie.name=="table"){const ge=ie.name=="table"?ie.position.nodeAfter:me,Ce=Array.from(ge.getChildren()).filter(ot=>ot.is("element","caption")),Me=Ce.shift();if(!Me)continue;for(const ot of Ce)m.move(m.createRangeIn(ot),Me,"end"),m.remove(ot);Me.nextSibling&&(m.move(m.createRangeOn(Me),ge,"end"),Z=!0),Z=!!Ce.length||Z}}return Z}(r,O))}function Wo(O){return!!O&&O.is("element","table")}function Ao(O){for(const r of O.getChildren())if(r.is("element","caption"))return r;return null}function Eo(O){const r=O.parent;return O.name=="figcaption"&&r&&r.is("element","figure")&&r.hasClass("table")||O.name=="caption"&&r&&r.is("element","table")?{name:!0}:null}function jo(O){const r=O.getSelectedElement();return r&&r.is("element","table")?r:O.getFirstPosition().findAncestor("table")}class ke extends v.Command{refresh(){const r=jo(this.editor.model.document.selection);this.isEnabled=!!r,this.isEnabled?this.value=!!Ao(r):this.value=!1}execute({focusCaptionOnShow:r=!1}={}){this.editor.model.change(m=>{this.value?this._hideTableCaption(m):this._showTableCaption(m,r)})}_showTableCaption(r,m){const P=this.editor.model,M=jo(P.document.selection),Z=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(M)||r.createElement("caption");P.insertContent(Z,M,"end"),m&&r.setSelection(Z,"in")}_hideTableCaption(r){const m=this.editor.model,P=jo(m.document.selection),M=this.editor.plugins.get("TableCaptionEditing"),Z=Ao(P);M._saveCaption(P,Z),m.deleteContent(r.createSelection(Z,"on"))}}class ve extends v.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(r){super(r),this._savedCaptionsMap=new WeakMap}init(){const r=this.editor,m=r.model.schema,P=r.editing.view,M=r.t;m.isRegistered("caption")?m.extend("caption",{allowIn:"table"}):m.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),r.commands.add("toggleTableCaption",new ke(this.editor)),r.conversion.for("upcast").elementToElement({view:Eo,model:"caption"}),r.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Z,{writer:ie})=>Wo(Z.parent)?ie.createContainerElement("figcaption"):null}),r.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Z,{writer:ie})=>{if(!Wo(Z.parent))return null;const me=ie.createEditableElement("figcaption");return ie.setCustomProperty("tableCaption",!0,me),me.placeholder=M("Enter table caption"),(0,Ut.enablePlaceholder)({view:P,element:me,keepOnFocus:!0}),(0,A.toWidgetEditable)(me,ie)}}),To(r.model)}_getSavedCaption(r){const m=this._savedCaptionsMap.get(r);return m?Ut.Element.fromJSON(m):null}_saveCaption(r,m){this._savedCaptionsMap.set(r,m.toJSON())}}class Ke extends v.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const r=this.editor,m=r.editing.view,P=r.t;r.ui.componentFactory.add("toggleTableCaption",M=>{const Z=r.commands.get("toggleTableCaption"),ie=new he.ButtonView(M);return ie.set({icon:v.icons.caption,tooltip:!0,isToggleable:!0}),ie.bind("isOn","isEnabled").to(Z,"value","isEnabled"),ie.bind("label").to(Z,"value",me=>P(me?"Toggle caption off":"Toggle caption on")),this.listenTo(ie,"execute",()=>{if(r.execute("toggleTableCaption",{focusCaptionOnShow:!0}),Z.value){const me=function(Ce){const Me=jo(Ce);return Me?Ao(Me):null}(r.model.document.selection),ge=r.editing.mapper.toViewElement(me);if(!ge)return;m.scrollToTheSelection(),m.change(Ce=>{Ce.addClass("table__caption_highlighted",ge)})}r.editing.view.focus()}),ie})}}var jt=j(966),Si={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(jt.Z,Si),jt.Z.locals;class zi extends v.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[ve,Ke]}}const Gi=function(){this.__data__=[],this.size=0},$i=function(O,r){return O===r||O!=O&&r!=r},Qi=function(O,r){for(var m=O.length;m--;)if($i(O[m][0],r))return m;return-1};var gn=Array.prototype.splice;const Vo=function(O){var r=this.__data__,m=Qi(r,O);return!(m<0)&&(m==r.length-1?r.pop():gn.call(r,m,1),--this.size,!0)},co=function(O){var r=this.__data__,m=Qi(r,O);return m<0?void 0:r[m][1]},On=function(O){return Qi(this.__data__,O)>-1},uo=function(O,r){var m=this.__data__,P=Qi(m,O);return P<0?(++this.size,m.push([O,r])):m[P][1]=r,this};function Xn(O){var r=-1,m=O==null?0:O.length;for(this.clear();++r<m;){var P=O[r];this.set(P[0],P[1])}}Xn.prototype.clear=Gi,Xn.prototype.delete=Vo,Xn.prototype.get=co,Xn.prototype.has=On,Xn.prototype.set=uo;const An=Xn,zn=function(){this.__data__=new An,this.size=0},eo=function(O){var r=this.__data__,m=r.delete(O);return this.size=r.size,m},wn=function(O){return this.__data__.get(O)},kn=function(O){return this.__data__.has(O)},ho=function(O){if(!Bn(O))return!1;var r=Gt(O);return r=="[object Function]"||r=="[object GeneratorFunction]"||r=="[object AsyncFunction]"||r=="[object Proxy]"},No=g["__core-js_shared__"];var ur,xr=(ur=/[^.]+$/.exec(No&&No.keys&&No.keys.IE_PROTO||""))?"Symbol(src)_1."+ur:"";const wr=function(O){return!!xr&&xr in O};var Cr=Function.prototype.toString;const So=function(O){if(O!=null){try{return Cr.call(O)}catch{}try{return O+""}catch{}}return""};var Jo=/^\[object .+?Constructor\]$/,Tr=Function.prototype,Ar=Object.prototype,G=Tr.toString,a=Ar.hasOwnProperty,T=RegExp("^"+G.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const X=function(O){return!(!Bn(O)||wr(O))&&(ho(O)?T:Jo).test(So(O))},be=function(O,r){return O?.[r]},je=function(O,r){var m=be(O,r);return X(m)?m:void 0},Xe=je(g,"Map"),at=je(Object,"create"),Rt=function(){this.__data__=at?at(null):{},this.size=0},vi=function(O){var r=this.has(O)&&delete this.__data__[O];return this.size-=r?1:0,r};var Ji=Object.prototype.hasOwnProperty;const vn=function(O){var r=this.__data__;if(at){var m=r[O];return m==="__lodash_hash_undefined__"?void 0:m}return Ji.call(r,O)?r[O]:void 0};var Er=Object.prototype.hasOwnProperty;const Br=function(O){var r=this.__data__;return at?r[O]!==void 0:Er.call(r,O)},Dr=function(O,r){var m=this.__data__;return this.size+=this.has(O)?0:1,m[O]=at&&r===void 0?"__lodash_hash_undefined__":r,this};function Xo(O){var r=-1,m=O==null?0:O.length;for(this.clear();++r<m;){var P=O[r];this.set(P[0],P[1])}}Xo.prototype.clear=Rt,Xo.prototype.delete=vi,Xo.prototype.get=vn,Xo.prototype.has=Br,Xo.prototype.set=Dr;const ts=Xo,is=function(){this.size=0,this.__data__={hash:new ts,map:new(Xe||An),string:new ts}},zr=function(O){var r=typeof O;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?O!=="__proto__":O===null},hr=function(O,r){var m=O.__data__;return zr(r)?m[typeof r=="string"?"string":"hash"]:m.map},ns=function(O){var r=hr(this,O).delete(O);return this.size-=r?1:0,r},os=function(O){return hr(this,O).get(O)},rs=function(O){return hr(this,O).has(O)},Vs=function(O,r){var m=hr(this,O),P=m.size;return m.set(O,r),this.size+=m.size==P?0:1,this};function er(O){var r=-1,m=O==null?0:O.length;for(this.clear();++r<m;){var P=O[r];this.set(P[0],P[1])}}er.prototype.clear=is,er.prototype.delete=ns,er.prototype.get=os,er.prototype.has=rs,er.prototype.set=Vs;const Fr=er,ss=function(O,r){var m=this.__data__;if(m instanceof An){var P=m.__data__;if(!Xe||P.length<199)return P.push([O,r]),this.size=++m.size,this;m=this.__data__=new Fr(P)}return m.set(O,r),this.size=m.size,this};function gr(O){var r=this.__data__=new An(O);this.size=r.size}gr.prototype.clear=zn,gr.prototype.delete=eo,gr.prototype.get=wn,gr.prototype.has=kn,gr.prototype.set=ss;const tr=gr,Sr=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},Ns=function(O){return this.__data__.has(O)};function Ir(O){var r=-1,m=O==null?0:O.length;for(this.__data__=new Fr;++r<m;)this.add(O[r])}Ir.prototype.add=Ir.prototype.push=Sr,Ir.prototype.has=Ns;const ir=Ir,Bs=function(O,r){for(var m=-1,P=O==null?0:O.length;++m<P;)if(r(O[m],m,O))return!0;return!1},Ds=function(O,r){return O.has(r)},as=function(O,r,m,P,M,Z){var ie=1&m,me=O.length,ge=r.length;if(me!=ge&&!(ie&&ge>me))return!1;var Ce=Z.get(O),Me=Z.get(r);if(Ce&&Me)return Ce==r&&Me==O;var ot=-1,ft=!0,Vt=2&m?new ir:void 0;for(Z.set(O,r),Z.set(r,O);++ot<me;){var $t=O[ot],Ft=r[ot];if(P)var ti=ie?P(Ft,$t,ot,r,O,Z):P($t,Ft,ot,O,r,Z);if(ti!==void 0){if(ti)continue;ft=!1;break}if(Vt){if(!Bs(r,function(ci,_i){if(!Ds(Vt,_i)&&($t===ci||M($t,ci,m,P,Z)))return Vt.push(_i)})){ft=!1;break}}else if($t!==Ft&&!M($t,Ft,m,P,Z)){ft=!1;break}}return Z.delete(O),Z.delete(r),ft},ls=g.Uint8Array,zs=function(O){var r=-1,m=Array(O.size);return O.forEach(function(P,M){m[++r]=[M,P]}),m},Fs=function(O){var r=-1,m=Array(O.size);return O.forEach(function(P){m[++r]=P}),m};var cs=fe?fe.prototype:void 0,Hr=cs?cs.valueOf:void 0;const Hs=function(O,r,m,P,M,Z,ie){switch(m){case"[object DataView]":if(O.byteLength!=r.byteLength||O.byteOffset!=r.byteOffset)return!1;O=O.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(O.byteLength!=r.byteLength||!Z(new ls(O),new ls(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $i(+O,+r);case"[object Error]":return O.name==r.name&&O.message==r.message;case"[object RegExp]":case"[object String]":return O==r+"";case"[object Map]":var me=zs;case"[object Set]":var ge=1&P;if(me||(me=Fs),O.size!=r.size&&!ge)return!1;var Ce=ie.get(O);if(Ce)return Ce==r;P|=2,ie.set(O,r);var Me=as(me(O),me(r),P,M,Z,ie);return ie.delete(O),Me;case"[object Symbol]":if(Hr)return Hr.call(O)==Hr.call(r)}return!1},nr=function(O,r){for(var m=-1,P=r.length,M=O.length;++m<P;)O[M+m]=r[m];return O},Pr=Array.isArray,Us=function(O,r,m){var P=r(O);return Pr(O)?P:nr(P,m(O))},ds=function(O,r){for(var m=-1,P=O==null?0:O.length,M=0,Z=[];++m<P;){var ie=O[m];r(ie,m,O)&&(Z[M++]=ie)}return Z},Ws=function(){return[]};var Zs=Object.prototype.propertyIsEnumerable,us=Object.getOwnPropertySymbols;const hs=us?function(O){return O==null?[]:(O=Object(O),ds(us(O),function(r){return Zs.call(O,r)}))}:Ws,$s=function(O,r){for(var m=-1,P=Array(O);++m<O;)P[m]=r(m);return P},gs=function(O){return ui(O)&&Gt(O)=="[object Arguments]"};var Ur=Object.prototype,qs=Ur.hasOwnProperty,Ks=Ur.propertyIsEnumerable;const ms=gs(function(){return arguments}())?gs:function(O){return ui(O)&&qs.call(O,"callee")&&!Ks.call(O,"callee")},Gs=function(){return!1};var ps=Zt&&!Zt.nodeType&&Zt,Or=ps&&!0&&Jt&&!Jt.nodeType&&Jt,Wr=Or&&Or.exports===ps?g.Buffer:void 0;const Zn=(Wr?Wr.isBuffer:void 0)||Gs;var Zr=/^(?:0|[1-9]\d*)$/;const fs=function(O,r){var m=typeof O;return!!(r=r??9007199254740991)&&(m=="number"||m!="symbol"&&Zr.test(O))&&O>-1&&O%1==0&&O<r},mr=function(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=9007199254740991};var pn={};pn["[object Float32Array]"]=pn["[object Float64Array]"]=pn["[object Int8Array]"]=pn["[object Int16Array]"]=pn["[object Int32Array]"]=pn["[object Uint8Array]"]=pn["[object Uint8ClampedArray]"]=pn["[object Uint16Array]"]=pn["[object Uint32Array]"]=!0,pn["[object Arguments]"]=pn["[object Array]"]=pn["[object ArrayBuffer]"]=pn["[object Boolean]"]=pn["[object DataView]"]=pn["[object Date]"]=pn["[object Error]"]=pn["[object Function]"]=pn["[object Map]"]=pn["[object Number]"]=pn["[object Object]"]=pn["[object RegExp]"]=pn["[object Set]"]=pn["[object String]"]=pn["[object WeakMap]"]=!1;const kr=function(O){return ui(O)&&mr(O.length)&&!!pn[Gt(O)]},vr=function(O){return function(r){return O(r)}};var $r=Zt&&!Zt.nodeType&&Zt,en=$r&&!0&&Jt&&!Jt.nodeType&&Jt,En=en&&en.exports===$r&&io.process,dn=function(){try{var O=en&&en.require&&en.require("util").types;return O||En&&En.binding&&En.binding("util")}catch{}}(),_n=dn&&dn.isTypedArray;const Fn=_n?vr(_n):kr;var bs=Object.prototype.hasOwnProperty;const Cn=function(O,r){var m=Pr(O),P=!m&&ms(O),M=!m&&!P&&Zn(O),Z=!m&&!P&&!M&&Fn(O),ie=m||P||M||Z,me=ie?$s(O.length,String):[],ge=me.length;for(var Ce in O)!r&&!bs.call(O,Ce)||ie&&(Ce=="length"||M&&(Ce=="offset"||Ce=="parent")||Z&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||fs(Ce,ge))||me.push(Ce);return me};var In=Object.prototype;const $n=function(O){var r=O&&O.constructor;return O===(typeof r=="function"&&r.prototype||In)},Io=function(O,r){return function(m){return O(r(m))}}(Object.keys,Object);var vo=Object.prototype.hasOwnProperty;const go=function(O){if(!$n(O))return Io(O);var r=[];for(var m in Object(O))vo.call(O,m)&&m!="constructor"&&r.push(m);return r},ws=function(O){return O!=null&&mr(O.length)&&!ho(O)},qr=function(O){return ws(O)?Cn(O):go(O)},rn=function(O){return Us(O,qr,hs)};var Ys=Object.prototype.hasOwnProperty;const ks=function(O,r,m,P,M,Z){var ie=1&m,me=rn(O),ge=me.length;if(ge!=rn(r).length&&!ie)return!1;for(var Ce=ge;Ce--;){var Me=me[Ce];if(!(ie?Me in r:Ys.call(r,Me)))return!1}var ot=Z.get(O),ft=Z.get(r);if(ot&&ft)return ot==r&&ft==O;var Vt=!0;Z.set(O,r),Z.set(r,O);for(var $t=ie;++Ce<ge;){var Ft=O[Me=me[Ce]],ti=r[Me];if(P)var ci=ie?P(ti,Ft,Me,r,O,Z):P(Ft,ti,Me,O,r,Z);if(!(ci===void 0?Ft===ti||M(Ft,ti,m,P,Z):ci)){Vt=!1;break}$t||($t=Me=="constructor")}if(Vt&&!$t){var _i=O.constructor,Vi=r.constructor;_i==Vi||!("constructor"in O)||!("constructor"in r)||typeof _i=="function"&&_i instanceof _i&&typeof Vi=="function"&&Vi instanceof Vi||(Vt=!1)}return Z.delete(O),Z.delete(r),Vt},Kr=je(g,"DataView"),Gr=je(g,"Promise"),Lr=je(g,"Set"),Mr=je(g,"WeakMap");var Yr="[object Map]",Qr="[object Promise]",or="[object Set]",Hn="[object WeakMap]",vs="[object DataView]",Qs=So(Kr),pr=So(Xe),Js=So(Gr),Xs=So(Lr),ea=So(Mr),Zo=Gt;(Kr&&Zo(new Kr(new ArrayBuffer(1)))!=vs||Xe&&Zo(new Xe)!=Yr||Gr&&Zo(Gr.resolve())!=Qr||Lr&&Zo(new Lr)!=or||Mr&&Zo(new Mr)!=Hn)&&(Zo=function(O){var r=Gt(O),m=r=="[object Object]"?O.constructor:void 0,P=m?So(m):"";if(P)switch(P){case Qs:return vs;case pr:return Yr;case Js:return Qr;case Xs:return or;case ea:return Hn}return r});const _s=Zo;var ys="[object Arguments]",Jr="[object Array]",_r="[object Object]",xs=Object.prototype.hasOwnProperty;const Cs=function(O,r,m,P,M,Z){var ie=Pr(O),me=Pr(r),ge=ie?Jr:_s(O),Ce=me?Jr:_s(r),Me=(ge=ge==ys?_r:ge)==_r,ot=(Ce=Ce==ys?_r:Ce)==_r,ft=ge==Ce;if(ft&&Zn(O)){if(!Zn(r))return!1;ie=!0,Me=!1}if(ft&&!Me)return Z||(Z=new tr),ie||Fn(O)?as(O,r,m,P,M,Z):Hs(O,r,ge,m,P,M,Z);if(!(1&m)){var Vt=Me&&xs.call(O,"__wrapped__"),$t=ot&&xs.call(r,"__wrapped__");if(Vt||$t){var Ft=Vt?O.value():O,ti=$t?r.value():r;return Z||(Z=new tr),M(Ft,ti,m,P,Z)}}return!!ft&&(Z||(Z=new tr),ks(O,r,m,P,M,Z))},ta=function O(r,m,P,M,Z){return r===m||(r==null||m==null||!ui(r)&&!ui(m)?r!=r&&m!=m:Cs(r,m,P,M,O,Z))},Ts=function(O,r){return ta(O,r)},As=function(O,r,m){var P=!0,M=!0;if(typeof O!="function")throw new TypeError("Expected a function");return Bn(m)&&(P="leading"in m?!!m.leading:P,M="trailing"in m?!!m.trailing:M),po(O,r,{leading:P,maxWait:r,trailing:M})};class Rr extends v.Command{refresh(){this.isEnabled=!0}execute(r={}){const{model:m,plugins:P}=this.editor;let{table:M=m.document.selection.getSelectedElement(),columnWidths:Z,tableWidth:ie}=r;Z&&(Z=Array.isArray(Z)?Z:Z.split(",")),m.change(me=>{ie?me.setAttribute("tableWidth",ie,M):me.removeAttribute("tableWidth",M);const ge=P.get("TableColumnResizeEditing").getColumnGroupElement(M);if(!Z&&!ge)return;if(!Z)return me.remove(ge);const Ce=ut(Z);if(ge)Array.from(ge.getChildren()).forEach((Me,ot)=>me.setAttribute("columnWidth",Ce[ot],Me));else{const Me=me.createElement("tableColumnGroup");Ce.forEach(ot=>me.appendElement("tableColumn",{columnWidth:ot},Me)),me.append(Me,M)}})}}function ia(O){return r=>r.on("element:colgroup",(m,P,M)=>{const Z=P.modelCursor.findAncestor("table"),ie=Qt(Z);if(!ie)return;const me=yt(ie),ge=O.getColumns(Z);let Ce=(Me=ie,ot=M.writer,yt(Me).reduce((ft,Vt)=>{const $t=Vt.getAttribute("columnWidth"),Ft=Vt.getAttribute("colSpan");if(!Ft)return ft.push($t),ft;for(let ti=0;ti<Ft;ti++)ft.push($t);return ot.removeAttribute("colSpan",Vt),ft},[]));var Me,ot;Ce=Array.from({length:ge},(ft,Vt)=>Ce[Vt]||"auto"),(Ce.length!=me.length||Ce.includes("auto"))&&Lt(me,ie,ut(Ce),M.writer)},{priority:"low"})}class Es extends v.Plugin{static get requires(){return[Ui,Tt]}static get pluginName(){return"TableColumnResizeEditing"}constructor(r){super(r),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new((0,Y.DomEmitterMixin)()),this._tableUtilsPlugin=r.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(m,P,M)=>{const Z=M?"removeClass":"addClass";r.editing.view.change(ie=>{for(const me of r.editing.view.document.roots)ie[Z]("ck-column-resize_disabled",r.editing.view.document.getRoot(me.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const r=this.editor,m=r.plugins.get("TableColumnResize");r.plugins.get("TableEditing").registerAdditionalSlot({filter:M=>M.is("element","tableColumnGroup"),positionOffset:0});const P=new Rr(r);r.commands.add("resizeTableWidth",P),r.commands.add("resizeColumnWidths",P),this.bind("_isResizingAllowed").to(r,"isReadOnly",m,"isEnabled",P,"isEnabled",(M,Z,ie)=>!M&&Z&&ie)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(r){return Qt(r)}getTableColumnElements(r){return yt(r)}getTableColumnsWidths(r){return function(m){return yt(m).map(P=>P.getAttribute("columnWidth"))}(r)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const r=this.editor.model;function m(P,M,Z){const ie=Z._tableUtilsPlugin.getColumns(M);if(ie-P.length===0)return P;const me=P.map(Me=>Number(Me.replace("%",""))),ge=function(Me,ot){const ft=new Set;for(const Vt of Me.getChanges())if(Vt.type=="insert"&&Vt.position.nodeAfter&&Vt.position.nodeAfter.name=="tableCell"&&Vt.position.nodeAfter.getAncestors().includes(ot))ft.add(Vt.position.nodeAfter);else if(Vt.type=="remove"){const $t=Vt.position.nodeBefore||Vt.position.nodeAfter;$t.name=="tableCell"&&$t.getAncestors().includes(ot)&&ft.add($t)}return ft}(Z.editor.model.document.differ,M);for(const Me of ge){const ot=ie-me.length;if(ot===0)continue;const ft=ot>0,Vt=Z._tableUtilsPlugin.getCellLocation(Me).column;if(ft){const $t=de(M,Z.editor),Ft=(Ce=$t,Array(ot).fill(Ce));me.splice(Vt,0,...Ft)}else{const $t=me.splice(Vt,Math.abs(ot));me[Vt]+=Ve($t)}}var Ce;return me.map(Me=>Me+"%")}r.document.registerPostFixer(P=>{let M=!1;for(const Z of function(ie){const me=new Set;for(const ge of ie.document.differ.getChanges()){let Ce=null;switch(ge.type){case"insert":Ce=["table","tableRow","tableCell"].includes(ge.name)?ge.position:null;break;case"remove":Ce=["tableRow","tableCell"].includes(ge.name)?ge.position:null;break;case"attribute":ge.range.start.nodeAfter&&(Ce=["table","tableRow","tableCell"].includes(ge.range.start.nodeAfter.name)?ge.range.start:null)}if(!Ce)continue;const Me=Ce.nodeAfter&&Ce.nodeAfter.is("element","table")?Ce.nodeAfter:Ce.findAncestor("table");for(const ot of ie.createRangeOn(Me).getItems())ot.is("element","table")&&Qt(ot)&&me.add(ot)}return me}(r)){const ie=this.getColumnGroupElement(Z),me=this.getTableColumnElements(ie),ge=this.getTableColumnsWidths(ie);let Ce=ut(ge);Ce=m(Ce,Z,this),Ts(ge,Ce)||(Lt(me,ie,Ce,P),M=!0)}return M})}_registerConverters(){const r=this.editor.conversion;r.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:m=>m.getStyle("width")}}),r.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:m=>({name:"figure",key:"style",value:{width:m}})}),r.elementToElement({model:"tableColumnGroup",view:"colgroup"}),r.elementToElement({model:"tableColumn",view:"col"}),r.for("downcast").add(m=>m.on("insert:table",(P,M,Z)=>{const ie=Z.writer,me=M.item,ge=Z.mapper.toViewElement(me),Ce=ge.is("element","table")?ge:Array.from(ge.getChildren()).find(Me=>Me.is("element","table"));Qt(me)?ie.addClass("ck-table-resized",Ce):ie.removeClass("ck-table-resized",Ce)},{priority:"low"})),r.for("upcast").add(ia(this._tableUtilsPlugin)),r.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:m=>{const P=m.getStyle("width");return P&&(P.endsWith("%")||P.endsWith("pt"))?P:"auto"}}}),r.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),r.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:m=>({key:"style",value:{width:m}})})}_registerResizingListeners(){const r=this.editor.editing.view;r.addObserver(Ae),r.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(Y.global.window.document,"mousemove",As(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(Y.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(r,m){const P=m.target;if(!P.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const M=this.editor,Z=M.editing.mapper.toModelElement(P.findAncestor("figure"));if(!M.model.canEditAt(Z))return;m.preventDefault(),r.stop();const ie=function(Ce,Me,ot){const ft=Array(Me.getColumns(Ce)),Vt=new b(Ce);for(const $t of Vt){const Ft=ot.editing.mapper.toViewElement($t.cell),ti=St(ot.editing.view.domConverter.mapViewToDom(Ft));(!ft[$t.column]||ti<ft[$t.column])&&(ft[$t.column]=Fe(ti))}return ft}(Z,this._tableUtilsPlugin,M),me=P.findAncestor("table"),ge=M.editing.view;Array.from(me.getChildren()).find(Ce=>Ce.is("element","colgroup"))||ge.change(Ce=>{(function(Me,ot,ft){const Vt=Me.createContainerElement("colgroup");for(let $t=0;$t<ot.length;$t++){const Ft=Me.createEmptyElement("col"),ti=`${Fe(ot[$t]/Ve(ot)*100)}%`;Me.setStyle("width",ti,Ft),Me.insert(Me.createPositionAt(Vt,"end"),Ft)}Me.insert(Me.createPositionAt(ft,0),Vt)})(Ce,ie,me)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(m,ie),ge.change(Ce=>function(Me,ot,ft){const Vt=ft.widths.viewFigureWidth/ft.widths.viewFigureParentWidth;Me.addClass("ck-table-resized",ot),Me.addClass("ck-table-column-resizer__active",ft.elements.viewResizer),Me.setStyle("width",`${Fe(100*Vt)}%`,ot.findAncestor("figure"))}(Ce,me,this._resizingData))}_onMouseMoveHandler(r,m){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:P,flags:{isRightEdge:M,isTableCentered:Z,isLtrContent:ie},elements:{viewFigure:me,viewLeftColumn:ge,viewRightColumn:Ce},widths:{viewFigureParentWidth:Me,tableWidth:ot,leftColumnWidth:ft,rightColumnWidth:Vt}}=this._resizingData,$t=40-ft,Ft=M?Me-ot:Vt-40,ti=(ie?1:-1)*(M&&Z?2:1),ci=(_i=(m.clientX-P)*ti,Vi=Math.min($t,0),tn=Math.max(Ft,0),Fe(_i<=Vi?Vi:_i>=tn?tn:_i));var _i,Vi,tn;ci!==0&&this.editor.editing.view.change(fn=>{const Ln=Fe(100*(ft+ci)/ot);if(fn.setStyle("width",`${Ln}%`,ge),M){const un=Fe(100*(ot+ci)/Me);fn.setStyle("width",`${un}%`,me)}else{const un=Fe(100*(Vt-ci)/ot);fn.setStyle("width",`${un}%`,Ce)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:r,modelTable:m,viewFigure:P,viewColgroup:M}=this._resizingData.elements,Z=this.editor,ie=Z.editing.view,me=this.getColumnGroupElement(m),ge=Array.from(M.getChildren()).filter(Ft=>Ft.is("view:element")),Ce=me?this.getTableColumnsWidths(me):null,Me=ge.map(Ft=>Ft.getStyle("width")),ot=!Ts(Ce,Me),ft=m.getAttribute("tableWidth"),Vt=P.getStyle("width"),$t=ft!==Vt;(ot||$t)&&(this._isResizingAllowed?Z.execute("resizeTableWidth",{table:m,tableWidth:`${Fe(Vt)}%`,columnWidths:Me}):ie.change(Ft=>{if(Ce)for(const ti of ge)Ft.setStyle("width",Ce.shift(),ti);else Ft.remove(M);$t&&(ft?Ft.setStyle("width",ft,P):Ft.removeStyle("width",P)),Ce||ft||Ft.removeClass("ck-table-resized",[...P.getChildren()].find(ti=>ti.name==="table"))})),ie.change(Ft=>{Ft.removeClass("ck-table-column-resizer__active",r)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(r,m){const P=this.editor,M=r.domEvent.clientX,Z=r.target,ie=Z.findAncestor("td")||Z.findAncestor("th"),me=P.editing.mapper.toModelElement(ie),ge=me.findAncestor("table"),Ce=function(_i,Vi){const tn=Vi.getCellLocation(_i).column;return{leftEdge:tn,rightEdge:tn+(_i.getAttribute("colspan")||1)-1}}(me,this._tableUtilsPlugin).rightEdge,Me=Ce===this._tableUtilsPlugin.getColumns(ge)-1,ot=!ge.hasAttribute("tableAlignment"),ft=P.locale.contentLanguageDirection!=="rtl",Vt=ie.findAncestor("table"),$t=Vt.findAncestor("figure"),Ft=[...Vt.getChildren()].find(_i=>_i.is("element","colgroup")),ti=Ft.getChild(Ce),ci=Me?void 0:Ft.getChild(Ce+1);return{columnPosition:M,flags:{isRightEdge:Me,isTableCentered:ot,isLtrContent:ft},elements:{viewResizer:Z,modelTable:ge,viewFigure:$t,viewColgroup:Ft,viewLeftColumn:ti,viewRightColumn:ci},widths:{viewFigureParentWidth:Ge(P.editing.view.domConverter.mapViewToDom($t.parent)),viewFigureWidth:Ge(P.editing.view.domConverter.mapViewToDom($t)),tableWidth:we(ge,P),leftColumnWidth:m[Ce],rightColumnWidth:Me?void 0:m[Ce+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(r=>{r.on("insert:tableCell",(m,P,M)=>{const Z=P.item,ie=M.mapper.toViewElement(Z),me=M.writer;me.insert(me.createPositionAt(ie,"end"),me.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var Ss=j(387),Is={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ss.Z,Is),Ss.Z.locals;class na extends v.Plugin{static get requires(){return[Es,Mo]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=I})()},99452:(Jt,Zt,ae)=>{Jt=ae.nmd(Jt),function(Yt){const p=Yt.en=Yt.en||{};p.dictionary=Object.assign(p.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Dim grey":"Dim grey","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar",Green:"Green",Grey:"Grey",HEX:"HEX","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Next:"Next",Orange:"Orange","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Yt={"./node_modules/color-convert/conversions.js":(v,A,l)=>{const c=l("./node_modules/color-name/index.js"),L={};for(const y of Object.keys(c))L[c[y]]=y;const z={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};v.exports=z;for(const y of Object.keys(z)){if(!("channels"in z[y]))throw new Error("missing channels property: "+y);if(!("labels"in z[y]))throw new Error("missing channel labels property: "+y);if(z[y].labels.length!==z[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:h,labels:V}=z[y];delete z[y].channels,delete z[y].labels,Object.defineProperty(z[y],"channels",{value:h}),Object.defineProperty(z[y],"labels",{value:V})}z.rgb.hsl=function(y){const h=y[0]/255,V=y[1]/255,$=y[2]/255,J=Math.min(h,V,$),Y=Math.max(h,V,$),le=Y-J;let q,d;Y===J?q=0:h===Y?q=(V-$)/le:V===Y?q=2+($-h)/le:$===Y&&(q=4+(h-V)/le),q=Math.min(60*q,360),q<0&&(q+=360);const b=(J+Y)/2;return d=Y===J?0:b<=.5?le/(Y+J):le/(2-Y-J),[q,100*d,100*b]},z.rgb.hsv=function(y){let h,V,$,J,Y;const le=y[0]/255,q=y[1]/255,d=y[2]/255,b=Math.max(le,q,d),_=b-Math.min(le,q,d),w=function(E){return(b-E)/6/_+.5};return _===0?(J=0,Y=0):(Y=_/b,h=w(le),V=w(q),$=w(d),le===b?J=$-V:q===b?J=.3333333333333333+h-$:d===b&&(J=.6666666666666666+V-h),J<0?J+=1:J>1&&(J-=1)),[360*J,100*Y,100*b]},z.rgb.hwb=function(y){const h=y[0],V=y[1];let $=y[2];const J=z.rgb.hsl(y)[0],Y=1/255*Math.min(h,Math.min(V,$));return $=1-.00392156862745098*Math.max(h,Math.max(V,$)),[J,100*Y,100*$]},z.rgb.cmyk=function(y){const h=y[0]/255,V=y[1]/255,$=y[2]/255,J=Math.min(1-h,1-V,1-$);return[100*((1-h-J)/(1-J)||0),100*((1-V-J)/(1-J)||0),100*((1-$-J)/(1-J)||0),100*J]},z.rgb.keyword=function(y){const h=L[y];if(h)return h;let V,$=1/0;for(const le of Object.keys(c)){const q=c[le],d=(Y=q,((J=y)[0]-Y[0])**2+(J[1]-Y[1])**2+(J[2]-Y[2])**2);d<$&&($=d,V=le)}var J,Y;return V},z.keyword.rgb=function(y){return c[y]},z.rgb.xyz=function(y){let h=y[0]/255,V=y[1]/255,$=y[2]/255;return h=h>.04045?((h+.055)/1.055)**2.4:h/12.92,V=V>.04045?((V+.055)/1.055)**2.4:V/12.92,$=$>.04045?(($+.055)/1.055)**2.4:$/12.92,[100*(.4124*h+.3576*V+.1805*$),100*(.2126*h+.7152*V+.0722*$),100*(.0193*h+.1192*V+.9505*$)]},z.rgb.lab=function(y){const h=z.rgb.xyz(y);let V=h[0],$=h[1],J=h[2];return V/=95.047,$/=100,J/=108.883,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,J=J>.008856?J**.3333333333333333:7.787*J+.13793103448275862,[116*$-16,500*(V-$),200*($-J)]},z.hsl.rgb=function(y){const h=y[0]/360,V=y[1]/100,$=y[2]/100;let J,Y,le;if(V===0)return le=255*$,[le,le,le];J=$<.5?$*(1+V):$+V-$*V;const q=2*$-J,d=[0,0,0];for(let b=0;b<3;b++)Y=h+.3333333333333333*-(b-1),Y<0&&Y++,Y>1&&Y--,le=6*Y<1?q+6*(J-q)*Y:2*Y<1?J:3*Y<2?q+(J-q)*(.6666666666666666-Y)*6:q,d[b]=255*le;return d},z.hsl.hsv=function(y){const h=y[0];let V=y[1]/100,$=y[2]/100,J=V;const Y=Math.max($,.01);return $*=2,V*=$<=1?$:2-$,J*=Y<=1?Y:2-Y,[h,100*($===0?2*J/(Y+J):2*V/($+V)),100*(($+V)/2)]},z.hsv.rgb=function(y){const h=y[0]/60,V=y[1]/100;let $=y[2]/100;const J=Math.floor(h)%6,Y=h-Math.floor(h),le=255*$*(1-V),q=255*$*(1-V*Y),d=255*$*(1-V*(1-Y));switch($*=255,J){case 0:return[$,d,le];case 1:return[q,$,le];case 2:return[le,$,d];case 3:return[le,q,$];case 4:return[d,le,$];case 5:return[$,le,q]}},z.hsv.hsl=function(y){const h=y[0],V=y[1]/100,$=y[2]/100,J=Math.max($,.01);let Y,le;le=(2-V)*$;const q=(2-V)*J;return Y=V*J,Y/=q<=1?q:2-q,Y=Y||0,le/=2,[h,100*Y,100*le]},z.hwb.rgb=function(y){const h=y[0]/360;let V=y[1]/100,$=y[2]/100;const J=V+$;let Y;J>1&&(V/=J,$/=J);const le=Math.floor(6*h),q=1-$;Y=6*h-le,1&le&&(Y=1-Y);const d=V+Y*(q-V);let b,_,w;switch(le){default:case 6:case 0:b=q,_=d,w=V;break;case 1:b=d,_=q,w=V;break;case 2:b=V,_=q,w=d;break;case 3:b=V,_=d,w=q;break;case 4:b=d,_=V,w=q;break;case 5:b=q,_=V,w=d}return[255*b,255*_,255*w]},z.cmyk.rgb=function(y){const h=y[0]/100,V=y[1]/100,$=y[2]/100,J=y[3]/100;return[255*(1-Math.min(1,h*(1-J)+J)),255*(1-Math.min(1,V*(1-J)+J)),255*(1-Math.min(1,$*(1-J)+J))]},z.xyz.rgb=function(y){const h=y[0]/100,V=y[1]/100,$=y[2]/100;let J,Y,le;return J=3.2406*h+-1.5372*V+-.4986*$,Y=-.9689*h+1.8758*V+.0415*$,le=.0557*h+-.204*V+1.057*$,J=J>.0031308?1.055*J**.4166666666666667-.055:12.92*J,Y=Y>.0031308?1.055*Y**.4166666666666667-.055:12.92*Y,le=le>.0031308?1.055*le**.4166666666666667-.055:12.92*le,J=Math.min(Math.max(0,J),1),Y=Math.min(Math.max(0,Y),1),le=Math.min(Math.max(0,le),1),[255*J,255*Y,255*le]},z.xyz.lab=function(y){let h=y[0],V=y[1],$=y[2];return h/=95.047,V/=100,$/=108.883,h=h>.008856?h**.3333333333333333:7.787*h+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,[116*V-16,500*(h-V),200*(V-$)]},z.lab.xyz=function(y){let h,V,$;V=(y[0]+16)/116,h=y[1]/500+V,$=V-y[2]/200;const J=V**3,Y=h**3,le=$**3;return V=J>.008856?J:(V-.13793103448275862)/7.787,h=Y>.008856?Y:(h-.13793103448275862)/7.787,$=le>.008856?le:($-.13793103448275862)/7.787,h*=95.047,V*=100,$*=108.883,[h,V,$]},z.lab.lch=function(y){const h=y[0],V=y[1],$=y[2];let J;return J=360*Math.atan2($,V)/2/Math.PI,J<0&&(J+=360),[h,Math.sqrt(V*V+$*$),J]},z.lch.lab=function(y){const h=y[0],V=y[1],$=y[2]/360*2*Math.PI;return[h,V*Math.cos($),V*Math.sin($)]},z.rgb.ansi16=function(y,h=null){const[V,$,J]=y;let Y=h===null?z.rgb.hsv(y)[2]:h;if(Y=Math.round(Y/50),Y===0)return 30;let le=30+(Math.round(J/255)<<2|Math.round($/255)<<1|Math.round(V/255));return Y===2&&(le+=60),le},z.hsv.ansi16=function(y){return z.rgb.ansi16(z.hsv.rgb(y),y[2])},z.rgb.ansi256=function(y){const h=y[0],V=y[1],$=y[2];return h===V&&V===$?h<8?16:h>248?231:Math.round((h-8)/247*24)+232:16+36*Math.round(h/255*5)+6*Math.round(V/255*5)+Math.round($/255*5)},z.ansi16.rgb=function(y){let h=y%10;if(h===0||h===7)return y>50&&(h+=3.5),h=h/10.5*255,[h,h,h];const V=.5*(1+~~(y>50));return[(1&h)*V*255,(h>>1&1)*V*255,(h>>2&1)*V*255]},z.ansi256.rgb=function(y){if(y>=232){const V=10*(y-232)+8;return[V,V,V]}let h;return y-=16,[Math.floor(y/36)/5*255,Math.floor((h=y%36)/6)/5*255,h%6/5*255]},z.rgb.hex=function(y){const h=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(h.length)+h},z.hex.rgb=function(y){const h=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!h)return[0,0,0];let V=h[0];h[0].length===3&&(V=V.split("").map(J=>J+J).join(""));const $=parseInt(V,16);return[$>>16&255,$>>8&255,255&$]},z.rgb.hcg=function(y){const h=y[0]/255,V=y[1]/255,$=y[2]/255,J=Math.max(Math.max(h,V),$),Y=Math.min(Math.min(h,V),$),le=J-Y;let q,d;return q=le<1?Y/(1-le):0,d=le<=0?0:J===h?(V-$)/le%6:J===V?2+($-h)/le:4+(h-V)/le,d/=6,d%=1,[360*d,100*le,100*q]},z.hsl.hcg=function(y){const h=y[1]/100,V=y[2]/100,$=V<.5?2*h*V:2*h*(1-V);let J=0;return $<1&&(J=(V-.5*$)/(1-$)),[y[0],100*$,100*J]},z.hsv.hcg=function(y){const h=y[1]/100,V=y[2]/100,$=h*V;let J=0;return $<1&&(J=(V-$)/(1-$)),[y[0],100*$,100*J]},z.hcg.rgb=function(y){const h=y[0]/360,V=y[1]/100,$=y[2]/100;if(V===0)return[255*$,255*$,255*$];const J=[0,0,0],Y=h%1*6,le=Y%1,q=1-le;let d=0;switch(Math.floor(Y)){case 0:J[0]=1,J[1]=le,J[2]=0;break;case 1:J[0]=q,J[1]=1,J[2]=0;break;case 2:J[0]=0,J[1]=1,J[2]=le;break;case 3:J[0]=0,J[1]=q,J[2]=1;break;case 4:J[0]=le,J[1]=0,J[2]=1;break;default:J[0]=1,J[1]=0,J[2]=q}return d=(1-V)*$,[255*(V*J[0]+d),255*(V*J[1]+d),255*(V*J[2]+d)]},z.hcg.hsv=function(y){const h=y[1]/100,V=h+y[2]/100*(1-h);let $=0;return V>0&&($=h/V),[y[0],100*$,100*V]},z.hcg.hsl=function(y){const h=y[1]/100,V=y[2]/100*(1-h)+.5*h;let $=0;return V>0&&V<.5?$=h/(2*V):V>=.5&&V<1&&($=h/(2*(1-V))),[y[0],100*$,100*V]},z.hcg.hwb=function(y){const h=y[1]/100,V=h+y[2]/100*(1-h);return[y[0],100*(V-h),100*(1-V)]},z.hwb.hcg=function(y){const h=y[1]/100,V=1-y[2]/100,$=V-h;let J=0;return $<1&&(J=(V-$)/(1-$)),[y[0],100*$,100*J]},z.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},z.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},z.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},z.gray.hsl=function(y){return[0,0,y[0]]},z.gray.hsv=z.gray.hsl,z.gray.hwb=function(y){return[0,100,y[0]]},z.gray.cmyk=function(y){return[0,0,0,y[0]]},z.gray.lab=function(y){return[y[0],0,0]},z.gray.hex=function(y){const h=255&Math.round(y[0]/100*255),V=((h<<16)+(h<<8)+h).toString(16).toUpperCase();return"000000".substring(V.length)+V},z.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},"./node_modules/color-convert/index.js":(v,A,l)=>{const c=l("./node_modules/color-convert/conversions.js"),L=l("./node_modules/color-convert/route.js"),z={};Object.keys(c).forEach(y=>{z[y]={},Object.defineProperty(z[y],"channels",{value:c[y].channels}),Object.defineProperty(z[y],"labels",{value:c[y].labels});const h=L(y);Object.keys(h).forEach(V=>{const $=h[V];z[y][V]=function(J){const Y=function(...le){const q=le[0];if(q==null)return q;q.length>1&&(le=q);const d=J(le);if(typeof d=="object")for(let b=d.length,_=0;_<b;_++)d[_]=Math.round(d[_]);return d};return"conversion"in J&&(Y.conversion=J.conversion),Y}($),z[y][V].raw=function(J){const Y=function(...le){const q=le[0];return q==null?q:(q.length>1&&(le=q),J(le))};return"conversion"in J&&(Y.conversion=J.conversion),Y}($)})}),v.exports=z},"./node_modules/color-convert/route.js":(v,A,l)=>{const c=l("./node_modules/color-convert/conversions.js");function L(h){const V=function(){const J={},Y=Object.keys(c);for(let le=Y.length,q=0;q<le;q++)J[Y[q]]={distance:-1,parent:null};return J}(),$=[h];for(V[h].distance=0;$.length;){const J=$.pop(),Y=Object.keys(c[J]);for(let le=Y.length,q=0;q<le;q++){const d=Y[q],b=V[d];b.distance===-1&&(b.distance=V[J].distance+1,b.parent=J,$.unshift(d))}}return V}function z(h,V){return function($){return V(h($))}}function y(h,V){const $=[V[h].parent,h];let J=c[V[h].parent][h],Y=V[h].parent;for(;V[Y].parent;)$.unshift(V[Y].parent),J=z(c[V[Y].parent][Y],J),Y=V[Y].parent;return J.conversion=$,J}v.exports=function(h){const V=L(h),$={},J=Object.keys(V);for(let Y=J.length,le=0;le<Y;le++){const q=J[le];V[q].parent!==null&&($[q]=y(q,V))}return $}},"./node_modules/color-name/index.js":v=>{"use strict";v.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const z=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([v.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const z=L},"./node_modules/css-loader/dist/runtime/api.js":v=>{"use strict";v.exports=function(A){var l=[];return l.toString=function(){return this.map(function(c){var L=A(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,z){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(z)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var $=0;$<c.length;$++){var J=[].concat(c[$]);z&&y[J[0]]||(L&&(J[2]?J[2]="".concat(L," and ").concat(J[2]):J[2]=L),l.push(J))}},l}},"./packages/ckeditor5-core/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{mY:()=>y,_y:()=>J,eO:()=>Y,W9:()=>E,ML:()=>b,xK:()=>C,AJ:()=>V,lR:()=>ne,Sy:()=>L,P$:()=>w,icons:()=>R,Nu:()=>S});var c=l("./packages/ckeditor5-utils/src/index.ts");class L extends(0,c.Re)(){constructor(N){super(),this._disableStack=new Set,this.editor=N,this.set("isEnabled",!0)}forceDisabled(N){this._disableStack.add(N),this._disableStack.size==1&&(this.on("set:isEnabled",z,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(N){this._disableStack.delete(N),this._disableStack.size==0&&(this.off("set:isEnabled",z),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function z(W){W.return=!1,W.stop()}class y extends(0,c.Re)(){constructor(N){super(),this.editor=N,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(N,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",oe=>{if(!this.affectsData)return;const Te=N.model.document.selection,Oe=Te.getFirstPosition().root.rootName!="$graveyard"&&N.model.canEditAt(Te);(N.isReadOnly||this._isEnabledBasedOnSelection&&!Oe)&&(oe.return=!1,oe.stop())},{priority:"highest"}),this.on("execute",oe=>{this.isEnabled||oe.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(N){this._affectsData=N}refresh(){this.isEnabled=!0}forceDisabled(N){this._disableStack.add(N),this._disableStack.size==1&&(this.on("set:isEnabled",h,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(N){this._disableStack.delete(N),this._disableStack.size==0&&(this.off("set:isEnabled",h),this.refresh())}execute(...N){}destroy(){this.stopListening()}}function h(W){W.return=!1,W.stop()}class V extends y{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...N){const oe=this._getFirstEnabledCommand();return!!oe&&oe.execute(N)}registerChildCommand(N,oe={}){(0,c.VG)(this._childCommandsDefinitions,{command:N,priority:oe.priority||"normal"}),N.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const N=this._childCommandsDefinitions.find(({command:oe})=>oe.isEnabled);return N&&N.command}}class $ extends(0,c.ln)(){constructor(N,oe=[],Te=[]){super(),this._plugins=new Map,this._context=N,this._availablePlugins=new Map;for(const Oe of oe)Oe.pluginName&&this._availablePlugins.set(Oe.pluginName,Oe);this._contextPlugins=new Map;for(const[Oe,xe]of Te)this._contextPlugins.set(Oe,xe),this._contextPlugins.set(xe,Oe),Oe.pluginName&&this._availablePlugins.set(Oe.pluginName,Oe)}*[Symbol.iterator](){for(const N of this._plugins)typeof N[0]=="function"&&(yield N)}get(N){const oe=this._plugins.get(N);if(!oe){let Te=N;throw typeof N=="function"&&(Te=N.pluginName||N.name),new c.Bb("plugincollection-plugin-not-loaded",this._context,{plugin:Te})}return oe}has(N){return this._plugins.has(N)}init(N,oe=[],Te=[]){const Oe=this,xe=this._context;(function mt(qe,et=new Set){qe.forEach(Q=>{rt(Q)&&(et.has(Q)||(et.add(Q),Q.pluginName&&!Oe._availablePlugins.has(Q.pluginName)&&Oe._availablePlugins.set(Q.pluginName,Q),Q.requires&&mt(Q.requires,et)))})})(N),pt(N);const Re=[...function mt(qe,et=new Set){return qe.map(Q=>rt(Q)?Q:Oe._availablePlugins.get(Q)).reduce((Q,de)=>et.has(de)?Q:(et.add(de),de.requires&&(pt(de.requires,de),mt(de.requires,et).forEach(we=>Q.add(we))),Q.add(de)),new Set)}(N.filter(mt=>!st(mt,oe)))];(function(mt,qe){for(const et of qe){if(typeof et!="function")throw new c.Bb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:et});const Q=et.pluginName;if(!Q)throw new c.Bb("plugincollection-replace-plugin-missing-name",null,{pluginItem:et});if(et.requires&&et.requires.length)throw new c.Bb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Q});const de=Oe._availablePlugins.get(Q);if(!de)throw new c.Bb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Q});const we=mt.indexOf(de);if(we===-1){if(Oe._contextPlugins.has(de))return;throw new c.Bb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Q})}if(de.requires&&de.requires.length)throw new c.Bb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Q});mt.splice(we,1,et),Oe._availablePlugins.set(Q,et)}})(Re,Te);const lt=Re.map(mt=>{let qe=Oe._contextPlugins.get(mt);return qe=qe||new mt(xe),Oe._add(mt,qe),qe});return Ze(lt,"init").then(()=>Ze(lt,"afterInit")).then(()=>lt);function rt(mt){return typeof mt=="function"}function ct(mt){return rt(mt)&&!!mt.isContextPlugin}function st(mt,qe){return qe.some(et=>et===mt||kt(mt)===et||kt(et)===mt)}function kt(mt){return rt(mt)?mt.pluginName||mt.name:mt}function pt(mt,qe=null){mt.map(et=>rt(et)?et:Oe._availablePlugins.get(et)||et).forEach(et=>{(function(Q,de){if(!rt(Q))throw de?new c.Bb("plugincollection-soft-required",xe,{missingPlugin:Q,requiredBy:kt(de)}):new c.Bb("plugincollection-plugin-not-found",xe,{plugin:Q})})(et,qe),function(Q,de){if(ct(de)&&!ct(Q))throw new c.Bb("plugincollection-context-required",xe,{plugin:kt(Q),requiredBy:kt(de)})}(et,qe),function(Q,de){if(de&&st(Q,oe))throw new c.Bb("plugincollection-required",xe,{plugin:kt(Q),requiredBy:kt(de)})}(et,qe)})}function Ze(mt,qe){return mt.reduce((et,Q)=>Q[qe]?Oe._contextPlugins.has(Q)?et:et.then(Q[qe].bind(Q)):et,Promise.resolve())}}destroy(){const N=[];for(const[,oe]of this)typeof oe.destroy!="function"||this._contextPlugins.has(oe)||N.push(oe.destroy());return Promise.all(N)}_add(N,oe){this._plugins.set(N,oe);const Te=N.pluginName;if(Te){if(this._plugins.has(Te))throw new c.Bb("plugincollection-plugin-name-conflict",null,{pluginName:Te,plugin1:this._plugins.get(Te).constructor,plugin2:N});this._plugins.set(Te,oe)}}}class J{constructor(N){this._contextOwner=null,this.config=new c.De(N,this.constructor.defaultConfig);const oe=this.constructor.builtinPlugins;this.config.define("plugins",oe),this.plugins=new $(this,oe);const Te=this.config.get("language")||{};this.locale=new c.go({uiLanguage:typeof Te=="string"?Te:Te.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new c.FE}initPlugins(){const N=this.config.get("plugins")||[],oe=this.config.get("substitutePlugins")||[];for(const Te of N.concat(oe)){if(typeof Te!="function")throw new c.Bb("context-initplugins-constructor-only",null,{Plugin:Te});if(Te.isContextPlugin!==!0)throw new c.Bb("context-initplugins-invalid-plugin",null,{Plugin:Te})}return this.plugins.init(N,[],oe)}destroy(){return Promise.all(Array.from(this.editors,N=>N.destroy())).then(()=>this.plugins.destroy())}_addEditor(N,oe){if(this._contextOwner)throw new c.Bb("context-addeditor-private-context");this.editors.add(N),oe&&(this._contextOwner=N)}_removeEditor(N){return this.editors.has(N)&&this.editors.remove(N),this._contextOwner===N?this.destroy():Promise.resolve()}_getEditorConfig(){const N={};for(const oe of this.config.names())["plugins","removePlugins","extraPlugins"].includes(oe)||(N[oe]=this.config.get(oe));return N}static create(N){return new Promise(oe=>{const Te=new this(N);oe(Te.initPlugins().then(()=>Te))})}}class Y extends(0,c.Re)(){constructor(N){super(),this.context=N}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class le extends c.VD{constructor(N){super(),this.editor=N}set(N,oe,Te={}){if(typeof oe=="string"){const Oe=oe;oe=(xe,Re)=>{this.editor.execute(Oe),Re()}}super.set(N,oe,Te)}}var q=l("./packages/ckeditor5-engine/src/index.ts");class d{constructor(){this._commands=new Map}add(N,oe){this._commands.set(N,oe)}get(N){return this._commands.get(N)}execute(N,...oe){const Te=this.get(N);if(!Te)throw new c.Bb("commandcollection-command-not-found",this,{commandName:N});return Te.execute(...oe)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const N of this.commands())N.destroy()}}class b extends(0,c.Re)(){constructor(N={}){super();const oe=this.constructor,Te=N.language||oe.defaultConfig&&oe.defaultConfig.language;this._context=N.context||new J({language:Te}),this._context._addEditor(this,!N.context);const Oe=Array.from(oe.builtinPlugins||[]);this.config=new c.De(N,oe.defaultConfig),this.config.define("plugins",Oe),this.config.define(this._context._getEditorConfig()),this.plugins=new $(this,Oe,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new d,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new q.Hn,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const xe=new q.A_;this.data=new q.Yc(this.model,xe),this.editing=new q.jH(this.model,xe),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new q.uz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new le(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(N){throw new c.Bb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(N){if(typeof N!="string"&&typeof N!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:N});this._readOnlyLocks.has(N)||(this._readOnlyLocks.add(N),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(N){if(typeof N!="string"&&typeof N!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:N});this._readOnlyLocks.has(N)&&(this._readOnlyLocks.delete(N),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const N=this.config,oe=N.get("plugins"),Te=N.get("removePlugins")||[],Oe=N.get("extraPlugins")||[],xe=N.get("substitutePlugins")||[];return this.plugins.init(oe.concat(Oe),Te,xe)}destroy(){let N=Promise.resolve();return this.state=="initializing"&&(N=new Promise(oe=>this.once("ready",oe))),N.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(N,...oe){try{return this.commands.execute(N,...oe)}catch(Te){c.Bb.rethrowUnexpectedError(Te,this)}}focus(){this.editing.view.focus()}static create(...N){throw new Error("This is an abstract method.")}}var _=l("./node_modules/lodash-es/isFunction.js");function w(W){if(!(0,_.Z)(W.updateSourceElement))throw new c.Bb("attachtoform-missing-elementapi-interface",W);const N=W.sourceElement;if(function(oe){return!!oe&&oe.tagName.toLowerCase()==="textarea"}(N)&&N.form){let oe;const Te=N.form,Oe=()=>W.updateSourceElement();(0,_.Z)(Te.submit)&&(oe=Te.submit,Te.submit=()=>{Oe(),oe.apply(Te)}),Te.addEventListener("submit",Oe),W.on("destroy",()=>{Te.removeEventListener("submit",Oe),oe&&(Te.submit=oe)})}}function E(W){return class extends W{setData(N){this.data.set(N)}getData(N){return this.data.get(N)}}}{const W=E(Object);E.setData=W.prototype.setData,E.getData=W.prototype.getData}function C(W){return class extends W{updateSourceElement(N=this.data.get()){if(!this.sourceElement)throw new c.Bb("editor-missing-sourceelement",this);const oe=this.config.get("updateSourceElementOnDestroy"),Te=this.sourceElement instanceof HTMLTextAreaElement;oe||Te?(0,c.jS)(this.sourceElement,N):(0,c.jS)(this.sourceElement,"")}}}function S(W,N){if(N.ckeditorInstance)throw new c.Bb("editor-source-element-already-used",W);N.ckeditorInstance=W,W.once("destroy",()=>{delete N.ckeditorInstance})}C.updateSourceElement=C(Object).prototype.updateSourceElement;class ne extends Y{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new c.FE({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(N){if(typeof N!="string")throw new c.Bb("pendingactions-add-invalid-message",this);const oe=new((0,c.Re)());return oe.set("message",N),this._actions.add(oe),this.hasAny=!0,oe}remove(N){this._actions.remove(N),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var U=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),D=l("./packages/ckeditor5-core/theme/icons/check.svg"),f=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const R={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:U.Z,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:D.Z,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:f.Z,image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{kW:()=>Xt,Yy:()=>Cn,r7:()=>Ti,KU:()=>Ca,uz:()=>ps,Yc:()=>Gs,tn:()=>wo,f4:()=>ci,uj:()=>kn,pG:()=>fe,dK:()=>Pt,qZ:()=>vt,qD:()=>It,jH:()=>gr,W_:()=>on,DX:()=>Ro,Ay:()=>As,X5:()=>ms,IZ:()=>En,jP:()=>Hn,iE:()=>An,zj:()=>Fn,xO:()=>R,lB:()=>_n,Hn:()=>xa,dM:()=>Ta,$z:()=>en,Pk:()=>In,Qj:()=>Qe,Bz:()=>ws,Ly:()=>oi,e6:()=>Dt,sN:()=>$n,Th:()=>jn,_o:()=>Io,tF:()=>vo,qh:()=>dn,A_:()=>Ri,aY:()=>Yn,xv:()=>an,R:()=>Dn,Po:()=>oo,yj:()=>Aa,G7:()=>qo,m1:()=>Xt,By:()=>B,Ux:()=>Ot,y_:()=>ln,W2:()=>se,y9:()=>ji,pc:()=>Ai,wx:()=>xn,FY:()=>Ct,Xj:()=>U,rh:()=>Ht,dq:()=>Mi,QR:()=>Ha,sI:()=>Ua,vt:()=>Za,J8:()=>$a,DA:()=>Y,ID:()=>J,KT:()=>Xr,I8:()=>pa,mq:()=>Vr,oz:()=>jr,YG:()=>ee,m0:()=>ra,uT:()=>Ls,$_:()=>q,SB:()=>ga,D5:()=>la,G9:()=>da,IT:()=>ca,zz:()=>Na,WK:()=>ha,Zb:()=>ua,PX:()=>ma,Q7:()=>d,NJ:()=>le,Rf:()=>Kr});var c=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=l.n(c),z=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(z.Z,y),z.Z.locals;var h=l("./packages/ckeditor5-utils/src/index.ts");const V=new WeakMap;let $=!1;function J({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:o=!1}){const s=n.document;function k(H){V.get(s).set(e,{text:H,isDirectHost:i,keepOnFocus:o,hostElement:i?e:null}),n.change(re=>b(s,re))}V.has(s)||(V.set(s,new Map),s.registerPostFixer(H=>b(s,H)),s.on("change:isComposing",()=>{n.change(H=>b(s,H))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(H,re,pe)=>{k(pe)}),e.placeholder?k(e.placeholder):t&&k(t),t&&function(){$||(0,h.KE)("enableplaceholder-deprecated-text-option"),$=!0}()}function Y(n,e){const t=e.document;V.has(t)&&n.change(i=>{const o=V.get(t),s=o.get(e);i.removeAttribute("data-placeholder",s.hostElement),q(i,s.hostElement),o.delete(e)})}function le(n,e){return!e.hasClass("ck-placeholder")&&(n.addClass("ck-placeholder",e),!0)}function q(n,e){return!!e.hasClass("ck-placeholder")&&(n.removeClass("ck-placeholder",e),!0)}function d(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const t=n.document,i=t.selection.anchor;return(!t.isComposing||!i||i.parent!==n)&&(!!e||!t.isFocused||!!i&&i.parent!==n)}function b(n,e){const t=V.get(n),i=[];let o=!1;for(const[s,k]of t)k.isDirectHost&&(i.push(s),_(e,s,k)&&(o=!0));for(const[s,k]of t){if(k.isDirectHost)continue;const H=w(s);H&&(i.includes(H)||(k.hostElement=H,_(e,s,k)&&(o=!0)))}return o}function _(n,e,t){const{text:i,isDirectHost:o,hostElement:s}=t;let k=!1;return s.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,s),k=!0),(o||e.childCount==1)&&d(s,t.keepOnFocus)?le(n,s)&&(k=!0):q(n,s)&&(k=!0),k}function w(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class E{is(){throw new Error("is() method is abstract")}}var C=l("./node_modules/lodash-es/_baseClone.js");const S=function(n){return(0,C.Z)(n,4)};l("./packages/ckeditor5-utils/src/version.ts");class ne extends(0,h.ln)(E){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new h.Bb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,h.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=S(this);return delete e.parent,e}}ne.prototype.is=function(n){return n==="node"||n==="view:node"};class U extends ne{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof U&&(this===e||this.data===e.data)}_clone(){return new U(this.document,this.data)}}U.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class D extends E{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new h.Bb("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new h.Bb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}D.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};var f=l("./node_modules/lodash-es/isPlainObject.js");class R{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const o=W(t,i);if(o)return{element:t,pattern:i,match:o}}return null}matchAll(...e){const t=[];for(const i of e)for(const o of this._patterns){const s=W(i,o);s&&t.push({element:i,pattern:o,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function W(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=function(i,o){return i instanceof RegExp?!!o.match(i):i===o}(e.name,n.name),!t.name)||e.attributes&&(t.attributes=function(i,o){const s=new Set(o.getAttributeKeys());return(0,f.Z)(i)?(i.style!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-class-key",i)):(s.delete("style"),s.delete("class")),N(i,s,k=>o.getAttribute(k))}(e.attributes,n),!t.attributes)||e.classes&&(t.classes=function(i,o){return N(i,o.getClassNames(),()=>{})}(e.classes,n),!t.classes)||e.styles&&(t.styles=function(i,o){return N(i,o.getStyleNames(!0),s=>o.getStyle(s))}(e.styles,n),!t.styles)?null:t}function N(n,e,t){const i=function(k){return Array.isArray(k)?k.map(H=>(0,f.Z)(H)?(H.key!==void 0&&H.value!==void 0||(0,h.KE)("matcher-pattern-missing-key-or-value",H),[H.key,H.value]):[H,!0]):(0,f.Z)(k)?Object.entries(k):[[k,!0]]}(n),o=Array.from(e),s=[];if(i.forEach(([k,H])=>{o.forEach(re=>{(function(pe,ye){return pe===!0||pe===ye||pe instanceof RegExp&&ye.match(pe)})(k,re)&&function(pe,ye,Ne){if(pe===!0)return!0;const Je=Ne(ye);return pe===Je||pe instanceof RegExp&&!!String(Je).match(pe)}(H,re,t)&&s.push(re)})}),i.length&&!(s.length<i.length))return s}var oe=l("./node_modules/lodash-es/isObject.js"),Te=l("./node_modules/lodash-es/isArray.js"),Oe=l("./node_modules/lodash-es/isSymbol.js"),xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/;const lt=function(n,e){if((0,Te.Z)(n))return!1;var t=typeof n;return!(t!="number"&&t!="symbol"&&t!="boolean"&&n!=null&&!(0,Oe.Z)(n))||Re.test(n)||!xe.test(n)||e!=null&&n in Object(e)};var rt=l("./node_modules/lodash-es/_MapCache.js");function ct(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=t.cache;if(s.has(o))return s.get(o);var k=n.apply(this,i);return t.cache=s.set(o,k)||s,k};return t.cache=new(ct.Cache||rt.Z),t}ct.Cache=rt.Z;const st=ct;var kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pt=/\\(\\)?/g;const Ze=function(n){var e=st(n,function(i){return t.size===500&&t.clear(),i}),t=e.cache;return e}(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(kt,function(t,i,o,s){e.push(o?s.replace(pt,"$1"):i||t)}),e});var mt=l("./node_modules/lodash-es/toString.js");const qe=function(n,e){return(0,Te.Z)(n)?n:lt(n,e)?[n]:Ze((0,mt.Z)(n))},et=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0},Q=function(n){if(typeof n=="string"||(0,Oe.Z)(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},de=function(n,e){for(var t=0,i=(e=qe(e,n)).length;n!=null&&t<i;)n=n[Q(e[t++])];return t&&t==i?n:void 0},we=function(n,e,t){var i=-1,o=n.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=n[i+e];return s},Be=function(n,e){return e.length<2?n:de(n,we(e,0,-1))},Ge=function(n,e){return e=qe(e,n),(n=Be(n,e))==null||delete n[Q(et(e))]},Fe=function(n,e){return n==null||Ge(n,e)},Ve=function(n,e,t){var i=n==null?void 0:de(n,e);return i===void 0?t:i};var ut=l("./node_modules/lodash-es/_Stack.js"),St=l("./node_modules/lodash-es/_baseAssignValue.js"),Lt=l("./node_modules/lodash-es/eq.js");const Qt=function(n,e,t){(t!==void 0&&!(0,Lt.Z)(n[e],t)||t===void 0&&!(e in n))&&(0,St.Z)(n,e,t)},yt=function(n){return function(e,t,i){for(var o=-1,s=Object(e),k=i(e),H=k.length;H--;){var re=k[n?H:++o];if(t(s[re],re,s)===!1)break}return e}}();var Tt=l("./node_modules/lodash-es/_cloneBuffer.js"),mi=l("./node_modules/lodash-es/_cloneTypedArray.js"),pi=l("./node_modules/lodash-es/_copyArray.js"),Li=l("./node_modules/lodash-es/_initCloneObject.js"),Ei=l("./node_modules/lodash-es/isArguments.js"),Ni=l("./node_modules/lodash-es/isArrayLike.js"),xi=l("./node_modules/lodash-es/isObjectLike.js");const Bi=function(n){return(0,xi.Z)(n)&&(0,Ni.Z)(n)};var nt=l("./node_modules/lodash-es/isBuffer.js"),ue=l("./node_modules/lodash-es/isFunction.js"),_e=l("./node_modules/lodash-es/isTypedArray.js");const Ie=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]};var We=l("./node_modules/lodash-es/_copyObject.js"),tt=l("./node_modules/lodash-es/keysIn.js");const bt=function(n){return(0,We.Z)(n,(0,tt.Z)(n))},At=function(n,e,t,i,o,s,k){var H=Ie(n,t),re=Ie(e,t),pe=k.get(re);if(pe)Qt(n,t,pe);else{var ye=s?s(H,re,t+"",n,e,k):void 0,Ne=ye===void 0;if(Ne){var Je=(0,Te.Z)(re),Mt=!Je&&(0,nt.Z)(re),Wt=!Je&&!Mt&&(0,_e.Z)(re);ye=re,Je||Mt||Wt?(0,Te.Z)(H)?ye=H:Bi(H)?ye=(0,pi.Z)(H):Mt?(Ne=!1,ye=(0,Tt.Z)(re,!0)):Wt?(Ne=!1,ye=(0,mi.Z)(re,!0)):ye=[]:(0,f.Z)(re)||(0,Ei.Z)(re)?(ye=H,(0,Ei.Z)(H)?ye=bt(H):(0,oe.Z)(H)&&!(0,ue.Z)(H)||(ye=(0,Li.Z)(re))):Ne=!1}Ne&&(k.set(re,ye),o(ye,re,i,s,k),k.delete(re)),Qt(n,t,ye)}},xt=function n(e,t,i,o,s){e!==t&&yt(t,function(k,H){if(s||(s=new ut.Z),(0,oe.Z)(k))At(e,t,H,i,n,o,s);else{var re=o?o(Ie(e,H),k,H+"",e,t,s):void 0;re===void 0&&(re=k),Qt(e,H,re)}},tt.Z)},Kt=(0,l("./node_modules/lodash-es/_createAssigner.js").Z)(function(n,e,t){xt(n,e,t)});var ni=l("./node_modules/lodash-es/_assignValue.js"),ei=l("./node_modules/lodash-es/_isIndex.js");const li=function(n,e,t,i){if(!(0,oe.Z)(n))return n;for(var o=-1,s=(e=qe(e,n)).length,k=s-1,H=n;H!=null&&++o<s;){var re=Q(e[o]),pe=t;if(re==="__proto__"||re==="constructor"||re==="prototype")return n;if(o!=k){var ye=H[re];(pe=i?i(ye,re,H):void 0)===void 0&&(pe=(0,oe.Z)(ye)?ye:(0,ei.Z)(e[o+1])?[]:{})}(0,ni.Z)(H,re,pe),H=H[re]}return n},Ci=function(n,e,t){return n==null?n:li(n,e,t)};class yi{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(i){let o=null,s=0,k=0,H=null;const re=new Map;if(i==="")return re;i.charAt(i.length-1)!=";"&&(i+=";");for(let pe=0;pe<i.length;pe++){const ye=i.charAt(pe);if(o===null)switch(ye){case":":H||(H=i.substr(s,pe-s),k=pe+1);break;case'"':case"'":o=ye;break;case";":{const Ne=i.substr(k,pe-k);H&&re.set(H.trim(),Ne.trim()),H=null,s=pe+1;break}}else ye===o&&(o=null)}return re}(e).entries());for(const[i,o]of t)this._styleProcessor.toNormalizedForm(i,o,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if((0,oe.Z)(e))for(const[i,o]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,o,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=qi(e);Fe(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,oe.Z)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),o=Ve(this._styles,i);o&&!Array.from(Object.keys(o)).length&&this.remove(i)}}class Ri{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if((0,oe.Z)(t))Ui(i,qi(e),t);else if(this._normalizers.has(e)){const o=this._normalizers.get(e),{path:s,value:k}=o(t);Ui(i,s,k)}else Ui(i,e,t)}getNormalized(e,t){if(!e)return Kt({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Ve(t,i);const o=i(e,t);if(o)return o}return Ve(t,qi(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(o=>{const s=this.getNormalized(o,e);return s&&typeof s=="object"?Object.keys(s).length:s}),i=new Set([...t,...Object.keys(e)]);return Array.from(i.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function qi(n){return n.replace("-",".")}function Ui(n,e,t){let i=t;(0,oe.Z)(t)&&(i=Kt({},Ve(n,e),t)),Ci(n,e,i)}class ji extends ne{constructor(e,t,i,o){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(s){const k=(0,h.qL)(s);for(const[H,re]of k)re===null?k.delete(H):typeof re!="string"&&k.set(H,String(re));return k}(i),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");he(this._classes,s),this._attrs.delete("class")}this._styles=new yi(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ji))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new R(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(s,k){return typeof k=="string"?[new U(s,k)]:((0,h.TW)(k)||(k=[k]),Array.from(k).map(H=>typeof H=="string"?new U(s,H):H instanceof D?new U(s,H.data):H))}(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?he(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function he(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}ji.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};class B extends ji{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=ee}}function ee(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}B.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class se extends(0,h.Re)(B){constructor(e,t,i,o){super(e,t,i,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}se.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const Pe=Symbol("rootName");class Ct extends se{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Pe)}set rootName(e){this._setCustomProperty(Pe,e)}set _name(e){this.name=e}}Ct.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ht{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new h.Bb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new h.Bb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=wt._createAt(e.startPosition):this._position=wt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(i instanceof U){if(e.isAtEnd)return this._position=wt._createAfter(i),this._next();o=i.data[e.offset]}else o=i.getChild(e.offset);if(o instanceof ji){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new wt(o,0);return this._position=e,this._formatReturnValue("elementStart",o,t,e,1)}if(o instanceof U){if(this.singleCharacters)return e=new wt(o,0),this._position=e,this._next();let s,k=o.data.length;return o==this._boundaryEndParent?(k=this.boundaries.end.offset,s=new D(o,0,k),e=wt._createAfter(s)):(s=new D(o,0,o.data.length),e.offset++),this._position=e,this._formatReturnValue("text",s,t,e,k)}if(typeof o=="string"){let s;this.singleCharacters?s=1:s=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const k=new D(i,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",k,t,e,s)}return e=wt._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(i instanceof U){if(e.isAtStart)return this._position=wt._createBefore(i),this._previous();o=i.data[e.offset-1]}else o=i.getChild(e.offset-1);if(o instanceof ji)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new wt(o,o.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof U){if(this.singleCharacters)return e=new wt(o,o.data.length),this._position=e,this._previous();let s,k=o.data.length;if(o==this._boundaryStartParent){const H=this.boundaries.start.offset;s=new D(o,H,o.data.length-H),k=s.data.length,e=wt._createBefore(s)}else s=new D(o,0,o.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",s,t,e,k)}if(typeof o=="string"){let s;if(this.singleCharacters)s=1;else{const H=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-H}e.offset-=s;const k=new D(i,e.offset,s);return this._position=e,this._formatReturnValue("text",k,t,e,s)}return e=wt._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,o,s){return t instanceof D&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=wt._createAfter(t.textNode):(o=wt._createAfter(t.textNode),this._position=o)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=wt._createBefore(t.textNode):(o=wt._createBefore(t.textNode),this._position=o))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:o,length:s}}}}class wt extends E{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof se);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=wt._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Ht(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const o=(0,h.Rt)(t,i);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<i[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ht(e)}clone(){return new wt(this.parent,this.offset)}static _createAt(e,t){if(e instanceof wt)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new h.Bb("view-createpositionat-offset-required",i)}return new wt(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new wt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new h.Bb("view-position-after-root",e,{root:e});return new wt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new wt(e.textNode,e.offsetInText);if(!e.parent)throw new h.Bb("view-position-before-root",e,{root:e});return new wt(e.parent,e.index)}}wt.prototype.is=function(n){return n==="position"||n==="view:position"};class zt extends E{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Ht({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(fi,{direction:"backward"}),t=this.end.getLastMatchingPosition(fi);return e.parent.is("$text")&&e.isAtStart&&(e=wt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=wt._createAfter(t.parent)),new zt(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(fi);if(e.isAfter(this.end)||e.isEqual(this.end))return new zt(e,e);let t=this.end.getLastMatchingPosition(fi,{direction:"backward"});const i=e.nodeAfter,o=t.nodeBefore;return i&&i.is("$text")&&(e=new wt(i,0)),o&&o.is("$text")&&(t=new wt(o,o.data.length)),new zt(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new zt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new zt(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new zt(t,i)}return null}getWalker(e={}){return e.boundaries=this,new Ht(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new zt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ht(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Ht(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,o){return new this(new wt(e,t),new wt(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(wt._createBefore(e),t)}}function fi(n){return!(!n.item.is("attributeElement")&&!n.item.is("uiElement"))}zt.prototype.is=function(n){return n==="range"||n==="view:range"};class gi extends(0,h.ln)(E){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,h.QX)(this.getRanges());if(t!=(0,h.QX)(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let s of e.getRanges())if(s=s.getTrimmed(),i.start.isEqual(s.start)&&i.end.isEqual(s.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof gi||t instanceof Oi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof zt)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof wt)this._setRanges([new zt(t)]),this._setFakeOptions(o);else if(t instanceof ne){const s=!!o&&!!o.backward;let k;if(i===void 0)throw new h.Bb("view-selection-setto-required-second-parameter",this);k=i=="in"?zt._createIn(t):i=="on"?zt._createOn(t):new zt(wt._createAt(t,i)),this._setRanges([k],s),this._setFakeOptions(o)}else{if(!(0,h.TW)(t))throw new h.Bb("view-selection-setto-not-selectable",this);this._setRanges(t,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new h.Bb("view-selection-setfocus-no-ranges",this);const i=wt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),i.compareWith(o)=="before"?this._addRange(new zt(i,o),!0):this._addRange(new zt(o,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof zt))throw new h.Bb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new h.Bb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new zt(e.start,e.end))}}gi.prototype.is=function(n){return n==="selection"||n==="view:selection"};class Oi extends(0,h.ln)(E){constructor(...e){super(),this._selection=new gi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Oi.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Ti extends h.M3{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Yi=Symbol("bubbling contexts");function Ut(n){return class extends n{fire(e,...t){try{const i=e instanceof h.M3?e:new h.M3(this,e),o=ht(this);if(!o.size)return;if(Ae(i,"capturing",this),Ye(o,"$capture",i,...t))return i.return;const s=i.startRange||this.selection.getFirstRange(),k=s?s.getContainedElement():null,H=!!k&&Boolean(it(o,k));let re=k||function(pe){if(!pe)return null;const ye=pe.start.parent,Ne=pe.end.parent,Je=ye.getPath(),Mt=Ne.getPath();return Je.length>Mt.length?ye:Ne}(s);if(Ae(i,"atTarget",re),!H){if(Ye(o,"$text",i,...t))return i.return;Ae(i,"bubbling",re)}for(;re;){if(re.is("rootElement")){if(Ye(o,"$root",i,...t))return i.return}else if(re.is("element")&&Ye(o,re.name,i,...t))return i.return;if(Ye(o,re,i,...t))return i.return;re=re.parent,Ae(i,"bubbling",re)}return Ae(i,"bubbling",this),Ye(o,"$document",i,...t),i.return}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const o=(0,h.qo)(i.context||"$document"),s=ht(this);for(const k of o){let H=s.get(k);H||(H=new((0,h.ln)()),s.set(k,H)),this.listenTo(H,e,t,i)}}_removeEventListener(e,t){const i=ht(this);for(const o of i.values())this.stopListening(o,e,t)}}}{const n=Ut(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ut[e]=n.prototype[e]})}function Ae(n,e,t){n instanceof Ti&&(n._eventPhase=e,n._currentTarget=t)}function Ye(n,e,t,...i){const o=typeof e=="string"?n.get(e):it(n,e);return!!o&&(o.fire(t,...i),t.stop.called)}function it(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function ht(n){return n[Yi]||(n[Yi]=new Map),n[Yi]}class Ot extends Ut((0,h.Re)()){constructor(e){super(),this._postFixers=new Set,this.selection=new Oi,this.roots=new h.FE({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class Xt extends ji{constructor(e,t,i,o){super(e,t,i,o),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=ii}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new h.Bb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function ii(){if(di(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(di(n)>1)return null;n=n.parent}return!n||di(n)>1?null:this.childCount}function di(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}Xt.DEFAULT_PRIORITY=10,Xt.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ai extends ji{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=wi}_insertChild(e,t){if(t&&(t instanceof ne||Array.from(t).length>0))throw new h.Bb("view-emptyelement-cannot-add",[this,t]);return 0}}function wi(){return null}Ai.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Mi extends ji{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=hn}_insertChild(e,t){if(t&&(t instanceof ne||Array.from(t).length>0))throw new h.Bb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function cn(n){n.document.on("arrowKey",(e,t)=>function(i,o,s){if(o.keyCode==h.Do.arrowright){const k=o.domTarget.ownerDocument.defaultView.getSelection(),H=k.rangeCount==1&&k.getRangeAt(0).collapsed;if(H||o.shiftKey){const re=k.focusNode,pe=k.focusOffset,ye=s.domPositionToView(re,pe);if(ye===null)return;let Ne=!1;const Je=ye.getLastMatchingPosition(Mt=>(Mt.item.is("uiElement")&&(Ne=!0),!(!Mt.item.is("uiElement")&&!Mt.item.is("attributeElement"))));if(Ne){const Mt=s.viewPositionToDom(Je);H?k.collapse(Mt.parent,Mt.offset):k.extend(Mt.parent,Mt.offset)}}}}(0,t,n.domConverter),{priority:"low"})}function hn(){return null}Mi.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class xn extends ji{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=Xi}_insertChild(e,t){if(t&&(t instanceof ne||Array.from(t).length>0))throw new h.Bb("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function Xi(){return null}xn.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class ln extends(0,h.ln)(E){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(s,k){return typeof k=="string"?[new U(s,k)]:((0,h.TW)(k)||(k=[k]),Array.from(k).map(H=>typeof H=="string"?new U(s,H):H instanceof D?new U(s,H.data):H))}(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}ln.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};class It{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new ln(this.document,e)}createText(e){return new U(this.document,e)}createAttributeElement(e,t,i={}){const o=new Xt(this.document,e,t);return typeof i.priority=="number"&&(o._priority=i.priority),i.id&&(o._id=i.id),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createContainerElement(e,t,i={},o={}){let s=null;(0,f.Z)(i)?o=i:s=i;const k=new B(this.document,e,t,s);return o.renderUnsafeAttributes&&k._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),k}createEditableElement(e,t,i={}){const o=new se(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEmptyElement(e,t,i={}){const o=new Ai(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createUIElement(e,t,i){const o=new Mi(this.document,e,t);return i&&(o.render=i),o}createRawElement(e,t,i,o={}){const s=new xn(this.document,e,t);return i&&(s.render=i),o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,f.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof wt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new h.Bb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new h.Bb("view-writer-break-root",this.document);if(e.isAtStart)return wt._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(wt._createAfter(t),i);const o=new zt(e,wt._createAt(t,"end")),s=new wt(i,0);this.move(o,s)}return wt._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const k=i.parent,H=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new wt(k,H))}const o=i.getChild(t-1),s=i.getChild(t);if(!o||!s)return e;if(o.is("$text")&&s.is("$text"))return dt(o,s);if(o.is("attributeElement")&&s.is("attributeElement")&&o.isSimilar(s)){const k=o.childCount;return o._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new wt(o,k))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new h.Bb("view-writer-merge-containers-invalid-position",this.document);const o=t.getChild(t.childCount-1),s=o instanceof U?wt._createAt(o,"end"):wt._createAt(t,"end");return this.move(zt._createIn(i),wt._createAt(t,"end")),this.remove(zt._createOn(i)),s}insert(e,t){Nt(t=(0,h.TW)(t)?[...t]:[t],this.document);const i=t.reduce((k,H)=>{const re=k[k.length-1],pe=!H.is("uiElement");return re&&re.breakAttributes==pe?re.nodes.push(H):k.push({breakAttributes:pe,nodes:[H]}),k},[]);let o=null,s=e;for(const{nodes:k,breakAttributes:H}of i){const re=this._insertNodes(s,k,H);o||(o=re.start),s=re.end}return o?new zt(o,s):new zt(e)}remove(e){const t=e instanceof zt?e:zt._createOn(e);if(Bt(t,this.document),t.isCollapsed)return new ln(this.document);const{start:i,end:o}=this._breakAttributesRange(t,!0),s=i.parent,k=o.offset-i.offset,H=s._removeChildren(i.offset,k);for(const pe of H)this._removeFromClonedElementsGroup(pe);const re=this.mergeAttributes(i);return t.start=re,t.end=re.clone(),new ln(this.document,H)}clear(e,t){Bt(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of i){const s=o.item;let k;if(s.is("element")&&t.isSimilar(s))k=zt._createOn(s);else if(!o.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const H=s.getAncestors().find(re=>re.is("element")&&t.isSimilar(re));H&&(k=zt._createIn(H))}k&&(k.end.isAfter(e.end)&&(k.end=e.end),k.start.isBefore(e.start)&&(k.start=e.start),this.remove(k))}}move(e,t){let i;if(t.isAfter(e.end)){const o=(t=this._breakAttributes(t,!0)).parent,s=o.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=o.childCount-s}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Xt))throw new h.Bb("view-writer-wrap-invalid-attribute",this.document);if(Bt(e,this.document),e.isCollapsed){let o=e.start;o.parent.is("element")&&(i=o.parent,!Array.from(i.getChildren()).some(k=>!k.is("uiElement")))&&(o=o.getLastMatchingPosition(k=>k.item.is("uiElement"))),o=this._wrapPosition(o,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new zt(o)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof Xt))throw new h.Bb("view-writer-unwrap-invalid-attribute",this.document);if(Bt(e,this.document),e.isCollapsed)return e;const{start:i,end:o}=this._breakAttributesRange(e,!0),s=i.parent,k=this._unwrapChildren(s,i.offset,o.offset,t),H=this.mergeAttributes(k.start);H.isEqual(k.start)||k.end.offset--;const re=this.mergeAttributes(k.end);return new zt(H,re)}rename(e,t){const i=new B(this.document,e,t.getAttributes());return this.insert(wt._createAfter(t),i),this.move(zt._createIn(t),wt._createAt(i,0)),this.remove(zt._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return wt._createAt(e,t)}createPositionAfter(e){return wt._createAfter(e)}createPositionBefore(e){return wt._createBefore(e)}createRange(e,t){return new zt(e,t)}createRangeOn(e){return zt._createOn(e)}createRangeIn(e){return zt._createIn(e)}createSelection(...e){return new gi(...e)}createSlot(e="children"){if(!this._slotFactory)throw new h.Bb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let o,s;if(o=i?te(e):e.parent.is("$text")?e.parent.parent:e.parent,!o)throw new h.Bb("view-writer-invalid-position-container",this.document);s=i?this._breakAttributes(e,!0):e.parent.is("$text")?$e(e):e;const k=o._insertChild(s.offset,t);for(const ye of t)this._addToClonedElementsGroup(ye);const H=s.getShiftedBy(k),re=this.mergeAttributes(s);re.isEqual(s)||H.offset--;const pe=this.mergeAttributes(H);return new zt(re,pe)}_wrapChildren(e,t,i,o){let s=t;const k=[];for(;s<i;){const re=e.getChild(s),pe=re.is("$text"),ye=re.is("attributeElement");if(ye&&this._wrapAttributeElement(o,re))k.push(new wt(e,s));else if(pe||!ye||Ee(o,re)){const Ne=o._clone();re._remove(),Ne._appendChild(re),e._insertChild(s,Ne),this._addToClonedElementsGroup(Ne),k.push(new wt(e,s))}else this._wrapChildren(re,0,re.childCount,o);s++}let H=0;for(const re of k)re.offset-=H,re.offset!=t&&(this.mergeAttributes(re).isEqual(re)||(H++,i--));return zt._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,o){let s=t;const k=[];for(;s<i;){const re=e.getChild(s);if(re.is("attributeElement"))if(re.isSimilar(o)){const pe=re.getChildren(),ye=re.childCount;re._remove(),e._insertChild(s,pe),this._removeFromClonedElementsGroup(re),k.push(new wt(e,s),new wt(e,s+ye)),s+=ye,i+=ye-1}else this._unwrapAttributeElement(o,re)?(k.push(new wt(e,s),new wt(e,s+1)),s++):(this._unwrapChildren(re,0,re.childCount,o),s++);else s++}let H=0;for(const re of k)re.offset-=H,!(re.offset==t||re.offset==i)&&(this.mergeAttributes(re).isEqual(re)||(H++,i--));return zt._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:o}=this._breakAttributesRange(e,!0),s=i.parent,k=this._wrapChildren(s,i.offset,o.offset,t),H=this.mergeAttributes(k.start);H.isEqual(k.start)||k.end.offset--;const re=this.mergeAttributes(k.end);return new zt(H,re)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Ue(e.clone());e.parent.is("$text")&&(e=$e(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const o=new zt(e,e.getShiftedBy(1));this.wrap(o,t);const s=new wt(i.parent,i.index);i._remove();const k=s.nodeBefore,H=s.nodeAfter;return k instanceof U&&H instanceof U?dt(k,H):Ue(s)}_wrapAttributeElement(e,t){if(!qt(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!qt(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,o=e.end;if(Bt(e,this.document),e.isCollapsed){const re=this._breakAttributes(e.start,t);return new zt(re,re)}const s=this._breakAttributes(o,t),k=s.parent.childCount,H=this._breakAttributes(i,t);return s.offset+=s.parent.childCount-k,new zt(H,s)}_breakAttributes(e,t=!1){const i=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new h.Bb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new h.Bb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new h.Bb("view-writer-cannot-break-raw-element",this.document);if(!t&&o.is("$text")&&Et(o.parent)||Et(o))return e.clone();if(o.is("$text"))return this._breakAttributes($e(e),t);if(i==o.childCount){const s=new wt(o.parent,o.index+1);return this._breakAttributes(s,t)}if(i===0){const s=new wt(o.parent,o.index);return this._breakAttributes(s,t)}{const s=o.index+1,k=o._clone();o.parent._insertChild(s,k),this._addToClonedElementsGroup(k);const H=o.childCount-i,re=o._removeChildren(i,H);k._appendChild(re);const pe=new wt(o.parent,s);return this._breakAttributes(pe,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const o of e.getChildren())this._addToClonedElementsGroup(o);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const o of e.getChildren())this._removeFromClonedElementsGroup(o);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function te(n){let e=n.parent;for(;!Et(e);){if(!e)return;e=e.parent}return e}function Ee(n,e){return n.priority<e.priority||!(n.priority>e.priority)&&n.getIdentity()<e.getIdentity()}function Ue(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new wt(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new wt(t,0):n}function $e(n){if(n.offset==n.parent.data.length)return new wt(n.parent.parent,n.parent.index+1);if(n.offset===0)return new wt(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new U(n.root.document,e)),new wt(n.parent.parent,n.parent.index+1)}function dt(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new wt(n,t)}const gt=[U,Xt,B,Ai,xn,Mi];function Nt(n,e){for(const t of n){if(!gt.some(i=>t instanceof i))throw new h.Bb("view-writer-insert-invalid-node-type",e);t.is("$text")||Nt(t.getChildren(),e)}}function Et(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Bt(n,e){const t=te(n.start),i=te(n.end);if(!t||!i||t!==i)throw new h.Bb("view-writer-invalid-range-container",e)}function qt(n,e){return n.id===null&&e.id===null}const ai=n=>n.createTextNode("\xA0"),ki=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},hi=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},ri=7,Ii="\u2060".repeat(ri);function Di(n){return typeof n=="string"?n.substr(0,ri)===Ii:(0,h.Gs)(n)&&n.data.substr(0,ri)===Ii}function bn(n){return n.data.length==ri&&Di(n)}function yn(n){const e=typeof n=="string"?n:n.data;return Di(n)?e.slice(ri):e}function Rn(n,e){if(e.keyCode==h.Do.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,o=t.getRangeAt(0).startOffset;Di(i)&&o<=ri&&t.collapse(i,0)}}}var Un=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Nn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(Un.Z,Nn),Un.Z.locals;class jn extends(0,h.Re)(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),h.OB.isBlink&&!h.OB.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new h.Bb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!h.OB.isAndroid)return;let e=null;const t=!(h.OB.isBlink&&!h.OB.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=wt._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),o=i.parent.ownerDocument;Di(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=Sn(o,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const t=Array.from(this.domConverter.mapViewToDom(e).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(t,i),s=this._findUpdateActions(o,t,i,Bn);if(s.indexOf("update")!==-1){const k={equal:0,insert:0,delete:0};for(const H of s)if(H==="update"){const re=k.equal+k.insert,pe=k.equal+k.delete,ye=e.getChild(re);!ye||ye.is("uiElement")||ye.is("rawElement")||this._updateElementMappings(ye,t[pe]),(0,h.Od)(i[re]),k.equal++}else k[H]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?wt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,h.Gs)(t.parent)&&Di(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Di(e))throw new h.Bb("view-renderer-filler-was-lost",this);bn(e)?e.remove():e.data=e.data.substr(ri),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(k){if(k.getAttribute("contenteditable")=="false")return!1;const H=k.findAncestor(re=>re.hasAttribute("contenteditable"));return!H||H.getAttribute("contenteditable")=="true"}(t)||i===t.getFillerOffset())return!1;const o=e.nodeBefore,s=e.nodeAfter;return!(o instanceof U||s instanceof U)&&(!h.OB.isAndroid||!o&&!s)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const s=t.inlineFillerPosition;s&&s.parent==e.parent&&s.offset==e.index&&(o=Ii+o),g(i,o)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(s=>s.name),o=e.getAttributeKeys();for(const s of o)this.domConverter.setDomElementAttribute(t,s,e.getAttribute(s),e);for(const s of i)e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(t,s)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(h.OB.isAndroid){let Ne=null;for(const Je of Array.from(i.childNodes)){if(Ne&&(0,h.Gs)(Ne)&&(0,h.Gs)(Je)){i.normalize();break}Ne=Je}}const o=t.inlineFillerPosition,s=i.childNodes,k=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&Sn(i.ownerDocument,k,o.offset);const H=this._diffNodeLists(s,k),re=this._findUpdateActions(H,s,k,io);let pe=0;const ye=new Set;for(const Ne of re)Ne==="delete"?(ye.add(s[pe]),(0,h.Od)(s[pe])):Ne!=="equal"&&Ne!=="update"||pe++;pe=0;for(const Ne of re)Ne==="insert"?((0,h.ZQ)(i,pe,k[pe]),pe++):Ne==="update"?(g(s[pe],k[pe].data),pe++):Ne==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(k[pe])),pe++);for(const Ne of ye)Ne.parentNode||this.domConverter.unbindDomElement(Ne)}_diffNodeLists(e,t){return e=function(i,o){const s=Array.from(i);return s.length==0||!o||s[s.length-1]==o&&s.pop(),s}(e,this._fakeSelectionContainer),(0,h.Hg)(e,t,ze.bind(null,this.domConverter))}_findUpdateActions(e,t,i,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],k=[],H=[];const re={equal:0,insert:0,delete:0};for(const pe of e)pe==="insert"?H.push(i[re.equal+re.insert]):pe==="delete"?k.push(t[re.equal+re.delete]):(s=s.concat((0,h.Hg)(k,H,o).map(ye=>ye==="equal"?"update":ye)),s.push("equal"),k=[],H=[]),re[pe]++;return s.concat((0,h.Hg)(k,H,o).map(pe=>pe==="equal"?"update":pe))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(h.OB.isBlink&&!h.OB.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&h.OB.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(k){const H=k.createElement("div");return H.className="ck-fake-selection-container",Object.assign(H.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),H.textContent="\xA0",H}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";const o=t.getSelection(),s=t.createRange();o.removeAllRanges(),s.selectNodeContents(i),o.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,o.parent,o.offset),h.OB.isGecko&&function(s,k){const H=s.parent;if(H.nodeType!=Node.ELEMENT_NODE||s.offset!=H.childNodes.length-1)return;const re=H.childNodes[s.offset];re&&re.tagName=="BR"&&k.addRange(k.getRangeAt(0))}(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Sn(n,e,t){const i=e instanceof Array?e:e.childNodes,o=i[t];if((0,h.Gs)(o))return o.data=Ii+o.data,o;{const s=n.createTextNode(Ii);return Array.isArray(e)?i.splice(t,0,s):(0,h.ZQ)(e,t,s),s}}function Bn(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&!(0,h.Gs)(n)&&!(0,h.Gs)(e)&&!(0,h.C3)(n)&&!(0,h.C3)(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function io(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&(0,h.Gs)(n)&&(0,h.Gs)(e)}function ze(n,e,t){return e===t||((0,h.Gs)(e)&&(0,h.Gs)(t)?e.data===t.data:!(!n.isBlockFiller(e)||!n.isBlockFiller(t)))}function g(n,e){const t=n.data;if(t==e)return;const i=(0,h.HZ)(t,e);for(const o of i)o.type==="insert"?n.insertData(o.index,o.values.join("")):n.deleteData(o.index,o.howMany)}const u=hi(h.global.document),x=ai(h.global.document),F=ki(h.global.document),K="data-ck-unsafe-attribute-",ce="data-ck-unsafe-element";class fe{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new R,this._inlineObjectElementMatcher=new R,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.global.document:h.global.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new gi(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),o=i.createDocumentFragment(),s=i.body.childNodes;for(;s.length>0;)o.appendChild(s[0]);const k=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),H=[];let re;for(;re=k.nextNode();)H.push(re);for(const pe of H){for(const Ne of pe.getAttributeNames())this.setDomElementAttribute(pe,Ne,pe.getAttribute(Ne));const ye=pe.tagName.toLowerCase();this._shouldRenameElement(ye)&&(He(ye),pe.replaceWith(this._createReplacementDomElement(ye,pe)))}for(;e.firstChild;)e.firstChild.remove();e.append(o)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let i;if(e.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,e);else{if(e.is("uiElement"))return i=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(i,e),i;this._shouldRenameElement(e.name)?(He(e.name),i=this._createReplacementDomElement(e.name)):i=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(i,this),t.bind&&this.bindElements(i,e);for(const o of e.getAttributeKeys())this.setDomElementAttribute(i,o,e.getAttribute(o),e)}if(t.withChildren!==!1)for(const o of this.viewChildrenToDom(e,t))i.appendChild(o);return i}}setDomElementAttribute(e,t,i,o){const s=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(t);s||(0,h.KE)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),(0,h.$b)(t)?(e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(K+t)&&s&&e.removeAttribute(K+t),e.setAttribute(s?t:K+t,i)):(0,h.KE)("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=ce&&(e.removeAttribute(t),e.removeAttribute(K+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const s of e.getChildren()){i===o&&(yield this._getBlockFiller());const k=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!(0,h.Ps)(s.getAttributes());k&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,t):(k&&(0,h.KE)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t)),o++}i===o&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),o=this._domDocument.createRange();return o.setStart(t.parent,t.offset),o.setEnd(i.parent,i.offset),o}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let o=e.offset;return Di(i)&&(o+=ri),{parent:i,offset:o}}{let i,o,s;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;s=i.childNodes[0]}else{const k=e.nodeBefore;if(o=k.is("$text")?this.findCorrespondingDomText(k):this.mapViewToDom(k),!o)return null;i=o.parentNode,s=o.nextSibling}return(0,h.Gs)(s)&&Di(s)?{parent:s,offset:ri}:{parent:i,offset:o?(0,h.cq)(o)+1:0}}}domToView(e,t={}){const i=[],o=this._domToView(e,t,i),s=o.next().value;return s?(o.next(),this._processDomInlineNodes(null,i,t),s.is("$text")&&s.data.length==0?null:s):null}*domChildrenToView(e,t={},i=[]){for(let o=0;o<e.childNodes.length;o++){const s=e.childNodes[o],k=this._domToView(s,t,i),H=k.next().value;H!==null&&(this._isBlockViewElement(H)&&this._processDomInlineNodes(e,i,t),yield H,k.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(e.rangeCount===1){let o=e.getRangeAt(0).startContainer;(0,h.Gs)(o)&&(o=o.parentNode);const s=this.fakeSelectionToView(o);if(s)return s}const t=this.isDomSelectionBackward(e),i=[];for(let o=0;o<e.rangeCount;o++){const s=e.getRangeAt(o),k=this.domRangeToView(s);k&&i.push(k)}return new gi(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new zt(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return wt._createBefore(i);if((0,h.Gs)(e)){if(bn(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const o=this.findCorrespondingViewText(e);let s=t;return o?(Di(e)&&(s-=ri,s=s<0?0:s),new wt(o,s)):null}if(t===0){const o=this.mapDomToView(e);if(o)return new wt(o,0)}else{const o=e.childNodes[t-1];if((0,h.Gs)(o)&&bn(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,(0,h.cq)(o));const s=(0,h.Gs)(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(s&&s.parent)return new wt(s.parent,s.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(bn(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const o=this.mapDomToView(i);if(o){const s=o.nextSibling;return s instanceof U?s:null}}else{const o=this.mapDomToView(e.parentNode);if(o){const s=o.getChild(0);return s instanceof U?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:o}=h.global.window,s=[];Le(t,k=>{const{scrollLeft:H,scrollTop:re}=k;s.push([H,re])}),t.focus(),Le(t,k=>{const[H,re]=s.shift();k.scrollLeft=H,k.scrollTop=re}),h.global.window.scrollTo(i,o)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(u):!(e.tagName!=="BR"||!De(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(F)||function(t,i){return t.isEqualNode(x)&&De(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=(0,h.dk)(e);for(t.pop();t.length;){const i=t.pop(),o=this._domToViewMapping.get(i);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return ai(this._domDocument);case"markedNbsp":return ki(this._domDocument);case"br":return hi(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,h.Gs)(e)&&Di(e)&&t<ri||this.isElement(e)&&Di(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if((0,h.C3)(e)&&t.skipComments)return null;if((0,h.Gs)(e)){if(bn(e))return null;{const s=e.data;if(s==="")return null;const k=new U(this.document,s);return i.push(k),k}}{let s=this.mapDomToView(e);if(s)return this._isInlineObjectElement(s)&&i.push(s),s;if(this.isDocumentFragment(e))s=new ln(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const H=e.attributes;if(H)for(let re=H.length,pe=0;pe<re;pe++)s._setAttribute(H[pe].name,H[pe].value);if(this._isViewElementWithRawContent(s,t))return s._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(s)||i.push(s),s;if((0,h.C3)(e))return s._setCustomProperty("$rawContent",e.data),s}yield s;const k=[];if(t.withChildren!==!1)for(const H of this.domChildrenToView(e,t,k))s._appendChild(H);if(this._isInlineObjectElement(s))i.push(s);else for(const H of k)i.push(H)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let o=!1;for(let s=0;s<t.length;s++){const k=t[s];if(!k.is("$text")){o=!1;continue}let H,re=!1;if(Se(k,this.preElements))H=yn(k.data);else{H=k.data.replace(/[ \n\t\r]{1,}/g," "),re=/[^\S\u00A0]/.test(H.charAt(H.length-1));const pe=s>0?t[s-1]:null,ye=s+1<t.length?t[s+1]:null,Ne=!pe||pe.is("element")&&pe.name=="br"||o,Je=!ye&&!Di(k.data);i.withChildren!==!1&&(Ne&&(H=H.replace(/^ /,"")),Je&&(H=H.replace(/ $/,""))),H=yn(H),H=H.replace(/ \u00A0/g,"  ");const Mt=ye&&ye.is("element")&&ye.name!="br",Wt=ye&&ye.is("$text")&&ye.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(H)||!ye||Mt||Wt)&&(H=H.replace(/\u00A0$/," ")),(Ne||pe&&pe.is("element")&&pe.name!="br")&&(H=H.replace(/^\u00A0/," "))}H.length==0&&k.parent?(k._remove(),t.splice(s,1),s--):(k._data=H,o=re)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),o=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!o||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new Ht({startPosition:t?wt._createAfter(e):wt._createBefore(e),direction:t?"forward":"backward"});for(const o of i){if(o.item.is("element","br"))return null;if(this._isInlineObjectElement(o.item))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("$textProxy"))return o.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if((0,h.C3)(e))return new Mi(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ji(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(ce,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const o of t.getAttributeNames())i.setAttribute(o,t.getAttribute(o))}return i}}function Se(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function Le(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function De(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function He(n){n==="script"&&(0,h.KE)("domconverter-unsafe-script-element-detected"),n==="style"&&(0,h.KE)("domconverter-unsafe-style-element-detected")}class Qe extends(0,h.Xu)(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var _t=l("./node_modules/lodash-es/assignIn.js");class Pt{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,_t.Z)(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class vt extends Qe{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new Pt(this.view,t,i))}}class Gt extends vt{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,h.Cq)(this)}};this.fire(e.type,e,t)}}var ui=l("./node_modules/lodash-es/debounce.js");class Pi extends Qe{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,ui.Z)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new gi(t.getRanges(),{backward:t.isBackward,fake:!1});e!=h.Do.arrowleft&&e!=h.Do.arrowup||i.setTo(i.getFirstPosition()),e!=h.Do.arrowright&&e!=h.Do.arrowdown||i.setTo(i.getLastPosition());const o={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}const Wi=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Ki=function(n){return this.__data__.has(n)};function nn(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new rt.Z;++e<t;)this.add(n[e])}nn.prototype.add=nn.prototype.push=Wi,nn.prototype.has=Ki;const Wn=nn,Pn=function(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1},qn=function(n,e){return n.has(e)},_o=function(n,e,t,i,o,s){var k=1&t,H=n.length,re=e.length;if(H!=re&&!(k&&re>H))return!1;var pe=s.get(n),ye=s.get(e);if(pe&&ye)return pe==e&&ye==n;var Ne=-1,Je=!0,Mt=2&t?new Wn:void 0;for(s.set(n,e),s.set(e,n);++Ne<H;){var Wt=n[Ne],si=e[Ne];if(i)var bi=k?i(si,Wt,Ne,e,n,s):i(Wt,si,Ne,n,e,s);if(bi!==void 0){if(bi)continue;Je=!1;break}if(Mt){if(!Pn(e,function(Fi,Hi){if(!qn(Mt,Hi)&&(Wt===Fi||o(Wt,Fi,t,i,s)))return Mt.push(Hi)})){Je=!1;break}}else if(Wt!==si&&!o(Wt,si,t,i,s)){Je=!1;break}}return s.delete(n),s.delete(e),Je};var po=l("./node_modules/lodash-es/_Symbol.js"),Kn=l("./node_modules/lodash-es/_Uint8Array.js");const yo=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i,o){t[++e]=[o,i]}),t},no=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t};var fo=po.Z?po.Z.prototype:void 0,bo=fo?fo.valueOf:void 0;const Vn=function(n,e,t,i,o,s,k){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!s(new Kn.Z(n),new Kn.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Lt.Z)(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var H=yo;case"[object Set]":var re=1&i;if(H||(H=no),n.size!=e.size&&!re)return!1;var pe=k.get(n);if(pe)return pe==e;i|=2,k.set(n,e);var ye=_o(H(n),H(e),i,o,s,k);return k.delete(n),ye;case"[object Symbol]":if(bo)return bo.call(n)==bo.call(e)}return!1};var Gn=l("./node_modules/lodash-es/_getAllKeys.js"),so=Object.prototype.hasOwnProperty;const Oo=function(n,e,t,i,o,s){var k=1&t,H=(0,Gn.Z)(n),re=H.length;if(re!=(0,Gn.Z)(e).length&&!k)return!1;for(var pe=re;pe--;){var ye=H[pe];if(!(k?ye in e:so.call(e,ye)))return!1}var Ne=s.get(n),Je=s.get(e);if(Ne&&Je)return Ne==e&&Je==n;var Mt=!0;s.set(n,e),s.set(e,n);for(var Wt=k;++pe<re;){var si=n[ye=H[pe]],bi=e[ye];if(i)var Fi=k?i(bi,si,ye,e,n,s):i(si,bi,ye,n,e,s);if(!(Fi===void 0?si===bi||o(si,bi,t,i,s):Fi)){Mt=!1;break}Wt||(Wt=ye=="constructor")}if(Mt&&!Wt){var Hi=n.constructor,mn=e.constructor;Hi==mn||!("constructor"in n)||!("constructor"in e)||typeof Hi=="function"&&Hi instanceof Hi&&typeof mn=="function"&&mn instanceof mn||(Mt=!1)}return s.delete(n),s.delete(e),Mt};var Fo=l("./node_modules/lodash-es/_getTag.js"),xo="[object Arguments]",Zi="[object Array]",Lo="[object Object]",Mo=Object.prototype.hasOwnProperty;const Ho=function(n,e,t,i,o,s){var k=(0,Te.Z)(n),H=(0,Te.Z)(e),re=k?Zi:(0,Fo.Z)(n),pe=H?Zi:(0,Fo.Z)(e),ye=(re=re==xo?Lo:re)==Lo,Ne=(pe=pe==xo?Lo:pe)==Lo,Je=re==pe;if(Je&&(0,nt.Z)(n)){if(!(0,nt.Z)(e))return!1;k=!0,ye=!1}if(Je&&!ye)return s||(s=new ut.Z),k||(0,_e.Z)(n)?_o(n,e,t,i,o,s):Vn(n,e,re,t,i,o,s);if(!(1&t)){var Mt=ye&&Mo.call(n,"__wrapped__"),Wt=Ne&&Mo.call(e,"__wrapped__");if(Mt||Wt){var si=Mt?n.value():n,bi=Wt?e.value():e;return s||(s=new ut.Z),o(si,bi,t,i,s)}}return!!Je&&(s||(s=new ut.Z),Oo(n,e,t,i,o,s))},Tn=function n(e,t,i,o,s){return e===t||(e==null||t==null||!(0,xi.Z)(e)&&!(0,xi.Z)(t)?e!=e&&t!=t:Ho(e,t,i,o,n,s))},$o=function(n,e,t){var i=(t=typeof t=="function"?t:void 0)?t(n,e):void 0;return i===void 0?Tn(n,e,void 0,t):!!i};class Uo extends Qe{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,o=new Set;for(const k of e){const H=t.mapDomToView(k.target);H&&(H.is("uiElement")||H.is("rawElement")||k.type!=="childList"||this._isBogusBrMutation(k)||o.add(H))}for(const k of e){const H=t.mapDomToView(k.target);if((!H||!H.is("uiElement")&&!H.is("rawElement"))&&k.type==="characterData"){const re=t.findCorrespondingViewText(k.target);re&&!o.has(re.parent)?i.add(re):!re&&Di(k.target)&&o.add(t.mapDomToView(k.target.parentNode))}}let s=!1;for(const k of i)s=!0,this.renderer.markToSync("text",k);for(const k of o){const H=t.mapViewToDom(k),re=Array.from(k.getChildren()),pe=Array.from(t.domChildrenToView(H,{withChildren:!1}));$o(re,pe,ar)||(s=!0,this.renderer.markToSync("children",k))}s&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function ar(n,e){if(!Array.isArray(n))return n===e||!(!n.is("$text")||!e.is("$text"))&&n.data===e.data}class Ro extends vt{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,o)=>{const s=t.selection.editableElement;s!==null&&s!==o.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class lr extends Qe{constructor(e){super(e),this.mutationObserver=e.getObserver(Uo),this.focusObserver=e.getObserver(Ro),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,ui.Z)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,ui.Z)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(o,s)=>{this.document.isComposing&&!h.OB.isAndroid||(this._handleSelectionChange(s,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(o)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(o))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Mn extends vt{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class wo{constructor(e,t={}){this._files=t.cacheFiles?Co(e):null,this._native=e}get files(){return this._files||(this._files=Co(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Co(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class cr extends vt{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,o=i.document;let s=null,k=null,H=[];if(e.dataTransfer&&(s=new wo(e.dataTransfer)),e.data!==null?k=e.data:s&&(k=s.getData("text/plain")),o.selection.isFake)H=Array.from(o.selection.getRanges());else if(t.length)H=t.map(re=>{const pe=i.domConverter.domPositionToView(re.startContainer,re.startOffset),ye=i.domConverter.domPositionToView(re.endContainer,re.endOffset);return pe?i.createRange(pe,ye):ye?i.createRange(ye):void 0}).filter(re=>!!re);else if(h.OB.isAndroid){const re=e.target.ownerDocument.defaultView.getSelection();H=Array.from(i.domConverter.domSelectionToView(re).getRanges())}if(h.OB.isAndroid&&e.inputType=="insertCompositionText"&&k&&k.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(H[0].end)]});else if(e.inputType=="insertText"&&k&&k.includes(`
`)){const re=k.split(/\n{1,2}/g);let pe=H;for(let ye=0;ye<re.length;ye++){const Ne=re[ye];Ne!=""&&(this.fire(e.type,e,{data:Ne,dataTransfer:s,targetRanges:pe,inputType:e.inputType,isComposing:e.isComposing}),pe=[o.selection.getFirstRange()]),ye+1<re.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:pe}),pe=[o.selection.getFirstRange()])}}else this.fire(e.type,e,{data:k,dataTransfer:s,targetRanges:H,inputType:e.inputType,isComposing:e.isComposing})}}class br extends Qe{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&(0,h.dj)(i.keyCode)){const o=new Ti(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,i),o.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class Yn extends Qe{constructor(e){super(e);const t=this.document;t.on("keydown",(i,o)=>{if(!this.isEnabled||o.keyCode!=h.Do.tab||o.ctrlKey)return;const s=new Ti(t,"tab",t.selection.getFirstRange());t.fire(s,o),s.stop.called&&i.stop()})}observe(){}stopObserving(){}}const ao=function(n){return(0,C.Z)(n,5)};class qo extends(0,h.Re)(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Ot(e),this.domConverter=new fe(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new jn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new It(this.document),this.addObserver(Uo),this.addObserver(Ro),this.addObserver(lr),this.addObserver(Gt),this.addObserver(Pi),this.addObserver(Mn),this.addObserver(br),this.addObserver(cr),this.addObserver(Yn),this.document.on("arrowKey",Rn,{priority:"low"}),cn(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),h.OB.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const o={};for(const{name:k,value:H}of Array.from(e.attributes))o[k]=H,k==="class"?this._writer.addClass(H.split(" "),i):this._writer.setAttribute(k,H,i);this._initialDomRootAttributes.set(e,o);const s=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(k,H)=>this._renderer.markToSync("children",H)),i.on("change:attributes",(k,H)=>this._renderer.markToSync("attributes",H)),i.on("change:text",(k,H)=>this._renderer.markToSync("text",H)),i.on("change:isReadOnly",()=>this.change(s)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const k of this._observers.values())k.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:o})=>t.removeAttribute(o));const i=this._initialDomRootAttributes.get(t);for(const o in i)t.setAttribute(o,i[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const o of this._observers.values())o.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,o]of this.domRoots)t.observe(o,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:o=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const k=ao({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:o});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const H={target:this.domConverter.viewRangeToDom(s),viewportOffset:i,ancestorOffset:o,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",H,k),(0,h.mR)(H)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new h.Bb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ro).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return wt._createAt(e,t)}createPositionAfter(e){return wt._createAfter(e)}createPositionBefore(e){return wt._createBefore(e)}createRange(e,t){return new zt(e,t)}createRangeOn(e){return zt._createOn(e)}createRangeIn(e){return zt._createIn(e)}createSelection(...e){return new gi(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Qn{is(){throw new Error("is() method is abstract")}}class lo extends Qn{constructor(e){super(),this.parent=null,this._attrs=(0,h.qL)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,h.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,h.qL)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}lo.prototype.is=function(n){return n==="node"||n==="model:node"};class sn{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,o)=>i+o.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new h.Bb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new h.Bb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof lo))throw new h.Bb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,h.x)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class an extends lo{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new an(this.data,this.getAttributes())}static fromJSON(e){return new an(e.data,e.attributes)}}an.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};class Dn extends Qn{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new h.Bb("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new h.Bb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Dn.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class on extends lo{constructor(e,t,i){super(t),this._children=new sn,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new on(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new an(o)]:((0,h.TW)(o)||(o=[o]),Array.from(o).map(s=>typeof s=="string"?new an(s):s instanceof Dn?new an(s.data,s.getAttributes()):s))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(on.fromJSON(i)):t.push(an.fromJSON(i))}return new on(e.name,e.attributes,t)}}on.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};class oo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new h.Bb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new h.Bb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=oi._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,o,s;do o=this.position,s=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=o,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=ko(t,i),s=o||dr(t,i,o);if(s instanceof on){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=s;return this._position=t,ro("elementStart",s,e,t,1)}if(s instanceof an){let k;if(this.singleCharacters)k=1;else{let pe=s.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<pe&&(pe=this.boundaries.end.offset),k=pe-t.offset}const H=t.offset-s.startOffset,re=new Dn(s,H,k);return t.offset+=k,this._position=t,ro("text",re,e,t,k)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():ro("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=t.parent,s=ko(t,o),k=s||Ko(t,o,s);if(k instanceof on)return t.offset--,this.shallow?(this._position=t,ro("elementStart",k,e,t,1)):(t.path.push(k.maxOffset),this._position=t,this._visitedParent=k,this.ignoreElementEnd?this._previous():ro("elementEnd",k,e,t));if(k instanceof an){let H;if(this.singleCharacters)H=1;else{let ye=k.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>ye&&(ye=this.boundaries.start.offset),H=t.offset-ye}const re=t.offset-k.startOffset,pe=new Dn(k,re-H,H);return t.offset-=H,this._position=t,ro("text",pe,e,t,H)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,ro("elementStart",i,e,t,1)}}function ro(n,e,t,i,o){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:o}}}class oi extends Qn{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new h.Bb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new h.Bb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new h.Bb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new h.Bb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return ko(this,this.parent)}get nodeAfter(){const e=this.parent;return dr(this,e,ko(this,e))}get nodeBefore(){const e=this.parent;return Ko(this,e,ko(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,h.Rt)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new oo(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,h.Rt)(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const o=this.path[i]-e.path[i];if(o<-1||o>1)return!1;if(o===1)return Go(e,this,i);if(o===-1)return Go(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?Jn(this.path,t):Jn(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return(0,h.Rt)(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=oi._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?oi._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=oi._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;i.path[o]-=t}}return i}_getTransformedByInsertion(e,t){const i=oi._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(i.path[o]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return oi._createAt(this);const o=this._getTransformedByDeletion(e,i);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):o._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,o=oi._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[i]-e.offset,o.path=[...o.path,...this.path.slice(i+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof oi)return new oi(e.root,e.path,e.stickiness);{const o=e;if(t=="end")t=o.maxOffset;else{if(t=="before")return this._createBefore(o,i);if(t=="after")return this._createAfter(o,i);if(t!==0&&!t)throw new h.Bb("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new h.Bb("model-position-parent-incorrect",[this,e]);const s=o.getPath();return s.push(t),new this(o.root,s,i)}}static _createAfter(e,t){if(!e.parent)throw new h.Bb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new h.Bb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new oi(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new h.Bb("model-position-fromjson-no-root",t,{rootName:e.root});return new oi(t.getRoot(e.root),e.path,e.stickiness)}}function ko(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function dr(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function Ko(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function Go(n,e,t){return t+1!==n.path.length&&!!Jn(e.path,t+1)&&!!function(i,o){let s=i.parent,k=i.path.length-1,H=0;for(;k>=o;){if(i.path[k]+H!==s.maxOffset)return!1;H=1,k--,s=s.parent}return!0}(n,t+1)}function Jn(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}oi.prototype.is=function(n){return n==="position"||n==="model:position"};class Dt extends Qn{constructor(e,t){super(),this.start=oi._createAt(e),this.end=t?oi._createAt(t):oi._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new oo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,h.Rt)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}containsItem(e){const t=oi._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Dt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Dt(e.end,this.end))):t.push(new Dt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Dt(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let o=this.start,s=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(s)&&(s=e.end),new Dt(o,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=oi._createAt(this.start);let o=i.parent;for(;i.path.length>t+1;){const s=o.maxOffset-i.offset;s!==0&&e.push(new Dt(i,i.getShiftedBy(s))),i.path=i.path.slice(0,-1),i.offset++,o=o.parent}for(;i.path.length<=this.end.path.length;){const s=this.end.path[i.path.length-1],k=s-i.offset;k!==0&&e.push(new Dt(i,i.getShiftedBy(k))),i.offset=s,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new oo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new oo(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new oo(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Dt(this.start,this.end)]}getTransformedByOperations(e){const t=[new Dt(this.start,this.end)];for(const i of e)for(let o=0;o<t.length;o++){const s=t[o].getTransformedByOperation(i);t.splice(o,1,...s),o+=s.length-1}for(let i=0;i<t.length;i++){const o=t[i];for(let s=i+1;s<t.length;s++){const k=t[s];(o.containsRange(k)||k.containsRange(o)||o.isEqual(k))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,o=e.howMany,s=e.targetPosition;return this._getTransformedByMove(i,s,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Dt(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Dt(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=oi._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new Dt(t,i)):new Dt(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new Dt(this.start,e),new Dt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const o=new Dt(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,t),o.end=o.end._getTransformedByInsertion(e,t),[o]}}_getTransformedByMove(e,t,i,o=!1){if(this.isCollapsed){const Ne=this.start._getTransformedByMove(e,t,i);return[new Dt(Ne)]}const s=Dt._createFromPositionAndShift(e,i),k=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!o&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const Ne=this.start._getTransformedByMove(e,t,i),Je=this.end._getTransformedByMove(e,t,i);return[new Dt(Ne,Je)]}let H;const re=this.getDifference(s);let pe=null;const ye=this.getIntersection(s);if(re.length==1?pe=new Dt(re[0].start._getTransformedByDeletion(e,i),re[0].end._getTransformedByDeletion(e,i)):re.length==2&&(pe=new Dt(this.start,this.end._getTransformedByDeletion(e,i))),H=pe?pe._getTransformedByInsertion(k,i,ye!==null||o):[],ye){const Ne=new Dt(ye.start._getCombined(s.start,k),ye.end._getCombined(s.start,k));H.length==2?H.splice(1,0,Ne):H.push(Ne)}return H}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return i==null&&o==null?null:(i==null&&(i=e),o==null&&(o=e),new Dt(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return new this(oi._createAt(e,0),oi._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(oi._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new h.Bb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,k)=>s.start.isAfter(k.start)?1:-1);const i=e.indexOf(t),o=new this(t.start,t.end);if(i>0)for(let s=i-1;e[s].end.isEqual(o.start);s++)o.start=oi._createAt(e[s].start);for(let s=i+1;s<e.length&&e[s].start.isEqual(o.end);s++)o.end=oi._createAt(e[s].end);return o}static fromJSON(e,t){return new this(oi.fromJSON(e.start,t),oi.fromJSON(e.end,t))}}Dt.prototype.is=function(n){return n==="range"||n==="model:range"};class Yo extends(0,h.ln)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new h.Bb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(i),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=oi._createAt(o,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Dt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new zt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const o of t)if(o.is("attributeElement"))for(const s of o.getElementsWithSameId())i.add(s);else i.add(o);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let o=0;for(let s=0;s<t;s++)o+=this.getModelLength(e.getChild(s));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,o=0,s=0,k=0;if(e.is("$text"))return new wt(e,t);for(;s<t;)i=e.getChild(k),o=this.getModelLength(i),s+=o,k++;return s==t?this._moveViewPositionToTextNode(new wt(e,k)):this.findPositionIn(i,t-(s-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof U?new wt(t,t.data.length):i instanceof U?new wt(i,0):e}}class Qo{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=To(t),e instanceof Dn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=To(t),e instanceof Dn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=To(t),e instanceof Dn&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const o=i.get(t);return o===void 0?null:o}revert(e,t){t=To(t),e instanceof Dn&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,o]of this._consumable)for(const[s,k]of o){const H=s.split(":")[0];k&&e==H&&t.push({event:s,item:i.name||i.description})}if(t.length)throw new h.Bb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const o=i.get(e.endOffset);o&&(t=o.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,o=e.parent,s=Symbol("$textProxy:"+e.data);let k,H;return k=this._textProxyRegistry.get(t),k||(k=new Map,this._textProxyRegistry.set(t,k)),H=k.get(i),H||(H=new Map,k.set(i,H)),H.set(o,s),s}}function To(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}var Wo=Object.defineProperty,Ao=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,jo=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Ke=(n,e,t)=>e in n?Wo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jt=(n,e)=>{for(var t in e||(e={}))ke.call(e,t)&&Ke(n,t,e[t]);if(jo)for(var t of jo(e))ve.call(e,t)&&Ke(n,t,e[t]);return n},Si=(n,e)=>Ao(n,Eo(e));class zi extends(0,h.ln)(){constructor(e){super(),this._conversionApi=jt({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const o=this._createConversionApi(i,e.getRefreshedItems());for(const k of e.getMarkersToRemove())this._convertMarkerRemove(k.name,k.range,o);const s=this._reduceChanges(e.getChanges());for(const k of s)k.type==="insert"?this._convertInsert(Dt._createFromPositionAndShift(k.position,k.length),o):k.type==="reinsert"?this._convertReinsert(Dt._createFromPositionAndShift(k.position,k.length),o):k.type==="remove"?this._convertRemove(k.position,k.length,k.name,o):this._convertAttribute(k.range,k.attributeKey,k.attributeOldValue,k.attributeNewValue,o);for(const k of o.mapper.flushUnboundMarkerNames()){const H=t.get(k).getRange();this._convertMarkerRemove(k,H,o),this._convertMarkerAdd(k,H,o)}for(const k of e.getMarkersToAdd())this._convertMarkerAdd(k.name,k.range,o);o.mapper.flushDeferredBindings(),o.consumable.verifyAllConsumed("insert")}convert(e,t,i,o={}){const s=this._createConversionApi(i,void 0,o);this._convertInsert(e,s);for(const[k,H]of t)this._convertMarkerAdd(k,H,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const o=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},o);const s=e.getFirstPosition().root;if(!o.mapper.toViewElement(s))return;const k=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,k),this.fire("selection",{selection:e},o),e.isCollapsed){for(const H of k)if(o.consumable.test(e,"addMarker:"+H.name)){const re=H.getRange();if(!Gi(e.getFirstPosition(),H,o.mapper))continue;const pe={item:e,markerName:H.name,markerRange:re};this.fire(`addMarker:${H.name}`,pe,o)}for(const H of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+H)){const re={item:e,range:e.getFirstRange(),attributeKey:H,attributeOldValue:null,attributeNewValue:e.getAttribute(H)};this.fire(`attribute:${H}:$text`,re,o)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const o of Array.from(e.getWalker({shallow:!0})).map($i))this._testAndFire("insert",o,t)}_convertRemove(e,t,i,o){this.fire(`remove:${i}`,{position:e,length:t},o)}_convertAttribute(e,t,i,o,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const k of e){const H={item:k.item,range:Dt._createFromPositionAndShift(k.previousPosition,k.length),attributeKey:t,attributeOldValue:i,attributeNewValue:o};this._testAndFire(`attribute:${t}`,H,s)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const o of i.map($i))this._testAndFire("insert",Si(jt({},o),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(i.consumable.add(t,o),this.fire(o,{markerName:e,markerRange:t},i),i.consumable.consume(t,o)){this._addConsumablesForRange(i.consumable,t,o);for(const s of t.getItems()){if(!i.consumable.test(s,o))continue;const k={item:s,range:Dt._createOn(s),markerName:e,markerRange:t};this.fire(o,k,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const o=i.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const s of o.getAttributeKeys())e.add(o,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,i){for(const o of t.getItems())e.add(o,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const o of i)e.add(t,"addMarker:"+o.name);for(const o of t.getAttributeKeys())e.add(t,"attribute:"+o);return e}_testAndFire(e,t,i){const o=function(re,pe){const ye=pe.item.is("element")?pe.item.name:"$text";return`${re}:${ye}`}(e,t),s=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,k=this._firedEventsMap.get(i),H=k.get(s);if(H){if(H.has(o))return;H.add(o)}else k.set(s,new Set([o]));this.fire(o,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:Dt._createOn(e)};for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i,t)}_createConversionApi(e,t=new Set,i={}){const o=Si(jt({},this._conversionApi),{consumable:new Qo,writer:e,options:i,convertItem:s=>this._convertInsert(Dt._createOn(s),o),convertChildren:s=>this._convertInsert(Dt._createIn(s),o,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,o),canReuseView:s=>!t.has(o.mapper.toModelElement(s))});return this._firedEventsMap.set(o,new Map),o}}function Gi(n,e,t){const i=e.getRange(),o=Array.from(n.getAncestors());return o.shift(),o.reverse(),!o.some(s=>{if(i.containsItem(s))return!!t.toViewElement(s).getCustomProperty("addHighlight")})}function $i(n){return{item:n.item,range:Dt._createFromPositionAndShift(n.previousPosition,n.length)}}class Qi extends(0,h.ln)(Qn){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Dt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Dt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Dt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof Qi)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Dt)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof oi)this._setRanges([new Dt(t)]);else if(t instanceof lo){const s=!!o&&!!o.backward;let k;if(i=="in")k=Dt._createIn(t);else if(i=="on")k=Dt._createOn(t);else{if(i===void 0)throw new h.Bb("model-selection-setto-required-second-parameter",[this,t]);k=new Dt(oi._createAt(t,i))}this._setRanges([k],s)}else{if(!(0,h.TW)(t))throw new h.Bb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,o&&!!o.backward)}}_setRanges(e,t=!1){const i=Array.from(e),o=i.some(s=>{if(!(s instanceof Dt))throw new h.Bb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(k=>!k.isEqual(s))});(i.length!==this._ranges.length||o)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new h.Bb("model-selection-setfocus-no-ranges",[this,e]);const i=oi._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(o)=="before"?(this._pushRange(new Dt(i,o)),this._lastRangeBackward=!0):(this._pushRange(new Dt(o,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=co(t.start,e);uo(i,t)&&(yield i);for(const s of t.getWalker()){const k=s.item;s.type=="elementEnd"&&Vo(k,e,t)&&(yield k)}const o=co(t.end,e);Xn(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=oi._createAt(e,0),i=oi._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Dt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new h.Bb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function gn(n,e){return!e.has(n)&&(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function Vo(n,e,t){return gn(n,e)&&On(n,t)}function co(n,e){const t=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const s=i.find(k=>!o&&(o=t.isLimit(k),!o&&gn(k,e)));return i.forEach(k=>e.add(k)),s}function On(n,e){const t=function(i){const o=i.root.document.model.schema;let s=i.parent;for(;s;){if(o.isBlock(s))return s;s=s.parent}}(n);return t?!e.containsRange(Dt._createOn(t),!0):!0}function uo(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.start.isTouching(oi._createAt(n,n.maxOffset))&&On(n,e))}function Xn(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.end.isTouching(oi._createAt(n,0))&&On(n,e))}Qi.prototype.is=function(n){return n==="selection"||n==="model:selection"};class An extends(0,h.ln)(Dt){constructor(e,t){super(e,t),zn.call(this)}detach(){this.stopListening()}toRange(){return new Dt(this.start,this.end)}static fromRange(e){return new An(e.start,e.end)}}function zn(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&eo.call(this,t)},{priority:"low"})}function eo(n){const e=this.getTransformedByOperation(n),t=Dt._createFromRanges(e),i=!t.isEqual(this),o=function(k,H){switch(H.type){case"insert":return k.containsPosition(H.position);case"move":case"remove":case"reinsert":case"merge":return k.containsPosition(H.sourcePosition)||k.start.isEqual(H.sourcePosition)||k.containsPosition(H.targetPosition);case"split":return k.containsPosition(H.splitPosition)||k.containsPosition(H.insertionPosition)}return!1}(this,n);let s=null;if(i){t.root.rootName=="$graveyard"&&(s=n.type=="remove"?n.sourcePosition:n.deletionPosition);const k=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",k,{deletionPosition:s})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:s})}An.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};const wn="selection:";class kn extends(0,h.ln)(Qn){constructor(e){super(),this._selection=new ho(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return wn+e}static _isStoreAttributeKey(e){return e.startsWith(wn)}}kn.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class ho extends Qi{constructor(e){super(),this.markers=new h.FE({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,o,s)=>{this._updateMarker(i,s)}),this.listenTo(this._document,"change",(t,i)=>{(function(o,s){const k=o.document.differ;for(const H of k.getChanges()){if(H.type!="insert")continue;const re=H.position.parent;H.length===re.maxOffset&&o.enqueueChange(s,pe=>{const ye=Array.from(re.getAttributeKeys()).filter(Ne=>Ne.startsWith(wn));for(const Ne of ye)pe.removeAttribute(Ne,re)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,h.hQ)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new h.Bb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new h.Bb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=An.fromRange(e);return t.on("change:range",(i,o,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const k=this._ranges.indexOf(t);this._ranges.splice(k,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const o of this._model.markers){const s=o.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const k=o.getRange();for(const H of this.getRanges())k.containsRange(H,!H.isCollapsed)&&e.push(o)}const i=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),t=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let o=!1;const s=Array.from(this.markers),k=this.markers.has(e);if(t){let H=!1;for(const re of this.getRanges())if(t.containsRange(re,!re.isCollapsed)){H=!0;break}H&&!k?(this.markers.add(e),o=!0):!H&&k&&(this.markers.remove(e),o=!0)}else k&&(this.markers.remove(e),o=!0);o&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=(0,h.qL)(this._getSurroundingAttributes()),i=(0,h.qL)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,k]of this._attributePriority)k=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const o=[];for(const[s,k]of this.getAttributes())i.has(s)&&i.get(s)===k||o.push(s);for(const[s]of i)this.hasAttribute(s)||o.push(s);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,i=!0){const o=i?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,o),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,o]of this.getAttributes())e.get(i)!==o&&this._removeAttribute(i,!1);for(const[i,o]of e)this._setAttribute(i,o,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(wn)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=No(o,t)),i||(i=No(s,t)),!this.isGravityOverridden&&!i){let k=o;for(;k&&!i;)k=k.previousSibling,i=No(k,t)}if(!i){let k=s;for(;k&&!i;)k=k.nextSibling,i=No(k,t)}i||(i=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const s of o){if(s.item.is("element")&&t.isObject(s.item)){i=No(s.item,t);break}if(s.type=="text"){i=s.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function No(n,e){if(!n)return null;if(n instanceof Dn||n instanceof an)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,o]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,o]);return t}class ur{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class xr extends ur{elementToElement(e){return this.add(function(t){const i=So(t.model),o=Jo(t.view,"container");return i.attributes.length&&(i.children=!0),s=>{s.on(`insert:${i.name}`,function(k,H=je){return(re,pe,ye)=>{if(!H(pe.item,ye.consumable,{preflight:!0}))return;const Ne=k(pe.item,ye,pe);if(!Ne)return;H(pe.item,ye.consumable);const Je=ye.mapper.toViewPosition(pe.range.start);ye.mapper.bindElements(pe.item,Ne),ye.writer.insert(Je,Ne),ye.convertAttributes(pe.item),X(Ne,pe.item.getChildren(),ye,{reconversion:pe.reconversion})}}(o,T(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&s.on("reduceChanges",a(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=So(t.model),o=Jo(t.view,"container");return i.children=!0,s=>{if(s._conversionApi.schema.checkChild(i.name,"$text"))throw new h.Bb("conversion-element-to-structure-disallowed-text",s,{elementName:i.name});var k,H;s.on(`insert:${i.name}`,(k=o,H=T(i),(re,pe,ye)=>{if(!H(pe.item,ye.consumable,{preflight:!0}))return;const Ne=new Map;ye.writer._registerSlotFactory(function(Wt,si,bi){return(Fi,Hi)=>{const mn=Fi.createContainerElement("$slot");let mo=null;if(Hi==="children")mo=Array.from(Wt.getChildren());else{if(typeof Hi!="function")throw new h.Bb("conversion-slot-mode-unknown",bi.dispatcher,{modeOrFilter:Hi});mo=Array.from(Wt.getChildren()).filter(zo=>Hi(zo))}return si.set(mn,mo),mn}}(pe.item,Ne,ye));const Je=k(pe.item,ye,pe);if(ye.writer._clearSlotFactory(),!Je)return;(function(Wt,si,bi){const Fi=Array.from(si.values()).flat(),Hi=new Set(Fi);if(Hi.size!=Fi.length)throw new h.Bb("conversion-slot-filter-overlap",bi.dispatcher,{element:Wt});if(Hi.size!=Wt.childCount)throw new h.Bb("conversion-slot-filter-incomplete",bi.dispatcher,{element:Wt})})(pe.item,Ne,ye),H(pe.item,ye.consumable);const Mt=ye.mapper.toViewPosition(pe.range.start);ye.mapper.bindElements(pe.item,Je),ye.writer.insert(Mt,Je),ye.convertAttributes(pe.item),function(Wt,si,bi,Fi){bi.mapper.on("modelToViewPosition",mo,{priority:"highest"});let Hi=null,mn=null;for([Hi,mn]of si)X(Wt,mn,bi,Fi),bi.writer.move(bi.writer.createRangeIn(Hi),bi.writer.createPositionBefore(Hi)),bi.writer.remove(Hi);function mo(zo,aa){const qa=aa.modelPosition.nodeAfter,ba=mn.indexOf(qa);ba<0||(aa.viewPosition=aa.mapper.findPositionIn(Hi,ba))}bi.mapper.off("modelToViewPosition",mo)}(Je,Ne,ye,{reconversion:pe.reconversion})}),{priority:t.converterPriority||"normal"}),s.on("reduceChanges",a(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=ao(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const k of i.values)t.view[k]=Jo(t.view[k],"attribute");else t.view=Jo(t.view,"attribute");const s=Tr(t);return k=>{k.on(o,function(H){return(re,pe,ye)=>{if(!ye.consumable.test(pe.item,re.name))return;const Ne=H(pe.attributeOldValue,ye,pe),Je=H(pe.attributeNewValue,ye,pe);if(!Ne&&!Je)return;ye.consumable.consume(pe.item,re.name);const Mt=ye.writer,Wt=Mt.document.selection;if(pe.item instanceof Qi||pe.item instanceof kn)Mt.wrap(Wt.getFirstRange(),Je);else{let si=ye.mapper.toViewRange(pe.range);pe.attributeOldValue!==null&&Ne&&(si=Mt.unwrap(si,Ne)),pe.attributeNewValue!==null&&Je&&Mt.wrap(si,Je)}}}(s),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ao(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const k of i.values)t.view[k]=Ar(t.view[k]);else t.view=Ar(t.view);const s=Tr(t);return k=>{var H;k.on(o,(H=s,(re,pe,ye)=>{if(!ye.consumable.test(pe.item,re.name))return;const Ne=H(pe.attributeOldValue,ye,pe),Je=H(pe.attributeNewValue,ye,pe);if(!Ne&&!Je)return;ye.consumable.consume(pe.item,re.name);const Mt=ye.mapper.toViewElement(pe.item),Wt=ye.writer;if(!Mt)throw new h.Bb("conversion-attribute-to-attribute-on-text",ye.dispatcher,pe);if(pe.attributeOldValue!==null&&Ne)if(Ne.key=="class"){const si=(0,h.qo)(Ne.value);for(const bi of si)Wt.removeClass(bi,Mt)}else if(Ne.key=="style"){const si=Object.keys(Ne.value);for(const bi of si)Wt.removeStyle(bi,Mt)}else Wt.removeAttribute(Ne.key,Mt);if(pe.attributeNewValue!==null&&Je)if(Je.key=="class"){const si=(0,h.qo)(Je.value);for(const bi of si)Wt.addClass(bi,Mt)}else if(Je.key=="style"){const si=Object.keys(Je.value);for(const bi of si)Wt.setStyle(bi,Je.value[bi],Mt)}else Wt.setAttribute(Je.key,Je.value,Mt)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=Jo(t.view,"ui");return o=>{var s;o.on(`addMarker:${t.model}`,(s=i,(k,H,re)=>{H.isOpening=!0;const pe=s(H,re);H.isOpening=!1;const ye=s(H,re);if(!pe||!ye)return;const Ne=H.markerRange;if(Ne.isCollapsed&&!re.consumable.consume(Ne,k.name))return;for(const Wt of Ne)if(!re.consumable.consume(Wt.item,k.name))return;const Je=re.mapper,Mt=re.writer;Mt.insert(Je.toViewPosition(Ne.start),pe),re.mapper.bindElementToMarker(pe,H.markerName),Ne.isCollapsed||(Mt.insert(Je.toViewPosition(Ne.end),ye),re.mapper.bindElementToMarker(ye,H.markerName)),k.stop()}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,(k,H,re)=>{const pe=re.mapper.markerNameToElements(H.markerName);if(pe){for(const ye of pe)re.mapper.unbindElementFromMarkerName(ye,H.markerName),re.writer.clear(re.writer.createRangeOn(ye),ye);re.writer.clearClonedElementsGroup(H.markerName),k.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var o;i.on(`addMarker:${t.model}`,(o=t.view,(s,k,H)=>{if(!k.item||!(k.item instanceof Qi||k.item instanceof kn||k.item.is("$textProxy")))return;const re=G(o,k,H);if(!re||!H.consumable.consume(k.item,s.name))return;const pe=H.writer,ye=wr(pe,re),Ne=pe.document.selection;if(k.item instanceof Qi||k.item instanceof kn)pe.wrap(Ne.getFirstRange(),ye);else{const Je=H.mapper.toViewRange(k.range),Mt=pe.wrap(Je,ye);for(const Wt of Mt.getItems())if(Wt.is("attributeElement")&&Wt.isSimilar(ye)){H.mapper.bindElementToMarker(Wt,k.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(s){return(k,H,re)=>{if(!H.item||!(H.item instanceof on))return;const pe=G(s,H,re);if(!pe||!re.consumable.test(H.item,k.name))return;const ye=re.mapper.toViewElement(H.item);if(ye&&ye.getCustomProperty("addHighlight")){re.consumable.consume(H.item,k.name);for(const Ne of Dt._createIn(H.item))re.consumable.consume(Ne.item,k.name);ye.getCustomProperty("addHighlight")(ye,pe,re.writer),re.mapper.bindElementToMarker(ye,H.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(s){return(k,H,re)=>{if(H.markerRange.isCollapsed)return;const pe=G(s,H,re);if(!pe)return;const ye=wr(re.writer,pe),Ne=re.mapper.markerNameToElements(H.markerName);if(Ne){for(const Je of Ne)re.mapper.unbindElementFromMarkerName(Je,H.markerName),Je.is("attributeElement")?re.writer.unwrap(re.writer.createRangeOn(Je),ye):Je.getCustomProperty("removeHighlight")(Je,pe.id,re.writer);re.writer.clearClonedElementsGroup(H.markerName),k.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=ao(t);const i=t.model;let o=t.view;return o||(o=s=>({group:i,name:s.substr(t.model.length+1)})),s=>{var k;s.on(`addMarker:${i}`,(k=o,(H,re,pe)=>{const ye=k(re.markerName,pe);if(!ye)return;const Ne=re.markerRange;pe.consumable.consume(Ne,H.name)&&(Cr(Ne,!1,pe,re,ye),Cr(Ne,!0,pe,re,ye),H.stop())}),{priority:t.converterPriority||"normal"}),s.on(`removeMarker:${i}`,function(H){return(re,pe,ye)=>{const Ne=H(pe.markerName,ye);if(!Ne)return;const Je=ye.mapper.markerNameToElements(pe.markerName);if(Je){for(const Wt of Je)ye.mapper.unbindElementFromMarkerName(Wt,pe.markerName),Wt.is("containerElement")?(Mt(`data-${Ne.group}-start-before`,Wt),Mt(`data-${Ne.group}-start-after`,Wt),Mt(`data-${Ne.group}-end-before`,Wt),Mt(`data-${Ne.group}-end-after`,Wt)):ye.writer.clear(ye.writer.createRangeOn(Wt),Wt);ye.writer.clearClonedElementsGroup(pe.markerName),re.stop()}function Mt(Wt,si){if(si.hasAttribute(Wt)){const bi=new Set(si.getAttribute(Wt).split(","));bi.delete(Ne.name),bi.size==0?ye.writer.removeAttribute(Wt,si):ye.writer.setAttribute(Wt,Array.from(bi).join(","),si)}}}}(o),{priority:t.converterPriority||"normal"})}}(e))}}function wr(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Cr(n,e,t,i,o){const s=e?n.start:n.end,k=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,H=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(k||H){let re,pe;e&&k||!e&&!H?(re=k,pe=!0):(re=H,pe=!1);const ye=t.mapper.toViewElement(re);if(ye)return void function(Ne,Je,Mt,Wt,si,bi){const Fi=`data-${bi.group}-${Je?"start":"end"}-${Mt?"before":"after"}`,Hi=Ne.hasAttribute(Fi)?Ne.getAttribute(Fi).split(","):[];Hi.unshift(bi.name),Wt.writer.setAttribute(Fi,Hi.join(","),Ne),Wt.mapper.bindElementToMarker(Ne,si.markerName)}(ye,e,pe,t,i,o)}(function(re,pe,ye,Ne,Je){const Mt=`${Je.group}-${pe?"start":"end"}`,Wt=Je.name?{name:Je.name}:null,si=ye.writer.createUIElement(Mt,Wt);ye.writer.insert(re,si),ye.mapper.bindElementToMarker(si,Ne.markerName)})(t.mapper.toViewPosition(s),e,t,i,o)}function So(n){return typeof n=="string"&&(n={name:n}),n.attributes?Array.isArray(n.attributes)||(n.attributes=[n.attributes]):n.attributes=[],n.children=!!n.children,n}function Jo(n,e){return typeof n=="function"?n:(t,i)=>function(o,s,k){typeof o=="string"&&(o={name:o});let H;const re=s.writer,pe=Object.assign({},o.attributes);if(k=="container")H=re.createContainerElement(o.name,pe);else if(k=="attribute"){const ye={priority:o.priority||Xt.DEFAULT_PRIORITY};H=re.createAttributeElement(o.name,pe,ye)}else H=re.createUIElement(o.name,pe);if(o.styles){const ye=Object.keys(o.styles);for(const Ne of ye)re.setStyle(Ne,o.styles[Ne],H)}if(o.classes){const ye=o.classes;if(typeof ye=="string")re.addClass(ye,H);else for(const Ne of ye)re.addClass(Ne,H)}return H}(n,i,e)}function Tr(n){return n.model.values?(e,t,i)=>{const o=n.view[e];return o?o(e,t,i):null}:n.view}function Ar(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function G(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function a(n){const e=function(t){return(i,o)=>{if(!i.is("element",t.name))return!1;if(o.type=="attribute"){if(t.attributes.includes(o.attributeKey))return!0}else if(t.children)return!0;return!1}}(n);return(t,i)=>{const o=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const s of i.changes){const k=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(k&&e(k,s)){if(!i.reconvertedElements.has(k)){i.reconvertedElements.add(k);const H=oi._createBefore(k);let re=o.length;for(let pe=o.length-1;pe>=0;pe--){const ye=o[pe],Ne=(ye.type=="attribute"?ye.range.start:ye.position).compareWith(H);if(Ne=="before"||ye.type=="remove"&&Ne=="same")break;re=pe}o.splice(re,0,{type:"remove",name:k.name,position:H,length:1},{type:"reinsert",name:k.name,position:H,length:1})}}else o.push(s)}i.changes=o}}function T(n){return(e,t,i={})=>{const o=["insert"];for(const s of n.attributes)e.hasAttribute(s)&&o.push(`attribute:${s}`);return!!o.every(s=>t.test(e,s))&&(i.preflight||o.forEach(s=>t.consume(e,s)),!0)}}function X(n,e,t,i){for(const o of e)be(n.root,o,t,i)||t.convertItem(o)}function be(n,e,t,i){const{writer:o,mapper:s}=t;if(!i.reconversion)return!1;const k=s.toViewElement(e);return!(!k||k.root==n)&&!!t.canReuseView(k)&&(o.move(o.createRangeOn(k),s.toViewPosition(oi._createBefore(e))),!0)}function je(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}function Xe(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function at(n,e,t){const i=t.createContext(n);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function Rt(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}var vi=Object.defineProperty,Ji=Object.defineProperties,vn=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,Xo=(n,e,t)=>e in n?vi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class ts extends ur{elementToElement(e){return this.add(is(e))}elementToAttribute(e){return this.add(function(t){t=ao(t),ns(t);const i=os(t,!1),o=zr(t.view),s=o?`element:${o}`:"element";return k=>{k.on(s,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ao(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(s){typeof s.view=="string"&&(s.view={key:s.view});const k=s.view.key;let H;return k=="class"||k=="style"?H={[k=="class"?"classes":"styles"]:s.view.value}:H={attributes:{[k]:s.view.value===void 0?/[\s\S]*/:s.view.value}},s.view.name&&(H.name=s.view.name),s.view=H,k}(t)),ns(t,i);const o=os(t,!0);return s=>{s.on("element",o,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(k){return(H,re)=>{const pe=typeof k=="string"?k:k(H,re);return re.writer.createElement("$marker",{"data-name":pe})}}(t.model);return is((o=((k,H)=>{for(var re in H||(H={}))Br.call(H,re)&&Xo(k,re,H[re]);if(Er)for(var re of Er(H))Dr.call(H,re)&&Xo(k,re,H[re]);return k})({},t),s={model:i},Ji(o,vn(s))));var o,s}(e))}dataToMarker(e){return this.add(function(t){t=ao(t),t.model||(t.model=k=>k?t.view+":"+k:t.view);const i={view:t.view,model:t.model},o=hr(rs(i,"start")),s=hr(rs(i,"end"));return k=>{k.on(`element:${t.view}-start`,o,{priority:t.converterPriority||"normal"}),k.on(`element:${t.view}-end`,s,{priority:t.converterPriority||"normal"});const H=h.tA.low,re=h.tA.highest,pe=h.tA.get(t.converterPriority)/re;k.on("element",function(ye){return(Ne,Je,Mt)=>{const Wt=`data-${ye.view}`;function si(bi,Fi){for(const Hi of Fi){const mn=ye.model(Hi,Mt),mo=Mt.writer.createElement("$marker",{"data-name":mn});Mt.writer.insert(mo,bi),Je.modelCursor.isEqual(bi)?Je.modelCursor=Je.modelCursor.getShiftedBy(1):Je.modelCursor=Je.modelCursor._getTransformedByInsertion(bi,1),Je.modelRange=Je.modelRange._getTransformedByInsertion(bi,1)[0]}}(Mt.consumable.test(Je.viewItem,{attributes:Wt+"-end-after"})||Mt.consumable.test(Je.viewItem,{attributes:Wt+"-start-after"})||Mt.consumable.test(Je.viewItem,{attributes:Wt+"-end-before"})||Mt.consumable.test(Je.viewItem,{attributes:Wt+"-start-before"}))&&(Je.modelRange||Object.assign(Je,Mt.convertChildren(Je.viewItem,Je.modelCursor)),Mt.consumable.consume(Je.viewItem,{attributes:Wt+"-end-after"})&&si(Je.modelRange.end,Je.viewItem.getAttribute(Wt+"-end-after").split(",")),Mt.consumable.consume(Je.viewItem,{attributes:Wt+"-start-after"})&&si(Je.modelRange.end,Je.viewItem.getAttribute(Wt+"-start-after").split(",")),Mt.consumable.consume(Je.viewItem,{attributes:Wt+"-end-before"})&&si(Je.modelRange.start,Je.viewItem.getAttribute(Wt+"-end-before").split(",")),Mt.consumable.consume(Je.viewItem,{attributes:Wt+"-start-before"})&&si(Je.modelRange.start,Je.viewItem.getAttribute(Wt+"-start-before").split(",")))}}(i),{priority:H+pe})}}(e))}}function is(n){const e=hr(n=ao(n)),t=zr(n.view),i=t?`element:${t}`:"element";return o=>{o.on(i,e,{priority:n.converterPriority||"normal"})}}function zr(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function hr(n){const e=new R(n.view);return(t,i,o)=>{const s=e.match(i.viewItem);if(!s)return;const k=s.match;if(k.name=!0,!o.consumable.test(i.viewItem,k))return;const H=function(re,pe,ye){return re instanceof Function?re(pe,ye):ye.writer.createElement(re)}(n.model,i.viewItem,o);H&&o.safeInsert(H,i.modelCursor)&&(o.consumable.consume(i.viewItem,k),o.convertChildren(i.viewItem,H),o.updateConversionResult(H,i))}}function ns(n,e=null){const t=e===null||(s=>s.getAttribute(e)),i=typeof n.model!="object"?n.model:n.model.key,o=typeof n.model!="object"||n.model.value===void 0?t:n.model.value;n.model={key:i,value:o}}function os(n,e){const t=new R(n.view);return(i,o,s)=>{if(!o.modelRange&&e)return;const k=t.match(o.viewItem);if(!k||(function(ye,Ne){const Je=typeof ye=="function"?ye(Ne):ye;return typeof Je=="object"&&!zr(Je)?!1:!Je.classes&&!Je.attributes&&!Je.styles}(n.view,o.viewItem)?k.match.name=!0:delete k.match.name,!s.consumable.test(o.viewItem,k.match)))return;const H=n.model.key,re=typeof n.model.value=="function"?n.model.value(o.viewItem,s):n.model.value;if(re===null)return;o.modelRange||Object.assign(o,s.convertChildren(o.viewItem,o.modelCursor)),function(ye,Ne,Je,Mt){let Wt=!1;for(const si of Array.from(ye.getItems({shallow:Je})))Mt.schema.checkAttribute(si,Ne.key)&&(Wt=!0,si.hasAttribute(Ne.key)||Mt.writer.setAttribute(Ne.key,Ne.value,si));return Wt}(o.modelRange,{key:H,value:re},e,s)&&(s.consumable.test(o.viewItem,{name:!0})&&(k.match.name=!0),s.consumable.consume(o.viewItem,k.match))}}function rs(n,e){return{view:`${n.view}-${e}`,model:(t,i)=>{const o=t.getAttribute("name"),s=n.model(o,i);return i.writer.createElement("$marker",{"data-name":s})}}}function Vs(n){n.document.registerPostFixer(e=>function(t,i){const o=i.document.selection,s=i.schema,k=[];let H=!1;for(const re of o.getRanges()){const pe=er(re,s);pe&&!pe.isEqual(re)?(k.push(pe),H=!0):k.push(re)}return H&&t.setSelection(function(re){const pe=[...re],ye=new Set;let Ne=1;for(;Ne<pe.length;){const Je=pe[Ne],Mt=pe.slice(0,Ne);for(const[Wt,si]of Mt.entries())if(!ye.has(Wt)){if(Je.isEqual(si))ye.add(Wt);else if(Je.isIntersecting(si)){ye.add(Wt),ye.add(Ne);const bi=Je.getJoined(si);pe.push(bi)}}Ne++}return pe.filter((Je,Mt)=>!ye.has(Mt))}(k),{backward:o.isBackward}),!1}(e,n))}function er(n,e){return n.isCollapsed?function(t,i){const o=t.start,s=i.getNearestSelectionRange(o);if(!s){const H=o.getAncestors().reverse().find(re=>i.isObject(re));return H?Dt._createOn(H):null}if(!s.isCollapsed)return s;const k=s.start;return o.isEqual(k)?null:new Dt(k)}(n,e):function(t,i){const{start:o,end:s}=t,k=i.checkChild(o,"$text"),H=i.checkChild(s,"$text"),re=i.getLimitElement(o),pe=i.getLimitElement(s);if(re===pe){if(k&&H)return null;if(function(Je,Mt,Wt){const si=Je.nodeAfter&&!Wt.isLimit(Je.nodeAfter)||Wt.checkChild(Je,"$text"),bi=Mt.nodeBefore&&!Wt.isLimit(Mt.nodeBefore)||Wt.checkChild(Mt,"$text");return si||bi}(o,s,i)){const Je=o.nodeAfter&&i.isSelectable(o.nodeAfter)?null:i.getNearestSelectionRange(o,"forward"),Mt=s.nodeBefore&&i.isSelectable(s.nodeBefore)?null:i.getNearestSelectionRange(s,"backward"),Wt=Je?Je.start:o,si=Mt?Mt.end:s;return new Dt(Wt,si)}}const ye=re&&!re.is("rootElement"),Ne=pe&&!pe.is("rootElement");if(ye||Ne){const Je=o.nodeAfter&&s.nodeBefore&&o.nodeAfter.parent===s.nodeBefore.parent,Mt=ye&&(!Je||!ss(o.nodeAfter,i)),Wt=Ne&&(!Je||!ss(s.nodeBefore,i));let si=o,bi=s;return Mt&&(si=oi._createBefore(Fr(re,i))),Wt&&(bi=oi._createAfter(Fr(pe,i))),new Dt(si,bi)}return null}(n,e)}function Fr(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function ss(n,e){return n&&e.isSelectable(n)}class gr extends(0,h.Re)(){constructor(e,t){super(),this.model=e,this.view=new qo(t),this.mapper=new Yo,this.downcastDispatcher=new zi({mapper:this.mapper,schema:e.schema});const i=this.model.document,o=i.selection,s=this.model.markers;var k,H,re;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(pe=>{this.downcastDispatcher.convertChanges(i.differ,s,pe),this.downcastDispatcher.convertSelection(o,s,pe)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(pe,ye){return(Ne,Je)=>{const Mt=Je.newSelection,Wt=[];for(const bi of Mt.getRanges())Wt.push(ye.toModelRange(bi));const si=pe.createSelection(Wt,{backward:Mt.isBackward});si.isEqual(pe.document.selection)||pe.change(bi=>{bi.setSelection(si)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(k=this.mapper,H=this.model.schema,re=this.view,(pe,ye)=>{if(!re.document.isComposing||h.OB.isAndroid)for(let Ne=0;Ne<ye.targetRanges.length;Ne++){const Je=ye.targetRanges[Ne],Mt=k.toModelRange(Je),Wt=er(Mt,H);Wt&&!Wt.isEqual(Mt)&&(ye.targetRanges[Ne]=k.toViewRange(Wt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(pe,ye,Ne)=>{if(!Ne.consumable.consume(ye.item,pe.name))return;const Je=Ne.writer,Mt=Ne.mapper.toViewPosition(ye.range.start),Wt=Je.createText(ye.item.data);Je.insert(Mt,Wt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(pe,ye,Ne)=>{Ne.convertAttributes(ye.item),ye.reconversion||!ye.item.is("element")||ye.item.isEmpty||Ne.convertChildren(ye.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(pe,ye,Ne)=>{const Je=Ne.mapper.toViewPosition(ye.position),Mt=ye.position.getShiftedBy(ye.length),Wt=Ne.mapper.toViewPosition(Mt,{isPhantom:!0}),si=Ne.writer.createRange(Je,Wt),bi=Ne.writer.remove(si.getTrimmed());for(const Fi of Ne.writer.createRangeIn(bi).getItems())Ne.mapper.unbindViewElement(Fi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(pe,ye,Ne)=>{const Je=Ne.writer,Mt=Je.document.selection;for(const Wt of Mt.getRanges())Wt.isCollapsed&&Wt.end.parent.isAttached()&&Ne.writer.mergeAttributes(Wt.start);Je.setSelection(null)}),this.downcastDispatcher.on("selection",(pe,ye,Ne)=>{const Je=ye.selection;if(Je.isCollapsed||!Ne.consumable.consume(Je,"selection"))return;const Mt=[];for(const Wt of Je.getRanges())Mt.push(Ne.mapper.toViewRange(Wt));Ne.writer.setSelection(Mt,{backward:Je.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(pe,ye,Ne)=>{const Je=ye.selection;if(!Je.isCollapsed||!Ne.consumable.consume(Je,"selection"))return;const Mt=Ne.writer,Wt=Je.getFirstPosition(),si=Ne.mapper.toViewPosition(Wt),bi=Mt.breakAttributes(si);Mt.setSelection(bi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(pe=>{if(pe.rootName=="$graveyard")return null;const ye=new Ct(this.view.document,pe.name);return ye.rootName=pe.rootName,this.mapper.bindElements(pe,ye),ye})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new h.Bb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class tr{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new Ns(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const k of i)k!="style"&&k!="class"&&t.attributes.push(k);const o=e.getClassNames();for(const k of o)t.classes.push(k);const s=e.getStyleNames();for(const k of s)t.styles.push(k);return t}static createFrom(e,t){if(t||(t=new tr),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,tr.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=tr.createFrom(i,t);return t}}const Sr=["attributes","classes","styles"];class Ns{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Sr)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Sr)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Sr)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Sr)t in e&&this._revert(t,e[t])}_add(e,t){const i=(0,Te.Z)(t)?t:[t],o=this._consumables[e];for(const s of i){if(e==="attributes"&&(s==="class"||s==="style"))throw new h.Bb("viewconsumable-invalid-attribute",this);if(o.set(s,!0),e==="styles")for(const k of this.element.document.stylesProcessor.getRelatedStyles(s))o.set(k,!0)}}_test(e,t){const i=(0,Te.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style"){const k=o.get(s);if(k===void 0)return null;if(!k)return!1}else{const k=s=="class"?"classes":"styles",H=this._test(k,[...this._consumables[k].keys()]);if(H!==!0)return H}return!0}_consume(e,t){const i=(0,Te.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style"){if(o.set(s,!1),e=="styles")for(const k of this.element.document.stylesProcessor.getRelatedStyles(s))o.set(k,!1)}else{const k=s=="class"?"classes":"styles";this._consume(k,[...this._consumables[k].keys()])}}_revert(e,t){const i=(0,Te.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style")o.get(s)===!1&&o.set(s,!0);else{const k=s=="class"?"classes":"styles";this._revert(k,[...this._consumables[k].keys()])}}}class Ir extends(0,h.Re)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new ir(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new ir(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new h.Bb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new h.Bb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof oi){const i=e.nodeBefore,o=e.nodeAfter;if(!(i instanceof on))throw new h.Bb("schema-check-merge-no-element-before",this);if(!(o instanceof on))throw new h.Bb("schema-check-merge-no-element-after",this);return this.checkMerge(i,o)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,o])=>{if(!o)return;const s=e(i,o);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,o])=>{const s=e(i,o);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof oi?t=e.parent:t=(e instanceof Dt?[e]:Array.from(e.getRanges())).reduce((i,o)=>{const s=o.getCommonAncestor();return i?i.getCommonAncestor(s,{includeSelf:!0}):s},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new an("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const o of i)for(const s of o)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const o of i)yield*o.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Dt(e);let i,o;const s=e.getAncestors().reverse().find(k=>this.isLimit(k))||e.root;t!="both"&&t!="backward"||(i=new oo({boundaries:Dt._createIn(s),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new oo({boundaries:Dt._createIn(s),startPosition:e}));for(const k of function*(H,re){let pe=!1;for(;!pe;){if(pe=!0,H){const ye=H.next();ye.done||(pe=!1,yield{walker:H,value:ye.value})}if(re){const ye=re.next();ye.done||(pe=!1,yield{walker:re,value:ye.value})}}}(i,o)){const H=k.walker==i?"elementEnd":"elementStart",re=k.value;if(re.type==H&&this.isObject(re.item))return Dt._createOn(re.item);if(this.checkChild(re.nextPosition,"$text"))return new Dt(re.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const o=i.model;for(const[s,k]of Object.entries(t))o.schema.checkAttribute(e,s)&&i.setAttribute(s,k,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))ds(this,i,t);else{const o=Dt._createIn(i).getPositions();for(const s of o)ds(this,s.nodeBefore||s.parent,t)}}getAttributesWithProperty(e,t,i){const o={};for(const[s,k]of e.getAttributes()){const H=this.getAttributeProperties(s);H[t]!==void 0&&(i!==void 0&&i!==H[t]||(o[s]=k))}return o}createContext(e){return new ir(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const o of i)e[o]=Bs(t[o],o);for(const o of i)Ds(e,o);for(const o of i)as(e,o);for(const o of i)ls(e,o);for(const o of i)zs(e,o),Fs(e,o);for(const o of i)cs(e,o),Hr(e,o),Hs(e,o);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const o=t.getItem(i);if(e.allowIn.includes(o.name)){if(i==0)return!0;{const s=this.getDefinition(o);return this._checkContextMatch(s,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,o=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(Dt._createIn(s),t)),this.checkAttribute(s,t)||(i.isEqual(o)||(yield new Dt(i,o)),i=oi._createAfter(s)),o=oi._createAfter(s);i.isEqual(o)||(yield new Dt(i,o))}}class ir{constructor(e){if(e instanceof ir)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Us)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ir([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Bs(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,o){for(const s of i){const k=Object.keys(s).filter(H=>H.startsWith("is"));for(const H of k)o[H]=!!s[H]}}(n,t),nr(n,t,"allowIn"),nr(n,t,"allowContentOf"),nr(n,t,"allowWhere"),nr(n,t,"allowAttributes"),nr(n,t,"allowAttributesOf"),nr(n,t,"allowChildren"),nr(n,t,"inheritTypesFrom"),function(i,o){for(const s of i){const k=s.inheritAllFrom;k&&(o.allowContentOf.push(k),o.allowWhere.push(k),o.allowAttributesOf.push(k),o.inheritTypesFrom.push(k))}}(n,t),t}function Ds(n,e){const t=n[e];for(const i of t.allowChildren){const o=n[i];o&&o.allowIn.push(e)}t.allowChildren.length=0}function as(n,e){for(const t of n[e].allowContentOf)n[t]&&Pr(n,t).forEach(i=>{i.allowIn.push(e)});delete n[e].allowContentOf}function ls(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const o=i.allowIn;n[e].allowIn.push(...o)}}delete n[e].allowWhere}function zs(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const o=i.allowAttributes;n[e].allowAttributes.push(...o)}}delete n[e].allowAttributesOf}function Fs(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const o=n[i];if(o){const s=Object.keys(o).filter(k=>k.startsWith("is"));for(const k of s)k in t||(t[k]=o[k])}}delete t.inheritTypesFrom}function cs(n,e){const t=n[e],i=t.allowIn.filter(o=>n[o]);t.allowIn=Array.from(new Set(i))}function Hr(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function Hs(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function nr(n,e,t){for(const i of n){const o=i[t];typeof o=="string"?e[t].push(o):Array.isArray(o)&&e[t].push(...o)}}function Pr(n,e){const t=n[e];return(i=n,Object.keys(i).map(o=>i[o])).filter(o=>o.allowIn.includes(t.name));var i}function Us(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute:e=>n.getAttribute(e)}}function ds(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}var Ws=Object.defineProperty,Zs=Object.defineProperties,us=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,$s=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable,Ur=(n,e,t)=>e in n?Ws(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class qs extends(0,h.ln)(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((i,o)=>{for(var s in o||(o={}))$s.call(o,s)&&Ur(i,s,o[s]);if(hs)for(var s of hs(o))gs.call(o,s)&&Ur(i,s,o[s]);return i})({},e),Zs(t,us({consumable:null,writer:null,store:null,convertItem:(i,o)=>this._convertItem(i,o),convertChildren:(i,o)=>this._convertChildren(i,o),safeInsert:(i,o)=>this._safeInsert(i,o),updateConversionResult:(i,o)=>this._updateConversionResult(i,o),splitToAllowedParent:(i,o)=>this._splitToAllowedParent(i,o),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(k,H){let re;for(const pe of new ir(k)){const ye={};for(const Je of pe.getAttributeKeys())ye[Je]=pe.getAttribute(Je);const Ne=H.createElement(pe.name,ye);re&&H.insert(Ne,re),re=oi._createAt(Ne,0)}return re}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=tr.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const k of Array.from(this._modelCursor.parent.getChildren()))t.append(k,s);s.markers=function(k,H){const re=new Set,pe=new Map,ye=Dt._createIn(k).getItems();for(const Ne of ye)Ne.is("element","$marker")&&re.add(Ne);for(const Ne of re){const Je=Ne.getAttribute("data-name"),Mt=H.createPositionBefore(Ne);pe.has(Je)?pe.get(Je).end=Mt.clone():pe.set(Je,new Dt(Mt.clone())),H.remove(Ne)}return pe}(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Dt))throw new h.Bb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:oi._createAt(t,0);const o=new Dt(i);for(const s of Array.from(e.getChildren())){const k=this._convertItem(s,i);k.modelRange instanceof Dt&&(o.end=k.modelRange.end,i=k.modelCursor)}return{modelRange:o,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),o=this.conversionApi.writer;t.modelRange||(t.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(i[i.length-1])));const s=this._cursorParents.get(e);t.modelCursor=s?o.createPositionAt(s,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:o}=this.conversionApi;let s=i.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return at(t,e,i)?{position:Rt(t,o)}:null;const k=this.conversionApi.writer.split(t,s),H=[];for(const pe of k.range.getWalker())if(pe.type=="elementEnd")H.push(pe.item);else{const ye=H.pop(),Ne=pe.item;this._registerSplitPair(ye,Ne)}const re=k.range.end.parent;return this._cursorParents.set(e,re),{position:k.position,cursorParent:re}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class Ks{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class ms{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new fe(e,{renderingMode:"data"}),this.htmlWriter=new Ks}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return i}}class Gs extends(0,h.ln)(){constructor(e,t){super(),this.model=e,this.mapper=new Yo,this.downcastDispatcher=new zi({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,o,s)=>{if(!s.consumable.consume(o.item,i.name))return;const k=s.writer,H=s.mapper.toViewPosition(o.range.start),re=k.createText(o.item.data);k.insert(H,re)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,o,s)=>{s.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||s.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new qs({schema:e.schema}),this.viewDocument=new Ot(t),this.stylesProcessor=t,this.htmlProcessor=new ms(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new It(this.viewDocument),this.upcastDispatcher.on("text",(i,o,{schema:s,consumable:k,writer:H})=>{let re=o.modelCursor;if(!k.test(o.viewItem))return;if(!s.checkChild(re,"$text")){if(!at(re,"$text",s)||o.viewItem.data.trim().length==0)return;const ye=re.nodeBefore;re=Rt(re,H),ye&&ye.is("element","$marker")&&(H.move(H.createRangeOn(ye),re),re=H.createPositionAfter(ye))}k.consume(o.viewItem);const pe=H.createText(o.viewItem.data);H.insert(pe,re),o.modelRange=H.createRange(re,re.getShiftedBy(pe.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,o,s)=>{if(!o.modelRange&&s.consumable.consume(o.viewItem,{name:!0})){const{modelRange:k,modelCursor:H}=s.convertChildren(o.viewItem,o.modelCursor);o.modelRange=k,o.modelCursor=H}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,o,s)=>{if(!o.modelRange&&s.consumable.consume(o.viewItem,{name:!0})){const{modelRange:k,modelCursor:H}=s.convertChildren(o.viewItem,o.modelCursor);o.modelRange=k,o.modelCursor=H}},{priority:"lowest"}),(0,h.Re)().prototype.decorate.call(this,"init"),(0,h.Re)().prototype.decorate.call(this,"set"),(0,h.Re)().prototype.decorate.call(this,"get"),(0,h.Re)().prototype.decorate.call(this,"toView"),(0,h.Re)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Xe)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new h.Bb("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(t);return o.isAttached()||(0,h.KE)("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const s=Dt._createIn(e),k=new ln(i);this.mapper.bindElements(e,k);const H=e.is("documentFragment")?e.markers:function(re){const pe=[],ye=re.root.document;if(!ye)return new Map;const Ne=Dt._createIn(re);for(const Je of ye.model.markers){const Mt=Je.getRange(),Wt=Mt.isCollapsed,si=Mt.start.isEqual(Ne.start)||Mt.end.isEqual(Ne.end);if(Wt&&si)pe.push([Je.name,Mt]);else{const bi=Ne.getIntersection(Mt);bi&&pe.push([Je.name,bi])}}return pe.sort(([Je,Mt],[Wt,si])=>{if(Mt.end.compareWith(si.start)!=="after")return 1;if(Mt.start.compareWith(si.end)!=="before")return-1;switch(Mt.start.compareWith(si.start)){case"before":return 1;case"after":return-1;default:switch(Mt.end.compareWith(si.end)){case"before":return 1;case"after":return-1;default:return Wt.localeCompare(Je)}}}),new Map(pe)}(e);return this.downcastDispatcher.convert(s,H,o,t),k}init(e){if(this.model.document.version)throw new h.Bb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new h.Bb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const o of Object.keys(t)){const s=this.model.document.getRoot(o);i.insert(this.parse(t[o],s),s,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new h.Bb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(i)){const k=this.model.document.getRoot(s);o.remove(o.createRangeIn(k)),o.insert(this.parse(i[s],k),k,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class ps{constructor(e,t){this._helpers=new Map,this._downcast=(0,h.qo)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,h.qo)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new h.Bb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new h.Bb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of Or(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of Or(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of Or(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new h.Bb("conversion-group-exists",this);const o=i?new xr(t):new ts(t);this._helpers.set(e,o)}}function*Or(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],o=n.upcastAlso?n.upcastAlso[e]:void 0;yield*Wr(t,i,o)}else yield*Wr(n.model,n.view,n.upcastAlso)}function*Wr(n,e,t){if(yield{model:n,view:e},t)for(const i of(0,h.qo)(t))yield{model:n,view:i}}class Zn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Zr(n,e){const t=pn(e),i=t.reduce((k,H)=>k+H.offsetSize,0),o=n.parent;vr(n);const s=n.index;return o._insertChild(s,t),kr(o,s+t.length),kr(o,s),new Dt(n,n.getShiftedBy(i))}function fs(n){if(!n.isFlat)throw new h.Bb("operation-utils-remove-range-not-flat",this);const e=n.start.parent;vr(n.start),vr(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return kr(e,n.start.index),t}function mr(n,e){if(!n.isFlat)throw new h.Bb("operation-utils-move-range-not-flat",this);const t=fs(n);return Zr(e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),t)}function pn(n){const e=[];(function t(i){if(typeof i=="string")e.push(new an(i));else if(i instanceof Dn)e.push(new an(i.data,i.getAttributes()));else if(i instanceof lo)e.push(i);else if((0,h.TW)(i))for(const o of i)t(o)})(n);for(let t=1;t<e.length;t++){const i=e[t],o=e[t-1];i instanceof an&&o instanceof an&&$r(i,o)&&(e.splice(t-1,2,new an(o.data+i.data,o.getAttributes())),t--)}return e}function kr(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&$r(t,i)){const o=new an(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,o)}}function vr(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,o=e.index;t._removeChildren(o,1);const s=new an(e.data.substr(0,i),e.getAttributes()),k=new an(e.data.substr(i),e.getAttributes());t._insertChild(o,[s,k])}}function $r(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const o of t){if(o[1]!==e.getAttribute(o[0]))return!1;i.next()}return i.next().done}class en extends Zn{constructor(e,t,i,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Dt._createFromPositionAndShift(this.sourcePosition,this.howMany),Dt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new en(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new en(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new h.Bb("move-operation-nodes-do-not-exist",this);if(e===t&&i<o&&o<i+this.howMany)throw new h.Bb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,h.Rt)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=i&&this.targetPosition.path[s]<i+this.howMany)throw new h.Bb("move-operation-node-into-itself",this)}}_execute(){mr(Dt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=oi.fromJSON(e.sourcePosition,t),o=oi.fromJSON(e.targetPosition,t);return new this(i,e.howMany,o,e.baseVersion)}}class En extends Zn{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new sn(pn(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new sn([...this.nodes].map(i=>i._clone(!0))),t=new En(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new oi(e,[0]);return new en(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new h.Bb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new sn([...e].map(t=>t._clone(!0))),Zr(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const s of e.nodes)s.name?i.push(on.fromJSON(s)):i.push(an.fromJSON(s));const o=new En(oi.fromJSON(e.position,t),i,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class dn extends Zn{constructor(e,t,i,o,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new oi(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dt(this.splitPosition,e)}get affectedSelectable(){const e=[Dt._createFromPositionAndShift(this.splitPosition,0),Dt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Dt._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new dn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new oi(e,[0]);return new _n(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new h.Bb("split-operation-position-invalid",this);if(!e.parent)throw new h.Bb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new h.Bb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new h.Bb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)mr(Dt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Zr(this.insertionPosition,t)}mr(new Dt(oi._createAt(e,this.splitPosition.offset),oi._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new oi(e.root,t,"toPrevious")}static fromJSON(e,t){const i=oi.fromJSON(e.splitPosition,t),o=oi.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?oi.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,o,s,e.baseVersion)}}class _n extends Zn{constructor(e,t,i,o,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new oi(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dt(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Dt._createOn(e),Dt._createFromPositionAndShift(this.targetPosition,0),Dt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new _n(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new oi(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new dn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new h.Bb("merge-operation-source-position-invalid",this);if(!t.parent)throw new h.Bb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new h.Bb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;mr(Dt._createIn(e),this.targetPosition),mr(Dt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=oi.fromJSON(e.sourcePosition,t),o=oi.fromJSON(e.targetPosition,t),s=oi.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,o,s,e.baseVersion)}}class Fn extends Zn{constructor(e,t,i,o,s,k){super(k),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=s,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Fn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Fn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Fn(e.name,e.oldRange?Dt.fromJSON(e.oldRange,t):null,e.newRange?Dt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const bs=function(n,e){return Tn(n,e)};class Cn extends Zn{constructor(e,t,i,o,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Cn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Cn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new h.Bb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!bs(e.getAttribute(this.key),this.oldValue))throw new h.Bb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new h.Bb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){bs(this.oldValue,this.newValue)||function(e,t,i){vr(e.start),vr(e.end);for(const o of e.getItems({shallow:!0})){const s=o.is("$textProxy")?o.textNode:o;i!==null?s._setAttribute(t,i):s._removeAttribute(t),kr(s.parent,s.index)}kr(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Cn(Dt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class In extends Zn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new In(this.baseVersion)}getReversed(){return new In(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class $n extends Zn{constructor(e,t,i,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new $n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new $n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof on))throw new h.Bb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new h.Bb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new $n(oi.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Io extends Zn{constructor(e,t,i,o,s){super(s),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Io(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Io(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new h.Bb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new h.Bb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new h.Bb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new h.Bb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Io(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class vo extends Zn{constructor(e,t,i,o,s){super(s),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=o,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new vo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new vo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new vo(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const go={};go[Cn.className]=Cn,go[En.className]=En,go[Fn.className]=Fn,go[en.className]=en,go[In.className]=In,go[Zn.className]=Zn,go[$n.className]=$n,go[Io.className]=Io,go[vo.className]=vo,go[dn.className]=dn,go[_n.className]=_n;class ws{static fromJSON(e,t){return go[e.__className].fromJSON(e,t)}}const qr=new Map;function rn(n,e,t){let i=qr.get(n);i||(i=new Map,qr.set(n,i)),i.set(e,t)}function Ys(n){return[n]}function ks(n,e,t={}){const i=function(o,s){const k=qr.get(o);return k&&k.has(s)?k.get(s):Ys}(n.constructor,e.constructor);try{return i(n=n.clone(),e,t)}catch(o){throw o}}function Kr(n,e,t){n=n.slice(),e=e.slice();const i=new Gr(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const o=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:o};const s=new WeakMap;for(const re of n)s.set(re,0);const k={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let H=0;for(;H<n.length;){const re=n[H],pe=s.get(re);if(pe==e.length){H++;continue}const ye=e[pe],Ne=ks(re,ye,i.getContext(re,ye,!0)),Je=ks(ye,re,i.getContext(ye,re,!1));i.updateRelation(re,ye),i.setOriginalOperations(Ne,re),i.setOriginalOperations(Je,ye);for(const Mt of Ne)s.set(Mt,pe+Je.length);n.splice(H,1,...Ne),e.splice(pe,1,...Je)}if(t.padWithNoOps){const re=n.length-k.originalOperationsACount,pe=e.length-k.originalOperationsBCount;Mr(n,pe-re),Mr(e,re-pe)}return Lr(n,k.nextBaseVersionB),Lr(e,k.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:o}}class Gr{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const o of e)this.originalOperations.set(o,i||o)}updateRelation(e,t){if(e instanceof en)t instanceof _n?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof en&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof dn){if(t instanceof _n)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof en)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=Dt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const o=i.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:o,offset:s})}}}else if(e instanceof _n)t instanceof _n?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof dn&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Fn){const i=e.newRange;if(!i)return;if(t instanceof en){const o=Dt._createFromPositionAndShift(t.sourcePosition,t.howMany),s=o.containsPosition(i.start)||o.start.isEqual(i.start),k=o.containsPosition(i.end)||o.end.isEqual(i.end);!s&&!k||o.containsRange(i)||this._setRelation(e,t,{side:s?"left":"right",path:s?i.start.path.slice():i.end.path.slice()})}else if(t instanceof _n){const o=i.start.isEqual(t.targetPosition),s=i.start.isEqual(t.deletionPosition),k=i.end.isEqual(t.deletionPosition),H=i.end.isEqual(t.sourcePosition);(o||s||k||H)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:k,wasInRightElement:H})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),o=this._history.getUndoneOperation(i);if(!o)return null;const s=this.originalOperations.get(e),k=this._relations.get(s);return k&&k.get(o)||null}_setRelation(e,t,i){const o=this.originalOperations.get(e),s=this.originalOperations.get(t);let k=this._relations.get(o);k||(k=new Map,this._relations.set(o,k)),k.set(s,i)}}function Lr(n,e){for(const t of n)t.baseVersion=e++}function Mr(n,e){for(let t=0;t<e;t++)n.push(new In(0))}function Yr(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const o=new Dt(n.position,n.position.getShiftedBy(n.howMany));return new Cn(o,e,i,t,0)}function Qr(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function or(n,e){const t=[];for(let i=0;i<n.length;i++){const o=n[i],s=new en(o.start,o.end.offset-o.start.offset,e,0);t.push(s);for(let k=i+1;k<n.length;k++)n[k]=n[k]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}rn(Cn,Cn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(s=>new Cn(s,n.key,n.oldValue,n.newValue,0)),o=n.range.getIntersection(e.range);return o&&t.aIsStrong&&i.push(new Cn(o,e.key,e.newValue,n.newValue,0)),i.length==0?[new In(0)]:i}return[n]}),rn(Cn,En,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const t=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new Cn(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=Yr(e,n.key,n.oldValue);i&&t.unshift(i)}return t}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]}),rn(Cn,_n,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(Dt._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(o=>new Cn(o,n.key,n.oldValue,n.newValue,n.baseVersion))}),rn(Cn,en,(n,e)=>function(t,i){const o=Dt._createFromPositionAndShift(i.sourcePosition,i.howMany);let s=null,k=[];o.containsRange(t,!0)?s=t:t.start.hasSameParentAs(o.start)?(k=t.getDifference(o),s=t.getIntersection(o)):k=[t];const H=[];for(let re of k){re=re._getTransformedByDeletion(i.sourcePosition,i.howMany);const pe=i.getMovedRangeStart(),ye=re.start.hasSameParentAs(pe),Ne=re._getTransformedByInsertion(pe,i.howMany,ye);H.push(...Ne)}return s&&H.push(s._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),H}(n.range,e).map(t=>new Cn(t,n.key,n.oldValue,n.newValue,n.baseVersion))),rn(Cn,dn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new Dt(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]}),rn(En,Cn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=Yr(n,e.key,e.newValue);i&&t.push(i)}return t}),rn(En,En,(n,e,t)=>(n.position.isEqual(e.position)&&t.aIsStrong||(n.position=n.position._getTransformedByInsertOperation(e)),[n])),rn(En,en,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),rn(En,dn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n])),rn(En,_n,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n])),rn(Fn,En,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n])),rn(Fn,Fn,(n,e,t)=>{if(n.name==e.name){if(!t.aIsStrong)return[new In(0)];n.oldRange=e.newRange?e.newRange.clone():null}return[n]}),rn(Fn,_n,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n])),rn(Fn,en,(n,e,t)=>{if(n.oldRange&&(n.oldRange=Dt._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=Dt._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=Dt._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]}),rn(Fn,dn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=oi._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=oi._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=oi._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=oi._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]}),rn(_n,En,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n])),rn(_n,_n,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new oi(e.graveyardPosition.root,i),n.howMany=0,[n]}return[new In(0)]}if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",o=e.targetPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const s=e.targetPosition._getTransformedByMergeOperation(e),k=n.targetPosition._getTransformedByMergeOperation(e);return[new en(s,n.howMany,k,0)]}return[new In(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),n.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),rn(_n,en,(n,e,t)=>{const i=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new In(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])}),rn(_n,dn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,o=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||o||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}),rn(en,En,(n,e)=>{const t=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=t.start,n.howMany=t.end.offset-t.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]}),rn(en,en,(n,e,t)=>{const i=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany),o=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);let s,k=t.aIsStrong,H=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?H=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(H=!1),s=n.targetPosition.isEqual(e.targetPosition)&&H?n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Qr(n,e)&&Qr(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),or([i],s);if(o.containsPosition(n.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),or([i],s);const re=(0,h.Rt)(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(re=="prefix"||re=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),or([i],s);n.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?n.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(k=!1):k=!0;const pe=[],ye=i.getDifference(o);for(const Je of ye){Je.start=Je.start._getTransformedByDeletion(e.sourcePosition,e.howMany),Je.end=Je.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const Mt=(0,h.Rt)(Je.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",Wt=Je._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,Mt);pe.push(...Wt)}const Ne=i.getIntersection(o);return Ne!==null&&k&&(Ne.start=Ne.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ne.end=Ne.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),pe.length===0?pe.push(Ne):pe.length==1?o.start.isBefore(i.start)||o.start.isEqual(i.start)?pe.unshift(Ne):pe.push(Ne):pe.splice(1,0,Ne)),pe.length===0?[new In(n.baseVersion)]:or(pe,s)}),rn(en,dn,(n,e,t)=>{let i=n.targetPosition.clone();n.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=n.targetPosition._getTransformedBySplitOperation(e));const o=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let k=new Dt(e.splitPosition,o.end);return k=k._getTransformedBySplitOperation(e),or([new Dt(o.start,e.splitPosition),k],i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const s=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const k=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);n.howMany>1&&k&&!t.aWasUndone&&s.push(Dt._createFromPositionAndShift(e.insertionPosition,1))}return or(s,i)}),rn(en,_n,(n,e,t)=>{const i=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type!="remove"||t.forceWeakRemove){if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new In(0)]}else if(!t.aWasUndone){const s=[];let k=e.graveyardPosition.clone(),H=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(s.push(new en(n.sourcePosition,n.howMany-1,n.targetPosition,0)),k=k._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),H=H._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const re=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),pe=new en(k,1,re,0),ye=pe.getMovedRangeStart().path.slice();ye.push(0);const Ne=new oi(pe.targetPosition.root,ye);H=H._getTransformedByMove(k,re,1);const Je=new en(H,e.howMany,Ne,0);return s.push(pe),s.push(Je),s}}const o=Dt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]}),rn($n,En,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n])),rn($n,_n,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n])),rn($n,en,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),rn($n,$n,(n,e,t)=>{if(n.position.isEqual(e.position)){if(!t.aIsStrong)return[new In(0)];n.oldName=e.newName}return[n]}),rn($n,dn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if((0,h.Rt)(t,i)=="same"&&!e.graveyardPosition){const o=new $n(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,o]}return n.position=n.position._getTransformedBySplitOperation(e),[n]}),rn(Io,Io,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new In(0)];n.oldValue=e.newValue}return[n]}),rn(vo,vo,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new In(0)]:[n]),rn(dn,En,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n])),rn(dn,_n,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const o=new oi(e.graveyardPosition.root,i),s=dn.getInsertionPosition(new oi(e.graveyardPosition.root,i)),k=new dn(o,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=dn.getInsertionPosition(n.splitPosition),n.graveyardPosition=k.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[k,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=dn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),rn(dn,en,(n,e,t)=>{const i=Dt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const s=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&s){const k=n.splitPosition._getTransformedByMoveOperation(e),H=n.graveyardPosition._getTransformedByMoveOperation(e),re=H.path.slice();re.push(0);const pe=new oi(H.root,re);return[new en(k,n.howMany,pe,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const o=n.splitPosition.isEqual(e.targetPosition);if(o&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=dn.getInsertionPosition(n.splitPosition),[n];if(o&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:k}=t.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(k),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const s=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=dn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=dn.getInsertionPosition(n.splitPosition),[n]}),rn(dn,dn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new In(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new In(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",o=e.splitPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const s=[];return e.howMany&&s.push(new en(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&s.push(new en(n.splitPosition,n.howMany,n.moveTargetPosition,0)),s}return[new In(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const o=new oi(e.insertionPosition.root,i);return[n,new en(n.insertionPosition,1,o,0)]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=dn.getInsertionPosition(n.splitPosition),[n]});class Hn extends(0,h.ln)(oi){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new h.Bb("model-liveposition-root-not-rootelement",e);vs.call(this)}detach(){this.stopListening()}toPosition(){return new oi(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function vs(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Qs.call(this,t)},{priority:"low"})}function Qs(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Hn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};class pr{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,h.KE)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:o=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=o,this.isTyping=s}get type(){return(0,h.KE)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Js=Object.defineProperty,Xs=Object.defineProperties,ea=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable,Jr=(n,e,t)=>e in n?Js(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_r=(n,e)=>{for(var t in e||(e={}))_s.call(e,t)&&Jr(n,t,e[t]);if(Zo)for(var t of Zo(e))ys.call(e,t)&&Jr(n,t,e[t]);return n};class xs{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),o=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),o||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=Dt._createFromPositionAndShift(t.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const s=o.getData();this.bufferMarkerChange(o.name,s,s)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const o=t.graveyardPosition.parent;this._markInsert(o,t.graveyardPosition.offset,1);const s=t.targetPosition.parent;this._isInInsertedElement(s)||this._markInsert(s,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let o=this._changedMarkers.get(e);o?o.newMarkerData=i:(o={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,o)),o.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,o=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(i||o||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const o=this._changesInElement.get(i).sort((ye,Ne)=>ye.offset===Ne.offset?ye.type!=Ne.type?ye.type=="remove"?-1:1:0:ye.offset<Ne.offset?-1:1),s=this._elementSnapshots.get(i),k=Cs(i.getChildren()),H=ta(s.length,o);let re=0,pe=0;for(const ye of H)if(ye==="i")t.push(this._getInsertDiff(i,re,k[re])),re++;else if(ye==="r")t.push(this._getRemoveDiff(i,re,s[pe])),pe++;else if(ye==="a"){const Ne=k[re].attributes,Je=s[pe].attributes;let Mt;if(k[re].name=="$text")Mt=new Dt(oi._createAt(i,re),oi._createAt(i,re+1));else{const Wt=i.offsetToIndex(re);Mt=new Dt(oi._createAt(i,re),oi._createAt(i.getChild(Wt),0))}t.push(...this._getAttributesDiff(Mt,Je,Ne)),re++,pe++}else re++,pe++}t.sort((i,o)=>i.position.root!=o.position.root?i.position.root.rootName<o.position.root.rootName?-1:1:i.position.isEqual(o.position)?i.changeCount-o.changeCount:i.position.isBefore(o.position)?-1:1);for(let i=1,o=0;i<t.length;i++){const s=t[o],k=t[i],H=s.type=="remove"&&k.type=="remove"&&s.name=="$text"&&k.name=="$text"&&s.position.isEqual(k.position),re=s.type=="insert"&&k.type=="insert"&&s.name=="$text"&&k.name=="$text"&&s.position.parent==k.position.parent&&s.position.offset+s.length==k.position.offset,pe=s.type=="attribute"&&k.type=="attribute"&&s.position.parent==k.position.parent&&s.range.isFlat&&k.range.isFlat&&s.position.offset+s.length==k.position.offset&&s.attributeKey==k.attributeKey&&s.attributeOldValue==k.attributeOldValue&&s.attributeNewValue==k.attributeNewValue;H||re||pe?(s.length++,pe&&(s.range.end=s.range.end.getShiftedBy(1)),t[i]=null):o=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Ts),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=_r({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,o){const s=this._changedRoots.get(e)||{name:e},k=s.attributes||{};if(k[t]){const H=k[t];o===H.oldValue?delete k[t]:H.newValue=o}else k[t]={oldValue:i,newValue:o};Object.entries(k).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=k,this._changedRoots.set(e,s))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Dt._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const o=i.getData();this.bufferMarkerChange(i.name,o,o)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const i of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,i,null,e.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==e){const o=i.getData();this.bufferMarkerChange(i.name,(t=_r({},o),Xs(t,ea({range:null}))),o)}var t}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let o=0;o<i.length;o++)i[o].howMany<1&&(i.splice(o,1),o--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Cs(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const o=e.offset+e.howMany,s=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<s&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<s){const k=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:o,howMany:k-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(o<=i.offset)i.offset-=e.howMany;else if(o<=s)if(e.offset<i.offset){const k=o-i.offset;i.offset=e.offset,i.howMany-=k,e.nodesToHandle-=k}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<s){const k=s-e.offset;i.howMany-=k,e.nodesToHandle-=k}}if(i.type=="remove"&&(o<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(o<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const k=o-i.offset;i.offset=e.offset,i.howMany-=k}else if(e.offset<s)if(o<=s){const k=i.howMany;i.howMany=e.offset-i.offset;const H=k-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:H,count:this._changeCount++})}else i.howMany-=s-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&o>i.offset){if(o>s){const k={type:"attribute",offset:s,howMany:o-s,count:this._changeCount++};this._handleChange(k,t),t.push(k)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<s&&(o>s?(e.nodesToHandle=o-s,e.offset=s):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&o>i.offset){const k={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(k,t),t.push(k),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&o<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&o>=s&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:oi._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:oi._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const o=[];i=new Map(i);for(const[s,k]of t){const H=i.has(s)?i.get(s):null;H!==k&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:k,attributeNewValue:H,changeCount:this._changeCount++}),i.delete(s)}for(const[s,k]of i)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:k,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),o=e.startOffset;if(i){for(const s of i)if(s.type=="insert"&&o>=s.offset&&o<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const o=new Dt(oi._createAt(e,t),oi._createAt(e,t+i));for(const s of o.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function Cs(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function ta(n,e){const t=[];let i=0,o=0;for(const s of e){if(s.offset>i){for(let k=0;k<s.offset-i;k++)t.push("e");o+=s.offset-i}if(s.type=="insert"){for(let k=0;k<s.howMany;k++)t.push("i");i=s.offset+s.howMany}else if(s.type=="remove"){for(let k=0;k<s.howMany;k++)t.push("r");i=s.offset,o+=s.howMany}else t.push(..."a".repeat(s.howMany).split("")),i=s.offset+s.howMany,o+=s.howMany}if(o<n)for(let s=0;s<n-o-i;s++)t.push("e");return t}function Ts(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class As{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new h.Bb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let o=t-1;for(const[H,re]of this._gaps)e>H&&e<re&&(e=re),o>H&&o<re&&(o=H-1);if(o<i.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let k=this._baseVersionToOperationIndex.get(o);return k===void 0&&(k=this._operations.length-1),this._operations.slice(s,k+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Rr extends on{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Rr.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};var ia=Object.defineProperty,Es=Object.defineProperties,Ss=Object.getOwnPropertyDescriptors,Is=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,r=(n,e,t)=>e in n?ia(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,m=(n,e)=>{for(var t in e||(e={}))na.call(e,t)&&r(n,t,e[t]);if(Is)for(var t of Is(e))O.call(e,t)&&r(n,t,e[t]);return n},P=(n,e)=>Es(n,Ss(e));const M="$graveyard";class Z extends(0,h.ln)(){constructor(e){super(),this.model=e,this.history=new As,this.selection=new kn(this),this.roots=new h.FE({idProperty:"rootName"}),this.differ=new xs(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",M),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,o,s,k)=>{const H=P(m({},i.getData()),{range:s});this.differ.bufferMarkerChange(i.name,k,H),o===null&&i.on("change",(re,pe)=>{const ye=i.getData();this.differ.bufferMarkerChange(i.name,P(m({},ye),{range:pe}),ye)})}),this.registerPostFixer(t=>{let i=!1;for(const o of this.roots)o.isAttached()||o.isEmpty||(t.remove(t.createRangeIn(o)),i=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(t.removeMarker(o),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(M)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new h.Bb("model-document-createroot-name-exists",this,{name:t});const i=new Rr(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=S(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,o=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return ie(e.start)&&ie(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function ie(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!(0,h.to)(t,i)&&!(0,h.pp)(t,i)}return!0}var me=Object.defineProperty,ge=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable,Vt=(n,e,t)=>e in n?me(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class $t extends(0,h.ln)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ft?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,o=!1){const s=e instanceof Ft?e.name:e;if(s.includes(","))throw new h.Bb("markercollection-incorrect-marker-name",this);const k=this._markers.get(s);if(k){const ye=k.getData(),Ne=k.getRange();let Je=!1;return Ne.isEqual(t)||(k._attachLiveRange(An.fromRange(t)),Je=!0),i!=k.managedUsingOperations&&(k._managedUsingOperations=i,Je=!0),typeof o=="boolean"&&o!=k.affectsData&&(k._affectsData=o,Je=!0),Je&&this.fire(`update:${s}`,k,Ne,t,ye),k}const H=An.fromRange(t),re=new Ft(s,H,i,o);var pe;return this._markers.set(s,re),this.fire(`update:${s}`,re,null,t,(pe=((ye,Ne)=>{for(var Je in Ne||(Ne={}))ot.call(Ne,Je)&&Vt(ye,Je,Ne[Je]);if(Me)for(var Je of Me(Ne))ft.call(Ne,Je)&&Vt(ye,Je,Ne[Je]);return ye})({},re.getData()),ge(pe,Ce({range:null})))),re}_remove(e){const t=e instanceof Ft?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof Ft?e.name:e,i=this._markers.get(t);if(!i)throw new h.Bb("markercollection-refresh-marker-not-exists",this);const o=i.getRange();this.fire(`update:${t}`,i,o,o,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ft extends(0,h.ln)(Qn){constructor(e,t,i,o){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ft.prototype.is=function(n){return n==="marker"||n==="model:marker"};class ti extends Zn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new h.Bb("detach-operation-on-document-node",this)}_execute(){fs(Dt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ci extends Qn{constructor(e){super(),this.markers=new Map,this._children=new sn,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(on.fromJSON(i)):t.push(an.fromJSON(i));return new ci(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new an(o)]:((0,h.TW)(o)||(o=[o]),Array.from(o).map(s=>typeof s=="string"?new an(s):s instanceof Dn?new an(s.data,s.getAttributes()):s))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}}ci.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};class _i{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new an(e,t)}createElement(e,t){return new on(e,t)}createDocumentFragment(){return new ci}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof an&&e.data=="")return;const o=oi._createAt(t,i);if(e.parent){if(un(e.root,o.root))return void this.move(Dt._createOn(e),o);if(e.root.document)throw new h.Bb("model-writer-insert-forbidden-move",this);this.remove(e)}const s=o.root.document?o.root.document.version:null,k=new En(o,e,s);if(e instanceof an&&(k.shouldReceiveAttributes=!0),this.batch.addOperation(k),this.model.applyOperation(k),e instanceof ci)for(const[H,re]of e.markers){const pe=oi._createAt(re.root,0),ye={range:new Dt(re.start._getCombined(pe,o),re.end._getCombined(pe,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(H)?this.updateMarker(H,ye):this.addMarker(H,ye)}}insertText(e,t,i,o){t instanceof ci||t instanceof on||t instanceof oi?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,o)}insertElement(e,t,i,o){t instanceof ci||t instanceof on||t instanceof oi?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,o)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof ci||t instanceof on?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof ci||t instanceof on?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof Dt){const o=i.getMinimalFlatRanges();for(const s of o)Vi(this,e,t,s)}else tn(this,e,t,i)}setAttributes(e,t){for(const[i,o]of(0,h.qL)(e))this.setAttribute(i,o,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Dt){const i=t.getMinimalFlatRanges();for(const o of i)Vi(this,e,null,o)}else tn(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const o of i.getAttributeKeys())this.removeAttribute(o,i)};if(e instanceof Dt)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Dt))throw new h.Bb("writer-move-invalid-range",this);if(!e.isFlat)throw new h.Bb("writer-move-range-not-flat",this);const o=oi._createAt(t,i);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!un(e.root,o.root))throw new h.Bb("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,k=new en(e.start,e.end.offset-e.start.offset,o,s);this.batch.addOperation(k),this.model.applyOperation(k)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Dt?e:Dt._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),Ln(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof on))throw new h.Bb("writer-merge-no-element-before",this);if(!(i instanceof on))throw new h.Bb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(Dt._createIn(i),oi._createAt(t,"end")),this.remove(i)}_merge(e){const t=oi._createAt(e.nodeBefore,"end"),i=oi._createAt(e.nodeAfter,0),o=e.root.document.graveyard,s=new oi(o,[0]),k=e.root.document.version,H=new _n(i,e.nodeAfter.maxOffset,t,s,k);this.batch.addOperation(H),this.model.applyOperation(H)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof on))throw new h.Bb("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,o=new $n(oi._createBefore(e),e.name,t,i);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,t){this._assertWriterUsedCorrectly();let i,o,s=e.parent;if(!s.parent)throw new h.Bb("writer-split-element-no-parent",this);if(t||(t=s.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new h.Bb("writer-split-invalid-limit-element",this);do{const k=s.root.document?s.root.document.version:null,H=s.maxOffset-e.offset,re=dn.getInsertionPosition(e),pe=new dn(e,H,re,null,k);this.batch.addOperation(pe),this.model.applyOperation(pe),i||o||(i=s,o=e.parent.nextSibling),s=(e=this.createPositionAfter(e.parent)).parent}while(s!==t);return{position:e,range:new Dt(oi._createAt(i,"end"),oi._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new h.Bb("writer-wrap-range-not-flat",this);const i=t instanceof on?t:new on(t);if(i.childCount>0)throw new h.Bb("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new h.Bb("writer-wrap-element-attached",this);this.insert(i,e.start);const o=new Dt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,oi._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new h.Bb("writer-unwrap-element-no-parent",this);this.move(Dt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new h.Bb("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,o=t.range,s=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new h.Bb("writer-addmarker-marker-exists",this);if(!o)throw new h.Bb("writer-addmarker-no-range",this);return i?(fn(this,e,null,o,s),this.model.markers.get(e)):this.model.markers._set(e,o,i,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new h.Bb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,h.KE)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(o);const s=typeof t.usingOperation=="boolean",k=typeof t.affectsData=="boolean",H=k?t.affectsData:o.affectsData;if(!s&&!t.range&&!k)throw new h.Bb("writer-updatemarker-wrong-options",this);const re=o.getRange(),pe=t.range?t.range:re;s&&t.usingOperation!==o.managedUsingOperations?t.usingOperation?fn(this,i,null,pe,H):(fn(this,i,re,null,H),this.model.markers._set(i,pe,void 0,H)):o.managedUsingOperations?fn(this,i,re,pe,H):this.model.markers._set(i,pe,void 0,H)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new h.Bb("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);fn(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new h.Bb("writer-addroot-root-exists",this);const o=this.model.document,s=new vo(e,t,!0,o,o.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new h.Bb("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const i=this.model.document,o=new vo(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,o]of(0,h.qL)(e))this._setSelectionAttribute(i,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=kn._getStoreAttributeKey(e);this.setAttribute(o,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=kn._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new h.Bb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const o=i.getRange();let s=!1;if(e==="move"){const k=t;s=k.containsPosition(o.start)||k.start.isEqual(o.start)||k.containsPosition(o.end)||k.end.isEqual(o.end)}else{const k=t,H=k.nodeBefore,re=k.nodeAfter,pe=o.start.parent==H&&o.start.isAtEnd,ye=o.end.parent==re&&o.end.offset==0,Ne=o.end.nodeAfter==re,Je=o.start.nodeAfter==re;s=pe||ye||Ne||Je}s&&this.updateMarker(i.name,{range:o})}}}function Vi(n,e,t,i){const o=n.model,s=o.document;let k,H,re,pe=i.start;for(const Ne of i.getWalker({shallow:!0}))re=Ne.item.getAttribute(e),k&&H!=re&&(H!=t&&ye(),pe=k),k=Ne.nextPosition,H=re;function ye(){const Ne=new Dt(pe,k),Je=Ne.root.document?s.version:null,Mt=new Cn(Ne,e,H,t,Je);n.batch.addOperation(Mt),o.applyOperation(Mt)}k instanceof oi&&k!=pe&&H!=t&&ye()}function tn(n,e,t,i){const o=n.model,s=o.document,k=i.getAttribute(e);let H,re;if(k!=t){if(i.root===i){const pe=i.document?s.version:null;re=new Io(i,e,k,t,pe)}else{H=new Dt(oi._createBefore(i),n.createPositionAfter(i));const pe=H.root.document?s.version:null;re=new Cn(H,e,k,t,pe)}n.batch.addOperation(re),o.applyOperation(re)}}function fn(n,e,t,i,o){const s=n.model,k=s.document,H=new Fn(e,t,i,s.markers,!!o,k.version);n.batch.addOperation(H),s.applyOperation(H)}function Ln(n,e,t,i){let o;if(n.root.document){const s=i.document,k=new oi(s.graveyard,[0]);o=new en(n,e,k,s.version)}else o=new ti(n,e);t.addOperation(o),i.applyOperation(o)}function un(n,e){return n===e||n instanceof Rr&&e instanceof Rr}function fr(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const o=n.schema;n.change(s=>{if(!t.doNotResetEntireContent&&function(pe,ye){const Ne=pe.getLimitElement(ye);if(!ye.containsEntireContent(Ne))return!1;const Je=ye.getFirstRange();return Je.start.parent==Je.end.parent?!1:pe.checkChild(Ne,"paragraph")}(o,e))return void function(pe,ye){const Ne=pe.model.schema.getLimitElement(ye);pe.remove(pe.createRangeIn(Ne)),Do(pe,pe.createPositionAt(Ne,0),ye)}(s,e);const k={};if(!t.doNotAutoparagraph){const pe=e.getSelectedElement();pe&&Object.assign(k,o.getAttributesWithProperty(pe,"copyOnReplace",!0))}const[H,re]=function(pe){const ye=pe.root.document.model,Ne=pe.start;let Je=pe.end;if(ye.hasContent(pe,{ignoreMarkers:!0})){const Mt=function(Wt){const si=Wt.parent,bi=si.root.document.model.schema,Fi=si.getAncestors({parentFirst:!0,includeSelf:!0});for(const Hi of Fi){if(bi.isLimit(Hi))return null;if(bi.isBlock(Hi))return Hi}}(Je);if(Mt&&Je.isTouching(ye.createPositionAt(Mt,0))){const Wt=ye.createSelection(pe);ye.modifySelection(Wt,{direction:"backward"});const si=Wt.getLastPosition(),bi=ye.createRange(si,Je);ye.hasContent(bi,{ignoreMarkers:!0})||(Je=si)}}return[Hn.fromPosition(Ne,"toPrevious"),Hn.fromPosition(Je,"toNext")]}(i);H.isTouching(re)||s.remove(s.createRange(H,re)),t.leaveUnmerged||(function(pe,ye,Ne){const Je=pe.model;if(!Bo(pe.model.schema,ye,Ne))return;const[Mt,Wt]=function(si,bi){const Fi=si.getAncestors(),Hi=bi.getAncestors();let mn=0;for(;Fi[mn]&&Fi[mn]==Hi[mn];)mn++;return[Fi[mn],Hi[mn]]}(ye,Ne);!Mt||!Wt||(!Je.hasContent(Mt,{ignoreMarkers:!0})&&Je.hasContent(Wt,{ignoreMarkers:!0})?yr(pe,ye,Ne,Mt.parent):to(pe,ye,Ne,Mt.parent))}(s,H,re),o.removeDisallowedAttributes(H.parent.getChildren(),s)),rr(s,e,H),!t.doNotAutoparagraph&&function(pe,ye){const Ne=pe.checkChild(ye,"$text"),Je=pe.checkChild(ye,"paragraph");return!Ne&&Je}(o,H)&&Do(s,H,e,k),H.detach(),re.detach()})}function to(n,e,t,i){const o=e.parent,s=t.parent;if(o!=i&&s!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(s)).isEqual(e)||n.insert(s,e),n.merge(e);t.parent.isEmpty;){const k=t.parent;t=n.createPositionBefore(k),n.remove(k)}Bo(n.model.schema,e,t)&&to(n,e,t,i)}}function yr(n,e,t,i){const o=e.parent,s=t.parent;if(o!=i&&s!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(s)).isEqual(e)||n.insert(o,t);e.parent.isEmpty;){const k=e.parent;e=n.createPositionBefore(k),n.remove(k)}t=n.createPositionBefore(s),function(k,H){const re=H.nodeBefore,pe=H.nodeAfter;re.name!=pe.name&&k.rename(re,pe.name),k.clearAttributes(re),k.setAttributes(Object.fromEntries(pe.getAttributes()),re),k.merge(H)}(n,t),Bo(n.model.schema,e,t)&&yr(n,e,t,i)}}function Bo(n,e,t){const i=e.parent,o=t.parent;return i!=o&&!n.isLimit(i)&&!n.isLimit(o)&&function(s,k,H){const re=new Dt(s,k);for(const pe of re.getWalker())if(H.isLimit(pe.item))return!1;return!0}(e,t,n)}function Do(n,e,t,i={}){const o=n.createElement("paragraph");n.model.schema.setAllowedAttributes(o,i,n),n.insert(o,e),rr(n,t,n.createPositionAt(o,0))}function rr(n,e,t){e instanceof kn?n.setSelection(t):e.setTo(t)}function sr(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let o=i;for(;o.parent&&o.isEmpty;){const s=e.createRangeOn(o);o=o.parent,e.remove(s)}})}class Ps{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Dt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Dt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Hn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new h.Bb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Hn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Hn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof on)||!this._canMergeLeft(e))return;const t=Hn._createBefore(e);t.stickiness="toNext";const i=Hn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Hn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Hn._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof on)||!this._canMergeRight(e))return;const t=Hn._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=oi._createAt(t.nodeBefore,"end");const i=Hn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Hn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Hn._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof on&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof on&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Xr(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const o=(0,h.Ps)(n.getSelectedBlocks());if(!o)return e.createRange(n.focus);if(o.isEmpty)return e.createRange(e.createPositionAt(o,0));const s=e.createPositionAfter(o);return n.focus.isTouching(s)?e.createRange(s):e.createRange(e.createPositionBefore(o))}function Os(n,e,t,i={}){if(!n.schema.isObject(e))throw new h.Bb("insertobject-element-not-an-object",n,{object:e});const o=t||n.document.selection;let s=o;i.findOptimalPosition&&n.schema.isBlock(e)&&(s=n.createSelection(Xr(o,n,i.findOptimalPosition)));const k=(0,h.Ps)(o.getSelectedBlocks()),H={};return k&&Object.assign(H,n.schema.getAttributesWithProperty(k,"copyOnReplace",!0)),n.change(re=>{s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});let pe=e;const ye=s.anchor.parent;!n.schema.checkChild(ye,e)&&n.schema.checkChild(ye,"paragraph")&&n.schema.checkChild("paragraph",e)&&(pe=re.createElement("paragraph"),re.insert(e,pe)),n.schema.setAllowedAttributes(pe,H,re);const Ne=n.insertContent(pe,s);return Ne.isCollapsed||i.setSelection&&function(Je,Mt,Wt,si){const bi=Je.model;if(Wt=="on")return void Je.setSelection(Mt,"on");if(Wt!="after")throw new h.Bb("insertobject-invalid-place-parameter-value",bi);let Fi=Mt.nextSibling;if(bi.schema.isInline(Mt))return void Je.setSelection(Mt,"after");!(Fi&&bi.schema.checkChild(Fi,"$text"))&&bi.schema.checkChild(Mt.parent,"paragraph")&&(Fi=Je.createElement("paragraph"),bi.schema.setAllowedAttributes(Fi,si,Je),bi.insertContent(Fi,Je.createPositionAfter(Mt))),Fi&&Je.setSelection(Fi,0)}(re,e,i.setSelection,H),Ne})}const wa=' ,.?!:;"-()';function ka(n,e){const{isForward:t,walker:i,unit:o,schema:s,treatEmojiAsSingleUnit:k}=n,{type:H,item:re,nextPosition:pe}=e;if(H=="text")return n.unit==="word"?function(ye,Ne){let Je=ye.position.textNode;for(Je||(Je=Ne?ye.position.nodeAfter:ye.position.nodeBefore);Je&&Je.is("$text");){const Mt=ye.position.offset-Je.startOffset;if(ya(Je,Mt,Ne))Je=Ne?ye.position.nodeAfter:ye.position.nodeBefore;else{if(_a(Je.data,Mt,Ne))break;ye.next()}}return ye.position}(i,t):function(ye,Ne,Je){const Mt=ye.position.textNode;if(Mt){const Wt=Mt.data;let si=ye.position.offset-Mt.startOffset;for(;(0,h.to)(Wt,si)||Ne=="character"&&(0,h.pp)(Wt,si)||Je&&(0,h.YK)(Wt,si);)ye.next(),si=ye.position.offset-Mt.startOffset}return ye.position}(i,o,k);if(H==(t?"elementStart":"elementEnd")){if(s.isSelectable(re))return oi._createAt(re,t?"after":"before");if(s.checkChild(pe,"$text"))return pe}else{if(s.isLimit(re))return void i.skip(()=>!0);if(s.checkChild(pe,"$text"))return pe}}function va(n,e){const t=n.root,i=oi._createAt(t,e?"end":0);return e?new Dt(n,i):new Dt(i,n)}function _a(n,e,t){const i=e+(t?0:-1);return wa.includes(n.charAt(i))}function ya(n,e,t){return e===(t?n.offsetSize:0)}class xa extends(0,h.Re)(){constructor(){super(),this.markers=new $t,this.document=new Z(this),this.schema=new Ir,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),Vs(this),this.document.registerPostFixer(Xe),this.on("insertContent",(e,[t,i])=>{e.return=function(o,s,k){return o.change(H=>{const re=k||o.document.selection;re.isCollapsed||o.deleteContent(re,{doNotAutoparagraph:!0});const pe=new Ps(o,H,re.anchor),ye=[];let Ne;if(s.is("documentFragment")){if(s.markers.size){const Wt=[];for(const[si,bi]of s.markers){const{start:Fi,end:Hi}=bi,mn=Fi.isEqual(Hi);Wt.push({position:Fi,name:si,isCollapsed:mn},{position:Hi,name:si,isCollapsed:mn})}Wt.sort(({position:si},{position:bi})=>si.isBefore(bi)?1:-1);for(const{position:si,name:bi,isCollapsed:Fi}of Wt){let Hi=null,mn=null;const mo=si.parent===s&&si.isAtStart,zo=si.parent===s&&si.isAtEnd;mo||zo?Fi&&(mn=mo?"start":"end"):(Hi=H.createElement("$marker"),H.insert(Hi,si)),ye.push({name:bi,element:Hi,collapsed:mn})}}Ne=s.getChildren()}else Ne=[s];pe.handleNodes(Ne);let Je=pe.getSelectionRange();if(s.is("documentFragment")&&ye.length){const Wt=Je?An.fromRange(Je):null,si={};for(let bi=ye.length-1;bi>=0;bi--){const{name:Fi,element:Hi,collapsed:mn}=ye[bi],mo=!si[Fi];if(mo&&(si[Fi]=[]),Hi){const zo=H.createPositionAt(Hi,"before");si[Fi].push(zo),H.remove(Hi)}else{const zo=pe.getAffectedRange();if(!zo){mn&&si[Fi].push(pe.position);continue}mn?si[Fi].push(zo[mn]):si[Fi].push(mo?zo.start:zo.end)}}for(const[bi,[Fi,Hi]]of Object.entries(si))Fi&&Hi&&Fi.root===Hi.root&&H.addMarker(bi,{usingOperation:!0,affectsData:!0,range:new Dt(Fi,Hi)});Wt&&(Je=Wt.toRange(),Wt.detach())}Je&&(re instanceof kn?H.setSelection(Je):re.setTo(Je));const Mt=pe.getAffectedRange()||o.createRange(re.anchor);return pe.destroy(),Mt})}(this,t,i)}),this.on("insertObject",(e,[t,i,o])=>{e.return=Os(this,t,i,o)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new pr,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new pr):e instanceof pr||(e=new pr(e)):e=new pr,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...o){const s=oa(t,i);return this.fire("insertContent",[e,s,i,...o])}insertObject(e,t,i,o,...s){const k=oa(t,i);return this.fire("insertObject",[e,k,o,o,...s])}deleteContent(e,t){fr(this,e,t)}modifySelection(e,t){(function(i,o,s={}){const k=i.schema,H=s.direction!="backward",re=s.unit?s.unit:"character",pe=!!s.treatEmojiAsSingleUnit,ye=o.focus,Ne=new oo({boundaries:va(ye,H),singleCharacters:!0,direction:H?"forward":"backward"}),Je={walker:Ne,schema:k,isForward:H,unit:re,treatEmojiAsSingleUnit:pe};let Mt;for(;Mt=Ne.next();){if(Mt.done)return;const Wt=ka(Je,Mt.value);if(Wt)return void(o instanceof kn?i.change(si=>{si.setSelectionFocus(Wt)}):o.setFocus(Wt))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(o=>{const s=o.createDocumentFragment(),k=i.getFirstRange();if(!k||k.isCollapsed)return s;const H=k.start.root,re=k.start.getCommonPath(k.end),pe=H.getNodeByPath(re);let ye;ye=k.start.parent==k.end.parent?k:o.createRange(o.createPositionAt(pe,k.start.path[re.length]),o.createPositionAt(pe,k.end.path[re.length]+1));const Ne=ye.end.offset-ye.start.offset;for(const Je of ye.getItems({shallow:!0}))Je.is("$textProxy")?o.appendText(Je.data,Je.getAttributes(),s):o.append(o.cloneElement(Je,!0),s);if(ye!=k){const Je=k._getTransformedByMove(ye.start,o.createPositionAt(s,0),Ne)[0],Mt=o.createRange(o.createPositionAt(s,0),Je.start);sr(o.createRange(Je.end,o.createPositionAt(s,"end")),o),sr(Mt,o)}return s})}(this,e)}hasContent(e,t={}){const i=e instanceof Dt?e:Dt._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:s=!1}=t;if(!s){for(const k of this.markers.getMarkersIntersectingRange(i))if(k.affectsData)return!0}for(const k of i.getItems())if(this.schema.isContent(k)&&(!k.is("$textProxy")||!o||k.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=oa(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new oi(e,t,i)}createPositionAt(e,t){return oi._createAt(e,t)}createPositionAfter(e){return oi._createAfter(e)}createPositionBefore(e){return oi._createBefore(e)}createRange(e,t){return new Dt(e,t)}createRangeIn(e){return Dt._createIn(e)}createRangeOn(e){return Dt._createOn(e)}createSelection(...e){return new Qi(...e)}createBatch(e){return new pr(e)}createOperationFromJSON(e){return ws.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new _i(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function oa(n,e){if(n)return n instanceof Qi||n instanceof kn?n:n instanceof lo?e||e===0?new Qi(n,e):n.is("rootElement")?new Qi(n,"in"):new Qi(n,"on"):new Qi(n)}class Ca extends vt{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ta extends vt{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Aa{constructor(e){this.document=e}createDocumentFragment(e){return new ln(this.document,e)}createElement(e,t,i){return new ji(this.document,e,t,i)}createText(e){return new U(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const o=i.getChildIndex(e);return this.removeChildren(o,1,i),this.insertChild(o,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new ji(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,f.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return wt._createAt(e,t)}createPositionAfter(e){return wt._createAfter(e)}createPositionBefore(e){return wt._createBefore(e)}createRange(e,t){return new zt(e,t)}createRangeOn(e){return zt._createOn(e)}createRangeIn(e){return zt._createIn(e)}createSelection(...e){return new gi(...e)}}const Ea=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Sa=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Ia=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Pa=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,Oa=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,La=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Ma=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function la(n){return n.startsWith("#")?Ea.test(n):n.startsWith("rgb")?Sa.test(n)||Ia.test(n):n.startsWith("hsl")?Pa.test(n)||Oa.test(n):Ma.has(n.toLowerCase())}const Ra=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function ca(n){return Ra.includes(n)}const ja=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function da(n){return ja.test(n)}const Va=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Na(n){return Va.test(n)}const Ba=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function ua(n){return Ba.includes(n)}const Da=["center","top","bottom","left","right"];function ha(n){return Da.includes(n)}const za=["fixed","scroll","local"];function ga(n){return za.includes(n)}const Fa=/^url\(/;function ma(n){return Fa.test(n)}function jr(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Ls(n),t=e[0],i=e[2]||t,o=e[1]||t;return{top:t,bottom:i,right:o,left:e[3]||o}}function Vr(n){return e=>{const{top:t,right:i,bottom:o,left:s}=e,k=[];return[t,i,s,o].every(H=>!!H)?k.push([n,pa(e)]):(t&&k.push([n+"-top",t]),i&&k.push([n+"-right",i]),o&&k.push([n+"-bottom",o]),s&&k.push([n+"-left",s])),k}}function pa({top:n,right:e,bottom:t,left:i}){const o=[];return i!==e?o.push(n,e,t,i):t!==n?o.push(n,e,t):e!==n?o.push(n,e):o.push(n),o.join(" ")}function ra(n){return e=>({path:n,value:jr(e)})}function Ls(n){const e=n.matchAll(La);return Array.from(e).map(t=>t[0])}function Ha(n){n.setNormalizer("background",e=>{const t={},i=Ls(e);for(const o of i)ua(o)?(t.repeat=t.repeat||[],t.repeat.push(o)):ha(o)?(t.position=t.position||[],t.position.push(o)):ga(o)?t.attachment=o:la(o)?t.color=o:ma(o)&&(t.image=o);return{path:"background",value:t}}),n.setNormalizer("background-color",e=>({path:"background.color",value:e})),n.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),n.setStyleRelation("background",["background-color"])}function Ua(n){n.setNormalizer("border",e=>{const{color:t,style:i,width:o}=fa(e);return{path:"border",value:{color:jr(t),style:jr(i),width:jr(o)}}}),n.setNormalizer("border-top",Ms("top")),n.setNormalizer("border-right",Ms("right")),n.setNormalizer("border-bottom",Ms("bottom")),n.setNormalizer("border-left",Ms("left")),n.setNormalizer("border-color",sa("color")),n.setNormalizer("border-width",sa("width")),n.setNormalizer("border-style",sa("style")),n.setNormalizer("border-top-color",Po("color","top")),n.setNormalizer("border-top-style",Po("style","top")),n.setNormalizer("border-top-width",Po("width","top")),n.setNormalizer("border-right-color",Po("color","right")),n.setNormalizer("border-right-style",Po("style","right")),n.setNormalizer("border-right-width",Po("width","right")),n.setNormalizer("border-bottom-color",Po("color","bottom")),n.setNormalizer("border-bottom-style",Po("style","bottom")),n.setNormalizer("border-bottom-width",Po("width","bottom")),n.setNormalizer("border-left-color",Po("color","left")),n.setNormalizer("border-left-style",Po("style","left")),n.setNormalizer("border-left-width",Po("width","left")),n.setExtractor("border-top",Rs("top")),n.setExtractor("border-right",Rs("right")),n.setExtractor("border-bottom",Rs("bottom")),n.setExtractor("border-left",Rs("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",Vr("border-color")),n.setReducer("border-style",Vr("border-style")),n.setReducer("border-width",Vr("border-width")),n.setReducer("border-top",js("top")),n.setReducer("border-right",js("right")),n.setReducer("border-bottom",js("bottom")),n.setReducer("border-left",js("left")),n.setReducer("border",function(){return t=>{const i=es(t,"top"),o=es(t,"right"),s=es(t,"bottom"),k=es(t,"left"),H=[i,o,s,k],re={width:e(H,"width"),style:e(H,"style"),color:e(H,"color")},pe=Nr(re,"all");return pe.length?pe:[...Object.entries(re).reduce((ye,[Ne,Je])=>(Je&&(ye.push([`border-${Ne}`,Je]),H.forEach(Mt=>delete Mt[Ne])),ye),[]),...Nr(i,"top"),...Nr(o,"right"),...Nr(s,"bottom"),...Nr(k,"left")]};function e(t,i){return t.map(o=>o[i]).reduce((o,s)=>o==s?o:null)}}()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Ms(n){return e=>{const{color:t,style:i,width:o}=fa(e),s={};return t!==void 0&&(s.color={[n]:t}),i!==void 0&&(s.style={[n]:i}),o!==void 0&&(s.width={[n]:o}),{path:"border",value:s}}}function sa(n){return e=>({path:"border",value:Wa(e,n)})}function Wa(n,e){return{[e]:jr(n)}}function Po(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function Rs(n){return(e,t)=>{if(t.border)return es(t.border,n)}}function es(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function fa(n){const e={},t=Ls(n);for(const i of t)da(i)||/thin|medium|thick/.test(i)?e.width=i:ca(i)?e.style=i:e.color=i;return e}function js(n){return e=>Nr(e,n)}function Nr(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const i=t.map(o=>n[o]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,n[i]])}function Za(n){n.setNormalizer("margin",ra("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",Vr("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function $a(n){n.setNormalizer("padding",ra("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",Vr("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},"./packages/ckeditor5-enter/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{C:()=>Y,G:()=>b});var c=l("./packages/ckeditor5-core/src/index.ts");function*L(_,w){for(const E of w)E&&_.getAttributeProperties(E[0]).copyOnEnter&&(yield E)}class z extends c.mY{execute(){this.editor.model.change(w=>{this.enterBlock(w),this.fire("afterExecute",{writer:w})})}enterBlock(w){const E=this.editor.model,C=E.document.selection,S=E.schema,ne=C.isCollapsed,U=C.getFirstRange(),D=U.start.parent,f=U.end.parent;if(S.isLimit(D)||S.isLimit(f))return ne||D!=f||E.deleteContent(C),!1;if(ne){const R=L(w.model.schema,C.getAttributes());return y(w,U.start),w.setSelectionAttribute(R),!0}{const R=!(U.start.isAtStart&&U.end.isAtEnd),W=D==f;if(E.deleteContent(C,{leaveUnmerged:R}),R){if(W)return y(w,C.focus),!0;w.setSelection(f,0)}}return!1}}function y(_,w){_.split(w),_.setSelection(w.parent.nextSibling,0)}var h=l("./packages/ckeditor5-engine/src/index.ts"),V=l("./packages/ckeditor5-utils/src/index.ts");const $={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class J extends h.Qj{constructor(w){super(w);const E=this.document;let C=!1;E.on("keydown",(S,ne)=>{C=ne.shiftKey}),E.on("beforeinput",(S,ne)=>{if(!this.isEnabled)return;let U=ne.inputType;V.OB.isSafari&&C&&U=="insertParagraph"&&(U="insertLineBreak");const D=ne.domEvent,f=$[U];if(!f)return;const R=new h.r7(E,"enter",ne.targetRanges[0]);E.fire(R,new h.dK(w,D,{isSoft:f.isSoft})),R.stop.called&&S.stop()})}observe(){}stopObserving(){}}class Y extends c.Sy{static get pluginName(){return"Enter"}init(){const w=this.editor,E=w.editing.view,C=E.document;E.addObserver(J),w.commands.add("enter",new z(w)),this.listenTo(C,"enter",(S,ne)=>{C.isComposing||ne.preventDefault(),ne.isSoft||(w.execute("enter"),E.scrollToTheSelection())},{priority:"low"})}}class le extends c.mY{execute(){const w=this.editor.model,E=w.document;w.change(C=>{(function(S,ne,U){const D=U.isCollapsed,f=U.getFirstRange(),R=f.start.parent,W=f.end.parent,N=R==W;if(D){const oe=L(S.schema,U.getAttributes());q(S,ne,f.end),ne.removeSelectionAttribute(U.getAttributeKeys()),ne.setSelectionAttribute(oe)}else{const oe=!(f.start.isAtStart&&f.end.isAtEnd);S.deleteContent(U,{leaveUnmerged:oe}),N?q(S,ne,U.focus):oe&&ne.setSelection(W,0)}})(w,C,E.selection),this.fire("afterExecute",{writer:C})})}refresh(){const w=this.editor.model,E=w.document;this.isEnabled=function(C,S){if(S.rangeCount>1)return!1;const ne=S.anchor;if(!ne||!C.checkChild(ne,"softBreak"))return!1;const U=S.getFirstRange(),D=U.start.parent,f=U.end.parent;return!((d(D,C)||d(f,C))&&D!==f)}(w.schema,E.selection)}}function q(_,w,E){const C=w.createElement("softBreak");_.insertContent(C,E),w.setSelection(C,"after")}function d(_,w){return!_.is("rootElement")&&(w.isLimit(_)||d(_.parent,w))}class b extends c.Sy{static get pluginName(){return"ShiftEnter"}init(){const w=this.editor,E=w.model.schema,C=w.conversion,S=w.editing.view,ne=S.document;E.register("softBreak",{allowWhere:"$text",isInline:!0}),C.for("upcast").elementToElement({model:"softBreak",view:"br"}),C.for("downcast").elementToElement({model:"softBreak",view:(U,{writer:D})=>D.createEmptyElement("br")}),S.addObserver(J),w.commands.add("shiftEnter",new le(w)),this.listenTo(ne,"enter",(U,D)=>{ne.isComposing||D.preventDefault(),D.isSoft&&(w.execute("shiftEnter"),S.scrollToTheSelection())},{priority:"low"})}}},"./packages/ckeditor5-typing/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{HG:()=>C,II:()=>J,BT:()=>y,cL:()=>ct,uL:()=>U,mh:()=>D,Mq:()=>S,VD:()=>mt,r9:()=>qe,Up:()=>ne,Im:()=>et});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class z{constructor(de,we=20){this._batch=null,this.model=de,this._size=0,this.limit=we,this._isLocked=!1,this._changeCallback=(Be,Ge)=>{Ge.isLocal&&Ge.isUndoable&&Ge!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(de){this._size+=de,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(de=!1){this.isLocked&&!de||(this._batch=null,this._size=0)}}class y extends c.mY{constructor(de,we){super(de),this._buffer=new z(de.model,we),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(de={}){const we=this.editor.model,Be=we.document,Ge=de.text||"",Fe=Ge.length;let Ve=Be.selection;if(de.selection?Ve=de.selection:de.range&&(Ve=we.createSelection(de.range)),!we.canEditAt(Ve))return;const ut=de.resultRange;we.enqueueChange(this._buffer.batch,St=>{this._buffer.lock(),we.deleteContent(Ve),Ge&&we.insertContent(St.createText(Ge,Be.selection.getAttributes()),Ve),ut?St.setSelection(ut):Ve.is("documentSelection")||St.setSelection(Ve),this._buffer.unlock(),this._buffer.input(Fe)})}}var h=l("./packages/ckeditor5-engine/src/index.ts");const V=["insertText","insertReplacementText"];class $ extends h.Qj{constructor(de){super(de),this.focusObserver=de.getObserver(h.DX),L.OB.isAndroid&&V.push("insertCompositionText");const we=de.document;we.on("beforeinput",(Be,Ge)=>{if(!this.isEnabled)return;const{data:Fe,targetRanges:Ve,inputType:ut,domEvent:St}=Ge;if(!V.includes(ut))return;this.focusObserver.flush();const Lt=new L.M3(we,"insertText");we.fire(Lt,new h.dK(de,St,{text:Fe,selection:de.createSelection(Ve)})),Lt.stop.called&&Be.stop()}),we.on("compositionend",(Be,{data:Ge,domEvent:Fe})=>{this.isEnabled&&!L.OB.isAndroid&&Ge&&we.fire("insertText",new h.dK(de,Fe,{text:Ge,selection:we.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class J extends c.Sy{static get pluginName(){return"Input"}init(){const de=this.editor,we=de.model,Be=de.editing.view,Ge=we.document.selection;Be.addObserver($);const Fe=new y(de,de.config.get("typing.undoStep")||20);de.commands.add("insertText",Fe),de.commands.add("input",Fe),this.listenTo(Be.document,"insertText",(Ve,ut)=>{Be.document.isComposing||ut.preventDefault();const{text:St,selection:Lt,resultRange:Qt}=ut,yt=Array.from(Lt.getRanges()).map(pi=>de.editing.mapper.toModelRange(pi));let Tt=St;if(L.OB.isAndroid){const pi=Array.from(yt[0].getItems()).reduce((Li,Ei)=>Li+(Ei.is("$textProxy")?Ei.data:""),"");pi&&(pi.length<=Tt.length?Tt.startsWith(pi)&&(Tt=Tt.substring(pi.length),yt[0].start=yt[0].start.getShiftedBy(pi.length)):pi.startsWith(Tt)&&(yt[0].start=yt[0].start.getShiftedBy(Tt.length),Tt=""))}const mi={text:Tt,selection:we.createSelection(yt)};Qt&&(mi.resultRange=de.editing.mapper.toModelRange(Qt)),de.execute("insertText",mi),Be.scrollToTheSelection()}),L.OB.isAndroid?this.listenTo(Be.document,"keydown",(Ve,ut)=>{!Ge.isCollapsed&&ut.keyCode==229&&Be.document.isComposing&&Y(we,Fe)}):this.listenTo(Be.document,"compositionstart",()=>{Ge.isCollapsed||Y(we,Fe)})}}function Y(Q,de){if(!de.isEnabled)return;const we=de.buffer;we.lock(),Q.enqueueChange(we.batch,()=>{Q.deleteContent(Q.document.selection)}),we.unlock()}class le extends c.mY{constructor(de,we){super(de),this.direction=we,this._buffer=new z(de.model,de.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(de={}){const we=this.editor.model,Be=we.document;we.enqueueChange(this._buffer.batch,Ge=>{this._buffer.lock();const Fe=Ge.createSelection(de.selection||Be.selection);if(!we.canEditAt(Fe))return;const Ve=de.sequence||1,ut=Fe.isCollapsed;if(Fe.isCollapsed&&we.modifySelection(Fe,{direction:this.direction,unit:de.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(Ve))return void this._replaceEntireContentWithParagraph(Ge);if(this._shouldReplaceFirstBlockWithParagraph(Fe,Ve))return void this.editor.execute("paragraph",{selection:Fe});if(Fe.isCollapsed)return;let St=0;Fe.getFirstRange().getMinimalFlatRanges().forEach(Lt=>{St+=(0,L.QX)(Lt.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),we.deleteContent(Fe,{doNotResetEntireContent:ut,direction:this.direction}),this._buffer.input(St),Ge.setSelection(Fe),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(de){if(de>1)return!1;const we=this.editor.model,Be=we.document.selection,Ge=we.schema.getLimitElement(Be);if(!(Be.isCollapsed&&Be.containsEntireContent(Ge))||!we.schema.checkChild(Ge,"paragraph"))return!1;const Fe=Ge.getChild(0);return!Fe||!Fe.is("element","paragraph")}_replaceEntireContentWithParagraph(de){const we=this.editor.model,Be=we.document.selection,Ge=we.schema.getLimitElement(Be),Fe=de.createElement("paragraph");de.remove(de.createRangeIn(Ge)),de.insert(Fe,Ge),de.setSelection(Fe,0)}_shouldReplaceFirstBlockWithParagraph(de,we){const Be=this.editor.model;if(we>1||this.direction!="backward"||!de.isCollapsed)return!1;const Ge=de.getFirstPosition(),Fe=Be.schema.getLimitElement(Ge),Ve=Fe.getChild(0);return Ge.parent==Ve&&!!de.containsEntireContent(Ve)&&!!Be.schema.checkChild(Fe,"paragraph")&&Ve.name!="paragraph"}}const q="word",d="selection",b="backward",_="forward",w={deleteContent:{unit:d,direction:b},deleteContentBackward:{unit:"codePoint",direction:b},deleteWordBackward:{unit:q,direction:b},deleteHardLineBackward:{unit:d,direction:b},deleteSoftLineBackward:{unit:d,direction:b},deleteContentForward:{unit:"character",direction:_},deleteWordForward:{unit:q,direction:_},deleteHardLineForward:{unit:d,direction:_},deleteSoftLineForward:{unit:d,direction:_}};class E extends h.Qj{constructor(de){super(de);const we=de.document;let Be=0;we.on("keydown",()=>{Be++}),we.on("keyup",()=>{Be=0}),we.on("beforeinput",(Ge,Fe)=>{if(!this.isEnabled)return;const{targetRanges:Ve,domEvent:ut,inputType:St}=Fe,Lt=w[St];if(!Lt)return;const Qt={direction:Lt.direction,unit:Lt.unit,sequence:Be};Qt.unit==d&&(Qt.selectionToRemove=de.createSelection(Ve[0])),St==="deleteContentBackward"&&(L.OB.isAndroid&&(Qt.sequence=1),function(Tt){if(Tt.length!=1||Tt[0].isCollapsed)return!1;const mi=Tt[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let pi=0;for(const{nextPosition:Li}of mi){if(Li.parent.is("$text")){const Ei=Li.parent.data,Ni=Li.offset;if((0,L.to)(Ei,Ni)||(0,L.pp)(Ei,Ni)||(0,L.YK)(Ei,Ni))continue;pi++}else pi++;if(pi>1)return!0}return!1}(Ve)&&(Qt.unit=d,Qt.selectionToRemove=de.createSelection(Ve)));const yt=new h.r7(we,"delete",Ve[0]);we.fire(yt,new h.dK(de,ut,Qt)),yt.stop.called&&Ge.stop()}),L.OB.isBlink&&function(Ge){const Fe=Ge.view,Ve=Fe.document;let ut=null,St=!1;function Lt(yt){return yt==L.Do.backspace||yt==L.Do.delete}function Qt(yt){return yt==L.Do.backspace?b:_}Ve.on("keydown",(yt,{keyCode:Tt})=>{ut=Tt,St=!1}),Ve.on("keyup",(yt,{keyCode:Tt,domEvent:mi})=>{const pi=Ve.selection,Li=Ge.isEnabled&&Tt==ut&&Lt(Tt)&&!pi.isCollapsed&&!St;if(ut=null,Li){const Ei=pi.getFirstRange(),Ni=new h.r7(Ve,"delete",Ei),xi={unit:d,direction:Qt(Tt),selectionToRemove:pi};Ve.fire(Ni,new h.dK(Fe,mi,xi))}}),Ve.on("beforeinput",(yt,{inputType:Tt})=>{const mi=w[Tt];Lt(ut)&&mi&&mi.direction==Qt(ut)&&(St=!0)},{priority:"high"}),Ve.on("beforeinput",(yt,{inputType:Tt,data:mi})=>{ut==L.Do.delete&&Tt=="insertText"&&mi=="\x7F"&&yt.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class C extends c.Sy{static get pluginName(){return"Delete"}init(){const de=this.editor,we=de.editing.view,Be=we.document,Ge=de.model.document;we.addObserver(E),this._undoOnBackspace=!1;const Fe=new le(de,"forward");de.commands.add("deleteForward",Fe),de.commands.add("forwardDelete",Fe),de.commands.add("delete",new le(de,"backward")),this.listenTo(Be,"delete",(Ve,ut)=>{Be.isComposing||ut.preventDefault();const{direction:St,sequence:Lt,selectionToRemove:Qt,unit:yt}=ut,Tt=St==="forward"?"deleteForward":"delete",mi={sequence:Lt};if(yt=="selection"){const pi=Array.from(Qt.getRanges()).map(Li=>de.editing.mapper.toModelRange(Li));mi.selection=de.model.createSelection(pi)}else mi.unit=yt;de.execute(Tt,mi),we.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(Be,"delete",(Ve,ut)=>{this._undoOnBackspace&&ut.direction=="backward"&&ut.sequence==1&&ut.unit=="codePoint"&&(this._undoOnBackspace=!1,de.execute("undo"),ut.preventDefault(),Ve.stop())},{context:"$capture"}),this.listenTo(Ge,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class S extends c.Sy{static get requires(){return[J,C]}static get pluginName(){return"Typing"}}function ne(Q,de){let we=Q.start;return{text:Array.from(Q.getWalker({ignoreElementEnd:!1})).reduce((Be,{item:Ge})=>Ge.is("$text")||Ge.is("$textProxy")?Be+Ge.data:(we=de.createPositionAfter(Ge),""),""),range:de.createRange(we,Q.end)}}class U extends(0,L.Re)(){constructor(de,we){super(),this.model=de,this.testCallback=we,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(de.document.selection),this.stopListening(de.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const de=this.model.document;this.listenTo(de.selection,"change:range",(we,{directChange:Be})=>{Be&&(de.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(de,"change:data",(we,Be)=>{!Be.isUndo&&Be.isLocal&&this._evaluateTextBeforeSelection("data",{batch:Be})})}_evaluateTextBeforeSelection(de,we={}){const Be=this.model,Ge=Be.document.selection,Fe=Be.createRange(Be.createPositionAt(Ge.focus.parent,0),Ge.focus),{text:Ve,range:ut}=ne(Fe,Be),St=this.testCallback(Ve);if(!St&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!St,St){const Lt=Object.assign(we,{text:Ve,range:ut});typeof St=="object"&&Object.assign(Lt,St),this.fire(`matched:${de}`,Lt)}}}class D extends c.Sy{constructor(de){super(de),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const de=this.editor,we=de.model,Be=de.editing.view,Ge=de.locale,Fe=we.document.selection;this.listenTo(Be.document,"arrowKey",(Ve,ut)=>{if(!Fe.isCollapsed||ut.shiftKey||ut.altKey||ut.ctrlKey)return;const St=ut.keyCode==L.Do.arrowright,Lt=ut.keyCode==L.Do.arrowleft;if(!St&&!Lt)return;const Qt=Ge.contentLanguageDirection;let yt=!1;yt=Qt==="ltr"&&St||Qt==="rtl"&&Lt?this._handleForwardMovement(ut):this._handleBackwardMovement(ut),yt===!0&&Ve.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(Fe,"change:range",(Ve,ut)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!ut.directChange&&N(Fe.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(de){this.attributes.add(de)}_handleForwardMovement(de){const we=this.attributes,Be=this.editor.model.document.selection,Ge=Be.getFirstPosition();return!this._isGravityOverridden&&(!Ge.isAtStart||!f(Be,we))&&!!N(Ge,we)&&(W(de),this._overrideGravity(),!0)}_handleBackwardMovement(de){const we=this.attributes,Be=this.editor.model,Ge=Be.document.selection,Fe=Ge.getFirstPosition();return this._isGravityOverridden?(W(de),this._restoreGravity(),R(Be,we,Fe),!0):Fe.isAtStart?!!f(Ge,we)&&(W(de),R(Be,we,Fe),!0):!!function(Ve,ut){const St=Ve.getShiftedBy(-1);return N(St,ut)}(Fe,we)&&(Fe.isAtEnd&&!f(Ge,we)&&N(Fe,we)?(W(de),R(Be,we,Fe),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(de=>de.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(de=>{de.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function f(Q,de){for(const we of de)if(Q.hasAttribute(we))return!0;return!1}function R(Q,de,we){const Be=we.nodeBefore;Q.change(Ge=>{if(Be){const Fe=[],Ve=Q.schema.isObject(Be)&&Q.schema.isInline(Be);for(const[ut,St]of Be.getAttributes())!Q.schema.checkAttribute("$text",ut)||Ve&&Q.schema.getAttributeProperties(ut).copyFromObject===!1||Fe.push([ut,St]);Ge.setSelectionAttribute(Fe)}else Ge.removeSelectionAttribute(de)})}function W(Q){Q.preventDefault()}function N(Q,de){const{nodeBefore:we,nodeAfter:Be}=Q;for(const Ge of de){const Fe=we?we.getAttribute(Ge):void 0;if((Be?Be.getAttribute(Ge):void 0)!==Fe)return!0}return!1}var oe=l("./node_modules/lodash-es/toString.js"),Te=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Te.source);const xe=function(Q){return(Q=(0,oe.Z)(Q))&&Oe.test(Q)?Q.replace(Te,"\\$&"):Q},Re={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Ze('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Ze("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Ze("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Ze('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Ze('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Ze("'"),to:[null,"\u201A",null,"\u2019"]}},lt={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},rt=["symbols","mathematical","typography","quotes"];class ct extends c.Sy{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(de){super(de),de.config.define("typing",{transformations:{include:rt}})}init(){const de=this.editor.model.document.selection;de.on("change:range",()=>{this.isEnabled=!de.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const de=this.editor,we=de.model,Be=de.plugins.get("Delete"),Ge=function(Ve){const ut=Ve.extra||[],St=Ve.remove||[],Lt=Qt=>!St.includes(Qt);return function(Qt){const yt=new Set;for(const Tt of Qt)if(typeof Tt=="string"&&lt[Tt])for(const mi of lt[Tt])yt.add(mi);else yt.add(Tt);return Array.from(yt)}(Ve.include.concat(ut).filter(Lt)).filter(Lt).map(Qt=>typeof Qt=="string"&&Re[Qt]?Re[Qt]:Qt).filter(Qt=>typeof Qt=="object").map(Qt=>({from:st(Qt.from),to:kt(Qt.to)}))}(de.config.get("typing.transformations")),Fe=new U(de.model,Ve=>{for(const ut of Ge)if(ut.from.test(Ve))return{normalizedTransformation:ut}});Fe.on("matched:data",(Ve,ut)=>{if(!ut.batch.isTyping)return;const{from:St,to:Lt}=ut.normalizedTransformation,Qt=St.exec(ut.text),yt=Lt(Qt.slice(1)),Tt=ut.range;let mi=Qt.index;we.enqueueChange(pi=>{for(let Li=1;Li<Qt.length;Li++){const Ei=Qt[Li],Ni=yt[Li-1];if(Ni==null){mi+=Ei.length;continue}const xi=Tt.start.getShiftedBy(mi),Bi=we.createRange(xi,xi.getShiftedBy(Ei.length)),nt=pt(xi);we.insertContent(pi.createText(Ni,nt),Bi),mi+=Ni.length}we.enqueueChange(()=>{Be.requestUndoOnBackspace()})})}),Fe.bind("isEnabled").to(this)}}function st(Q){return typeof Q=="string"?new RegExp(`(${xe(Q)})$`):Q}function kt(Q){return typeof Q=="string"?()=>[Q]:Q instanceof Array?()=>Q:Q}function pt(Q){return(Q.textNode?Q.textNode:Q.nodeAfter).getAttributes()}function Ze(Q){return new RegExp(`(^|\\s)(${Q})([^${Q}]*)(${Q})$`)}function mt(Q,de,we,Be){return Be.createRange(qe(Q,de,we,!0,Be),qe(Q,de,we,!1,Be))}function qe(Q,de,we,Be,Ge){let Fe=Q.textNode||(Be?Q.nodeBefore:Q.nodeAfter),Ve=null;for(;Fe&&Fe.getAttribute(de)==we;)Ve=Fe,Fe=Be?Fe.previousSibling:Fe.nextSibling;return Ve?Ge.createPositionAt(Ve,Be?"before":"after"):Q}function et(Q,de,we,Be){const Ge=Q.editing.view,Fe=new Set;Ge.document.registerPostFixer(Ve=>{const ut=Q.model.document.selection;let St=!1;if(ut.hasAttribute(de)){const Lt=mt(ut.getFirstPosition(),de,ut.getAttribute(de),Q.model),Qt=Q.editing.mapper.toViewRange(Lt);for(const yt of Qt.getItems())yt.is("element",we)&&!yt.hasClass(Be)&&(Ve.addClass(Be,yt),Fe.add(yt),St=!0)}return St}),Q.conversion.for("editingDowncast").add(Ve=>{function ut(){Ge.change(St=>{for(const Lt of Fe.values())St.removeClass(Be,Lt),Fe.delete(Lt)})}Ve.on("insert",ut,{priority:"highest"}),Ve.on("remove",ut,{priority:"highest"}),Ve.on("attribute",ut,{priority:"highest"}),Ve.on("selection",ut,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/index.ts":(v,A,l)=>{"use strict";function c({emitter:G,activator:a,callback:T,contextElements:X}){G.listenTo(document,"mousedown",(be,je)=>{if(!a())return;const Xe=typeof je.composedPath=="function"?je.composedPath():[],at=typeof X=="function"?X():X;for(const Rt of at)if(Rt.contains(je.target)||Xe.includes(Rt))return;T()})}function L(G){const a=G;a.set("_isCssTransitionsDisabled",!1),a.disableCssTransitions=()=>{a._isCssTransitionsDisabled=!0},a.enableCssTransitions=()=>{a._isCssTransitionsDisabled=!1},a.extendTemplate({attributes:{class:[a.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function z(G){return class extends G{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...a){super(...a),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function y({view:G}){G.listenTo(G.element,"submit",(a,T)=>{T.preventDefault(),G.fire("submit")},{useCapture:!0})}function h({keystrokeHandler:G,focusTracker:a,gridItems:T,numberOfColumns:X,uiLanguageDirection:be}){const je=typeof X=="number"?()=>X:X;function Xe(vi){return Ji=>{const vn=T.find(Dr=>Dr.element===a.focusedElement),Er=T.getIndex(vn),Br=vi(Er,T);T.get(Br).focus(),Ji.stopPropagation(),Ji.preventDefault()}}function at(vi,Ji){return vi===Ji-1?0:vi+1}function Rt(vi,Ji){return vi===0?Ji-1:vi-1}G.set("arrowright",Xe((vi,Ji)=>be==="rtl"?Rt(vi,Ji.length):at(vi,Ji.length))),G.set("arrowleft",Xe((vi,Ji)=>be==="rtl"?at(vi,Ji.length):Rt(vi,Ji.length))),G.set("arrowup",Xe((vi,Ji)=>{let vn=vi-je();return vn<0&&(vn=vi+je()*Math.floor(Ji.length/je()),vn>Ji.length-1&&(vn-=je())),vn})),G.set("arrowdown",Xe((vi,Ji)=>{let vn=vi+je();return vn>Ji.length-1&&(vn=vi%je()),vn}))}l.d(A,{no:()=>Tn,Jf:()=>No,ee:()=>Tr,BK:()=>pt,py:()=>Eo,r5:()=>we,J6:()=>Tt,J2:()=>Se,MI:()=>Kn,_9:()=>Lt,_Y:()=>yo,WB:()=>uo,RX:()=>z,J0:()=>Ui,G2:()=>ei,_n:()=>Ri,S8:()=>Yo,fF:()=>Ao,I0:()=>ji,Gp:()=>jt,mO:()=>et,VY:()=>Si,r1:()=>ke,Xs:()=>ni,pq:()=>Kt,Em:()=>xt,Dn:()=>_e,KP:()=>tt,dn:()=>Ye,Bv:()=>Ae,Hn:()=>$i,P_:()=>zi,Rm:()=>Xt,lp:()=>kn,BM:()=>Fe,YS:()=>w,qR:()=>ee,$y:()=>B,jB:()=>fi,gE:()=>wo,G7:()=>d,vX:()=>$,IJ:()=>h,Pm:()=>xn,up:()=>cn,eC:()=>c,t9:()=>Mi,FH:()=>Ee,sh:()=>te,R:()=>It,Mh:()=>ln,k6:()=>Ve,ci:()=>Ar,fe:()=>L,S1:()=>ut,jY:()=>St,iw:()=>se,GI:()=>y});var V=l("./packages/ckeditor5-utils/src/index.ts");class $ extends V.FE{constructor(a=[]){super(a,{idProperty:"viewUid"}),this.on("add",(T,X,be)=>{this._renderViewIntoCollectionParent(X,be)}),this.on("remove",(T,X)=>{X.element&&this._parentElement&&X.element.remove()}),this._parentElement=null}destroy(){this.map(a=>a.destroy())}setParent(a){this._parentElement=a;for(const T of this)this._renderViewIntoCollectionParent(T)}delegate(...a){if(!a.length||!a.every(T=>typeof T=="string"))throw new V.Bb("ui-viewcollection-delegate-wrong-events",this);return{to:T=>{for(const X of this)for(const be of a)X.delegate(be).to(T);this.on("add",(X,be)=>{for(const je of a)be.delegate(je).to(T)}),this.on("remove",(X,be)=>{for(const je of a)be.stopDelegating(je,T)})}}}_renderViewIntoCollectionParent(a,T){a.isRendered||a.render(),a.element&&this._parentElement&&this._parentElement.insertBefore(a.element,this._parentElement.children[T])}remove(a){return super.remove(a)}}var J=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Y=l.n(J),le=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(le.Z,q),le.Z.locals;class d extends(0,V.Xu)((0,V.Re)()){constructor(a){super(),this.element=null,this.isRendered=!1,this.locale=a,this.t=a&&a.t,this._viewCollections=new V.FE,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(T,X)=>{X.locale=a,X.t=a&&a.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=w.bind(this,this)}createCollection(a){const T=new $(a);return this._viewCollections.add(T),T}registerChild(a){(0,V.TW)(a)||(a=[a]);for(const T of a)this._unboundChildren.add(T)}deregisterChild(a){(0,V.TW)(a)||(a=[a]);for(const T of a)this._unboundChildren.remove(T)}setTemplate(a){this.template=new w(a)}extendTemplate(a){w.extend(this.template,a)}render(){if(this.isRendered)throw new V.Bb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(a=>a.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var b=l("./node_modules/lodash-es/cloneDeepWith.js"),_=l("./node_modules/lodash-es/isObject.js");class w extends(0,V.ln)(){constructor(a){super(),Object.assign(this,N(W(a))),this._isRendered=!1,this._revertData=null}render(){const a=this._renderNode({intoFragment:!0});return this._isRendered=!0,a}apply(a){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:a,intoFragment:!1,isApplying:!0,revertData:this._revertData}),a}revert(a){if(!this._revertData)throw new V.Bb("ui-template-revert-not-applied",[this,a]);this._revertTemplateFromNode(a,this._revertData)}*getViews(){yield*function*a(T){if(T.children)for(const X of T.children)lt(X)?yield X:rt(X)&&(yield*a(X))}(this)}static bind(a,T){return{to:(X,be)=>new C({eventNameOrFunction:X,attribute:X,observable:a,emitter:T,callback:be}),if:(X,be,je)=>new S({observable:a,emitter:T,attribute:X,valueIfTrue:be,callback:je})}}static extend(a,T){if(a._isRendered)throw new V.Bb("template-extend-render",[this,a]);xe(a,N(W(T)))}_renderNode(a){let T;if(T=a.node?this.tag&&this.text:this.tag?this.text:!this.text,T)throw new V.Bb("ui-template-wrong-syntax",this);return this.text?this._renderText(a):this._renderElement(a)}_renderElement(a){let T=a.node;return T||(T=a.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(a),this._renderElementChildren(a),this._setUpListeners(a),T}_renderText(a){let T=a.node;return T?a.revertData.text=T.textContent:T=a.node=document.createTextNode(""),ne(this.text)?this._bindToObservable({schema:this.text,updater:D(T),data:a}):T.textContent=this.text.join(""),T}_renderAttributes(a){if(!this.attributes)return;const T=a.node,X=a.revertData;for(const be in this.attributes){const je=T.getAttribute(be),Xe=this.attributes[be];X&&(X.attributes[be]=je);const at=st(Xe)?Xe[0].ns:null;if(ne(Xe)){const Rt=st(Xe)?Xe[0].value:Xe;X&&kt(be)&&Rt.unshift(je),this._bindToObservable({schema:Rt,updater:f(T,be,at),data:a})}else if(be=="style"&&typeof Xe[0]!="string")this._renderStyleAttribute(Xe[0],a);else{X&&je&&kt(be)&&Xe.unshift(je);const Rt=Xe.map(vi=>vi&&vi.value||vi).reduce((vi,Ji)=>vi.concat(Ji),[]).reduce(Te,"");Re(Rt)||T.setAttributeNS(at,be,Rt)}}}_renderStyleAttribute(a,T){const X=T.node;for(const be in a){const je=a[be];ne(je)?this._bindToObservable({schema:[je],updater:R(X,be),data:T}):X.style[be]=je}}_renderElementChildren(a){const T=a.node,X=a.intoFragment?document.createDocumentFragment():T,be=a.isApplying;let je=0;for(const Xe of this.children)if(ct(Xe)){if(!be){Xe.setParent(T);for(const at of Xe)X.appendChild(at.element)}}else if(lt(Xe))be||(Xe.isRendered||Xe.render(),X.appendChild(Xe.element));else if((0,V.UG)(Xe))X.appendChild(Xe);else if(be){const at={children:[],bindings:[],attributes:{}};a.revertData.children.push(at),Xe._renderNode({intoFragment:!1,node:X.childNodes[je++],isApplying:!0,revertData:at})}else X.appendChild(Xe.render());a.intoFragment&&T.appendChild(X)}_setUpListeners(a){if(this.eventListeners)for(const T in this.eventListeners){const X=this.eventListeners[T].map(be=>{const[je,Xe]=T.split("@");return be.activateDomEventListener(je,Xe,a)});a.revertData&&a.revertData.bindings.push(X)}}_bindToObservable({schema:a,updater:T,data:X}){const be=X.revertData;U(a,T,X);const je=a.filter(Xe=>!Re(Xe)).filter(Xe=>Xe.observable).map(Xe=>Xe.activateAttributeListener(a,T,X));be&&be.bindings.push(je)}_revertTemplateFromNode(a,T){for(const be of T.bindings)for(const je of be)je();if(T.text)return void(a.textContent=T.text);const X=a;for(const be in T.attributes){const je=T.attributes[be];je===null?X.removeAttribute(be):X.setAttribute(be,je)}for(let be=0;be<T.children.length;++be)this._revertTemplateFromNode(X.childNodes[be],T.children[be])}}class E{constructor(a){this.attribute=a.attribute,this.observable=a.observable,this.emitter=a.emitter,this.callback=a.callback}getValue(a){const T=this.observable[this.attribute];return this.callback?this.callback(T,a):T}activateAttributeListener(a,T,X){const be=()=>U(a,T,X);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,be),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,be)}}}class C extends E{constructor(a){super(a),this.eventNameOrFunction=a.eventNameOrFunction}activateDomEventListener(a,T,X){const be=(je,Xe)=>{T&&!Xe.target.matches(T)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(Xe):this.observable.fire(this.eventNameOrFunction,Xe))};return this.emitter.listenTo(X.node,a,be),()=>{this.emitter.stopListening(X.node,a,be)}}}class S extends E{constructor(a){super(a),this.valueIfTrue=a.valueIfTrue}getValue(a){return!Re(super.getValue(a))&&(this.valueIfTrue||!0)}}function ne(G){return!!G&&(G.value&&(G=G.value),Array.isArray(G)?G.some(ne):G instanceof E)}function U(G,a,{node:T}){const X=function(je,Xe){return je.map(at=>at instanceof E?at.getValue(Xe):at)}(G,T);let be;be=G.length==1&&G[0]instanceof S?X[0]:X.reduce(Te,""),Re(be)?a.remove():a.set(be)}function D(G){return{set(a){G.textContent=a},remove(){G.textContent=""}}}function f(G,a,T){return{set(X){G.setAttributeNS(T,a,X)},remove(){G.removeAttributeNS(T,a)}}}function R(G,a){return{set(T){G.style[a]=T},remove(){G.style[a]=null}}}function W(G){return(0,b.Z)(G,a=>{if(a&&(a instanceof E||rt(a)||lt(a)||ct(a)))return a})}function N(G){if(typeof G=="string"?G=function(a){return{text:[a]}}(G):G.text&&function(a){a.text=(0,V.qo)(a.text)}(G),G.on&&(G.eventListeners=function(a){for(const T in a)oe(a,T);return a}(G.on),delete G.on),!G.text){G.attributes&&function(T){for(const X in T)T[X].value&&(T[X].value=(0,V.qo)(T[X].value)),oe(T,X)}(G.attributes);const a=[];if(G.children)if(ct(G.children))a.push(G.children);else for(const T of G.children)rt(T)||lt(T)||(0,V.UG)(T)?a.push(T):a.push(new w(T));G.children=a}return G}function oe(G,a){G[a]=(0,V.qo)(G[a])}function Te(G,a){return Re(a)?G:Re(G)?a:`${G} ${a}`}function Oe(G,a){for(const T in a)G[T]?G[T].push(...a[T]):G[T]=a[T]}function xe(G,a){if(a.attributes&&(G.attributes||(G.attributes={}),Oe(G.attributes,a.attributes)),a.eventListeners&&(G.eventListeners||(G.eventListeners={}),Oe(G.eventListeners,a.eventListeners)),a.text&&G.text.push(...a.text),a.children&&a.children.length){if(G.children.length!=a.children.length)throw new V.Bb("ui-template-extend-children-mismatch",G);let T=0;for(const X of a.children)xe(G.children[T++],X)}}function Re(G){return!G&&G!==0}function lt(G){return G instanceof d}function rt(G){return G instanceof w}function ct(G){return G instanceof $}function st(G){return(0,_.Z)(G[0])&&G[0].ns}function kt(G){return G=="class"||G=="style"}class pt extends ${constructor(a,T=[]){super(T),this.locale=a}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new w({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let a=document.querySelector(".ck-body-wrapper");a||(a=(0,V.az)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(a)),a.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const a=document.querySelector(".ck-body-wrapper");a&&a.childElementCount==0&&a.remove()}}var Ze=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Ze.Z,mt),Ze.Z.locals;const qe=class extends d{constructor(){super();const G=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",G.if("isColorInherited","ck-icon_inherit-color")],viewBox:G.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const G=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),a=G.getAttribute("viewBox");a&&(this.viewBox=a);for(const{name:T,value:X}of Array.from(G.attributes))qe.presentationalAttributeNames.includes(T)&&this.element.setAttribute(T,X);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;G.childNodes.length>0;)this.element.appendChild(G.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(G=>{G.style.fill=this.fillColor})}};let et=qe;et.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Q=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),de={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Q.Z,de),Q.Z.locals;class we extends d{constructor(a){super(a),this._focusDelayed=null;const T=this.bindTemplate,X=(0,V.hQ)();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${X}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new et,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const be={tag:"button",attributes:{class:["ck","ck-button",T.to("class"),T.if("isEnabled","ck-disabled",je=>!je),T.if("isVisible","ck-hidden",je=>!je),T.to("isOn",je=>je?"ck-on":"ck-off"),T.if("withText","ck-button_with-text"),T.if("withKeystroke","ck-button_with-keystroke")],role:T.to("role"),type:T.to("type",je=>je||"button"),tabindex:T.to("tabindex"),"aria-label":T.to("ariaLabel"),"aria-labelledby":T.to("ariaLabelledBy"),"aria-disabled":T.if("isEnabled",!0,je=>!je),"aria-checked":T.to("isOn"),"aria-pressed":T.to("isOn",je=>!!this.isToggleable&&String(!!je)),"data-cke-tooltip-text":T.to("_tooltipString"),"data-cke-tooltip-position":T.to("tooltipPosition")},children:this.children,on:{click:T.to(je=>{this.isEnabled?this.fire("execute"):je.preventDefault()})}};V.OB.isSafari&&(this._focusDelayed||(this._focusDelayed=(0,V.gw)(()=>this.focus(),0)),be.on.mousedown=T.to(()=>{this._focusDelayed()}),be.on.mouseup=T.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(be)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const a=new d,T=this.bindTemplate;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:T.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:T.to("label")}]}),a}_createKeystrokeView(){const a=new d;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",T=>(0,V.XU)(T))}]}),a}_getTooltipString(a,T,X){return a?typeof a=="string"?a:(X&&(X=(0,V.XU)(X)),a instanceof Function?a(T,X):`${T}${X?` (${X})`:""}`):""}}var Be=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),Ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Be.Z,Ge),Be.Z.locals;class Fe extends we{constructor(a){super(a),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const a=new d;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),a}}function Ve(G,a){const T=G.t,X={Black:T("Black"),"Dim grey":T("Dim grey"),Grey:T("Grey"),"Light grey":T("Light grey"),White:T("White"),Red:T("Red"),Orange:T("Orange"),Yellow:T("Yellow"),"Light green":T("Light green"),Green:T("Green"),Aquamarine:T("Aquamarine"),Turquoise:T("Turquoise"),"Light blue":T("Light blue"),Blue:T("Blue"),Purple:T("Purple")};return a.map(be=>{const je=X[be.label];return je&&je!=be.label&&(be.label=je),be})}function ut(G){return G.map(St).filter(a=>!!a)}function St(G){return typeof G=="string"?{model:G,label:G,hasBorder:!1,view:{name:"span",styles:{color:G}}}:{model:G.color,label:G.label||G.color,hasBorder:G.hasBorder!==void 0&&G.hasBorder,view:{name:"span",styles:{color:`${G.color}`}}}}class Lt extends we{constructor(a){super(a);const T=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:T.to("color")},class:["ck","ck-color-grid__tile",T.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Qt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),yt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Qt.Z,yt),Qt.Z.locals;class Tt extends d{constructor(a,T){super(a);const X=T&&T.colorDefinitions?T.colorDefinitions:[];this.columns=T&&T.columns?T.columns:5;const be={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this.items.on("add",(je,Xe)=>{Xe.isOn=Xe.color===this.selectedColor}),X.forEach(je=>{const Xe=new Lt;Xe.set({color:je.color,label:je.label,tooltip:!0,hasBorder:je.options.hasBorder}),Xe.on("execute",()=>{this.fire("execute",{value:je.color,hasBorder:je.options.hasBorder,label:je.label})}),this.items.add(Xe)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:be}}),this.on("change:selectedColor",(je,Xe,at)=>{for(const Rt of this.items)Rt.isOn=Rt.color===at})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const a of this.items)this.focusTracker.add(a.element);this.items.on("add",(a,T)=>{this.focusTracker.add(T.element)}),this.items.on("remove",(a,T)=>{this.focusTracker.remove(T.element)}),this.keystrokes.listenTo(this.element),h({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var mi=l("./node_modules/color-name/index.js");const pi=function(G){var a,T,X=[],be=1;if(typeof G=="string")if(mi[G])X=mi[G].slice(),T="rgb";else if(G==="transparent")be=0,T="rgb",X=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(G)){var je=G.slice(1);be=1,(Rt=je.length)<=4?(X=[parseInt(je[0]+je[0],16),parseInt(je[1]+je[1],16),parseInt(je[2]+je[2],16)],Rt===4&&(be=parseInt(je[3]+je[3],16)/255)):(X=[parseInt(je[0]+je[1],16),parseInt(je[2]+je[3],16),parseInt(je[4]+je[5],16)],Rt===8&&(be=parseInt(je[6]+je[7],16)/255)),X[0]||(X[0]=0),X[1]||(X[1]=0),X[2]||(X[2]=0),T="rgb"}else if(a=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(G)){var Xe=a[1],at=Xe==="rgb";T=je=Xe.replace(/a$/,"");var Rt=je==="cmyk"?4:je==="gray"?1:3;X=a[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(vi,Ji){if(/%$/.test(vi))return Ji===Rt?parseFloat(vi)/100:je==="rgb"?255*parseFloat(vi)/100:parseFloat(vi);if(je[Ji]==="h"){if(/deg$/.test(vi))return parseFloat(vi);if(Li[vi]!==void 0)return Li[vi]}return parseFloat(vi)}),Xe===je&&X.push(1),be=at||X[Rt]===void 0?1:X[Rt],X=X.slice(0,Rt)}else G.length>10&&/[0-9](?:\s|\/)/.test(G)&&(X=G.match(/([0-9]+)/g).map(function(vi){return parseFloat(vi)}),T=G.match(/([a-z])/gi).join("").toLowerCase());else isNaN(G)?Array.isArray(G)||G.length?(X=[G[0],G[1],G[2]],T="rgb",be=G.length===4?G[3]:1):G instanceof Object&&(G.r!=null||G.red!=null||G.R!=null?(T="rgb",X=[G.r||G.red||G.R||0,G.g||G.green||G.G||0,G.b||G.blue||G.B||0]):(T="hsl",X=[G.h||G.hue||G.H||0,G.s||G.saturation||G.S||0,G.l||G.lightness||G.L||G.b||G.brightness]),be=G.a||G.alpha||G.opacity||1,G.opacity!=null&&(be/=100)):(T="rgb",X=[G>>>16,(65280&G)>>>8,255&G]);return{space:T,values:X,alpha:be}};var Li={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},Ei=l("./node_modules/color-convert/index.js");function Ni(G,a){if(!G)return"";const T=xi(G);if(!T)return"";if(T.space===a)return G;if(X=T,!Object.keys(Ei).includes(X.space))return"";var X;const be=Ei[T.space][a];return be?function(je,Xe){switch(Xe){case"hex":return`#${je}`;case"rgb":return`rgb( ${je[0]}, ${je[1]}, ${je[2]} )`;case"hsl":return`hsl( ${je[0]}, ${je[1]}%, ${je[2]}% )`;case"hwb":return`hwb( ${je[0]}, ${je[1]}, ${je[2]} )`;case"lab":return`lab( ${je[0]}% ${je[1]} ${je[2]} )`;case"lch":return`lch( ${je[0]}% ${je[1]} ${je[2]} )`;default:return""}}(be(T.space==="hex"?T.hexValue:T.values),a):""}function xi(G){if(G.startsWith("#")){const T=pi(G);return{space:"hex",values:T.values,hexValue:G,alpha:T.alpha}}const a=pi(G);return a.space?a:null}var Bi=l("./node_modules/lodash-es/debounce.js"),nt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),ue={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(nt.Z,ue),nt.Z.locals;class _e extends d{constructor(a){super(a),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,V.hQ)()}`;const T=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:T.to("for")},children:[{text:T.to("text")}]})}}var Ie=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),We={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Ie.Z,We),Ie.Z.locals;class tt extends d{constructor(a,T){super(a);const X=`ck-labeled-field-view-${(0,V.hQ)()}`,be=`ck-labeled-field-view-status-${(0,V.hQ)()}`;this.fieldView=T(this,X,be),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(X),this.statusView=this._createStatusView(be),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(Xe,at)=>Xe||at);const je=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",je.to("class"),je.if("isEnabled","ck-disabled",Xe=>!Xe),je.if("isEmpty","ck-labeled-field-view_empty"),je.if("isFocused","ck-labeled-field-view_focused"),je.if("placeholder","ck-labeled-field-view_placeholder"),je.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(a){const T=new _e(this.locale);return T.for=a,T.bind("text").to(this,"label"),T}_createStatusView(a){const T=new d(this.locale),X=this.bindTemplate;return T.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",X.if("errorText","ck-labeled-field-view__status_error"),X.if("_statusText","ck-hidden",be=>!be)],id:a,role:X.if("errorText","alert")},children:[{text:X.to("_statusText")}]}),T}focus(){this.fieldView.focus()}}var bt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),At={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(bt.Z,At),bt.Z.locals;class xt extends d{constructor(a){super(a),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new V.Rh,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const T=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",T.if("isFocused","ck-input_focused"),T.if("isEmpty","ck-input-text_empty"),T.if("hasError","ck-error")],id:T.to("id"),placeholder:T.to("placeholder"),readonly:T.to("isReadOnly"),inputmode:T.to("inputMode"),"aria-invalid":T.if("hasError",!0),"aria-describedby":T.to("ariaDescribedById")},on:{input:T.to((...X)=>{this.fire("input",...X),this._updateIsEmpty()}),change:T.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(a,T,X)=>{this._setDomElementValue(X),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(a){this.element.value=a||a===0?a:""}}class Kt extends xt{constructor(a){super(a),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class ni extends xt{constructor(a,{min:T,max:X,step:be}={}){super(a);const je=this.bindTemplate;this.set("min",T),this.set("max",X),this.set("step",be),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:je.to("min"),max:je.to("max"),step:je.to("step")}})}}class ei extends d{constructor(a){super(a);const T=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",T.to("position",X=>`ck-dropdown__panel_${X}`),T.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:T.to(X=>{X.target.tagName.toLocaleLowerCase()!=="input"&&X.preventDefault()})}})}focus(){if(this.children.length){const a=this.children.first;typeof a.focus=="function"?a.focus():(0,V.KE)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const a=this.children.last;typeof a.focusLast=="function"?a.focusLast():a.focus()}}}var li=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),Ci={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(li.Z,Ci),li.Z.locals;const yi=class extends d{constructor(G,a,T){super(G);const X=this.bindTemplate;this.buttonView=a,this.panelView=T,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new V.VD,this.focusTracker=new V.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",X.to("class"),X.if("isEnabled","ck-disabled",be=>!be)],id:X.to("id"),"aria-describedby":X.to("ariaDescribedById")},children:[a,T]}),a.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":X.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(a,T,X)=>{X&&(this.panelPosition==="auto"?this.panelView.position=yi._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const G=(a,T)=>{this.isOpen&&(this.isOpen=!1,T())};this.keystrokes.set("arrowdown",(a,T)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,T())}),this.keystrokes.set("arrowright",(a,T)=>{this.isOpen&&T()}),this.keystrokes.set("arrowleft",G),this.keystrokes.set("esc",G)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:G,north:a,southEast:T,southWest:X,northEast:be,northWest:je,southMiddleEast:Xe,southMiddleWest:at,northMiddleEast:Rt,northMiddleWest:vi}=yi.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[T,X,Xe,at,G,be,je,Rt,vi,a]:[X,T,at,Xe,G,je,be,vi,Rt,a]}};let Ri=yi;Ri.defaultPanelPositions={south:(G,a)=>({top:G.bottom,left:G.left-(a.width-G.width)/2,name:"s"}),southEast:G=>({top:G.bottom,left:G.left,name:"se"}),southWest:(G,a)=>({top:G.bottom,left:G.left-a.width+G.width,name:"sw"}),southMiddleEast:(G,a)=>({top:G.bottom,left:G.left-(a.width-G.width)/4,name:"sme"}),southMiddleWest:(G,a)=>({top:G.bottom,left:G.left-3*(a.width-G.width)/4,name:"smw"}),north:(G,a)=>({top:G.top-a.height,left:G.left-(a.width-G.width)/2,name:"n"}),northEast:(G,a)=>({top:G.top-a.height,left:G.left,name:"ne"}),northWest:(G,a)=>({top:G.top-a.height,left:G.left-a.width+G.width,name:"nw"}),northMiddleEast:(G,a)=>({top:G.top-a.height,left:G.left-(a.width-G.width)/4,name:"nme"}),northMiddleWest:(G,a)=>({top:G.top-a.height,left:G.left-3*(a.width-G.width)/4,name:"nmw"})},Ri._getOptimalPosition=V.xZ;const qi='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Ui extends we{constructor(a){super(a),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",T=>String(T))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const a=new et;return a.content=qi,a.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),a}}class ji{constructor(a){if(this.focusables=a.focusables,this.focusTracker=a.focusTracker,this.keystrokeHandler=a.keystrokeHandler,this.actions=a.actions,a.actions&&a.keystrokeHandler)for(const T in a.actions){let X=a.actions[T];typeof X=="string"&&(X=[X]);for(const be of X)a.keystrokeHandler.set(be,(je,Xe)=>{this[T](),Xe()})}}get first(){return this.focusables.find(he)||null}get last(){return this.focusables.filter(he).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let a=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((T,X)=>{const be=T.element===this.focusTracker.focusedElement;return be&&(a=X),be}),a)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(a){a&&a.focus()}_getFocusableItem(a){const T=this.current,X=this.focusables.length;if(!X)return null;if(T===null)return this[a===1?"first":"last"];let be=(T+X+a)%X;do{const je=this.focusables.get(be);if(he(je))return je;be=(be+X+a)%X}while(be!==T);return null}}function he(G){return!(!G.focus||!(0,V.pn)(G.element))}class B extends d{constructor(a){super(a),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class ee extends d{constructor(a){super(a),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function se(G){return Array.isArray(G)?{items:G,removeItems:[]}:G?Object.assign({items:[],removeItems:[]},G):{items:[],removeItems:[]}}var Pe=l("./packages/ckeditor5-core/src/index.ts"),Ct=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),Ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Ct.Z,Ht),Ct.Z.locals;const{threeVerticalDots:wt}=Pe.icons,zt={alignLeft:Pe.icons.alignLeft,bold:Pe.icons.bold,importExport:Pe.icons.importExport,paragraph:Pe.icons.paragraph,plus:Pe.icons.plus,text:Pe.icons.text,threeVerticalDots:Pe.icons.threeVerticalDots};class fi extends d{constructor(a,T){super(a);const X=this.bindTemplate,be=this.t;this.options=T||{},this.set("ariaLabel",be("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new gi(a),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const je=a.uiLanguageDirection==="rtl";this._focusCycler=new ji({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[je?"arrowright":"arrowleft","arrowup"],focusNext:[je?"arrowleft":"arrowright","arrowdown"]}});const Xe=["ck","ck-toolbar",X.to("class"),X.if("isCompact","ck-toolbar_compact")];var at;this.options.shouldGroupWhenFull&&this.options.isFloating&&Xe.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:Xe,role:"toolbar","aria-label":X.to("ariaLabel"),style:{maxWidth:X.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(at=this,at.bindTemplate.to(Rt=>{Rt.target===at.element&&Rt.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Ti(this):new Oi(this)}render(){super.render(),this.focusTracker.add(this.element);for(const a of this.items)this.focusTracker.add(a.element);this.items.on("add",(a,T)=>{this.focusTracker.add(T.element)}),this.items.on("remove",(a,T)=>{this.focusTracker.remove(T.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(a,T,X){this.items.addMany(this._buildItemsFromConfig(a,T,X))}_buildItemsFromConfig(a,T,X){const be=se(a),je=X||be.removeItems;return this._cleanItemsConfiguration(be.items,T,je).map(Xe=>(0,_.Z)(Xe)?this._createNestedToolbarDropdown(Xe,T,je):Xe==="|"?new B:Xe==="-"?new ee:T.create(Xe)).filter(Xe=>!!Xe)}_cleanItemsConfiguration(a,T,X){const be=a.filter((je,Xe,at)=>je==="|"||X.indexOf(je)===-1&&(je==="-"?!this.options.shouldGroupWhenFull||((0,V.KE)("toolbarview-line-break-ignored-when-grouping-items",at),!1):!(!(0,_.Z)(je)&&!T.has(je))||((0,V.KE)("toolbarview-item-unavailable",{item:je}),!1)));return this._cleanSeparatorsAndLineBreaks(be)}_cleanSeparatorsAndLineBreaks(a){const T=Xe=>Xe!=="-"&&Xe!=="|",X=a.length,be=a.findIndex(T);if(be===-1)return[];const je=X-a.slice().reverse().findIndex(T);return a.slice(be,je).filter((Xe,at,Rt)=>T(Xe)?!0:!(at>0&&Rt[at-1]===Xe))}_createNestedToolbarDropdown(a,T,X){let{label:be,icon:je,items:Xe,tooltip:at=!0,withText:Rt=!1}=a;if(Xe=this._cleanItemsConfiguration(Xe,T,X),!Xe.length)return null;const vi=Mi(this.locale);return be||(0,V.KE)("toolbarview-nested-toolbar-dropdown-missing-label",a),vi.class="ck-toolbar__nested-toolbar-dropdown",vi.buttonView.set({label:be,tooltip:at,withText:!!Rt}),je!==!1?vi.buttonView.icon=zt[je]||je||wt:vi.buttonView.withText=!0,cn(vi,()=>vi.toolbarView._buildItemsFromConfig(Xe,T,X)),vi}}class gi extends d{constructor(a){super(a),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Oi{constructor(a){const T=a.bindTemplate;a.set("isVertical",!1),a.itemsView.children.bindTo(a.items).using(X=>X),a.focusables.bindTo(a.items).using(X=>X),a.extendTemplate({attributes:{class:[T.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ti{constructor(a){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=a,this.viewChildren=a.children,this.viewFocusables=a.focusables,this.viewItemsView=a.itemsView,this.viewFocusTracker=a.focusTracker,this.viewLocale=a.locale,this.ungroupedItems=a.createCollection(),this.groupedItems=a.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),a.itemsView.children.bindTo(this.ungroupedItems).using(T=>T),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),a.children.on("change",this._updateFocusCycleableItems.bind(this)),a.items.on("change",(T,X)=>{const be=X.index,je=Array.from(X.added);for(const Xe of X.removed)be>=this.ungroupedItems.length?this.groupedItems.remove(Xe):this.ungroupedItems.remove(Xe);for(let Xe=be;Xe<be+je.length;Xe++){const at=je[Xe-be];Xe>this.ungroupedItems.length?this.groupedItems.add(at,Xe-this.ungroupedItems.length):this.ungroupedItems.add(at,Xe)}this._updateGrouping()}),a.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(a){this.viewElement=a.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(a)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,V.pn)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const a=this.groupedItems.length;let T;for(;this._areItemsOverflowing;)this._groupLastItem(),T=!0;if(!T&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==a&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const a=this.viewElement,T=this.viewLocale.uiLanguageDirection,X=new V.UL(a.lastChild),be=new V.UL(a);if(!this.cachedPadding){const je=V.global.window.getComputedStyle(a),Xe=T==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(je[Xe])}return T==="ltr"?X.right>be.right-this.cachedPadding:X.left<be.left+this.cachedPadding}_enableGroupingOnResize(){let a;this.resizeObserver=new V.do(this.viewElement,T=>{a&&a===T.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),a=T.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(a){a.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new B),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const a=this.viewLocale,T=a.t,X=Mi(a);return X.class="ck-toolbar__grouped-dropdown",X.panelPosition=a.uiLanguageDirection==="ltr"?"sw":"se",cn(X,this.groupedItems),X.buttonView.set({label:T("Show more items"),tooltip:!0,tooltipPosition:a.uiLanguageDirection==="rtl"?"se":"sw",icon:wt}),X}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(a=>{this.viewFocusables.add(a)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Yi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),Ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Yi.Z,Ut),Yi.Z.locals;class Ae extends d{constructor(a){super(a);const T=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this._focusCycler=new ji({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:T.to("role"),"aria-label":T.to("ariaLabel")},children:this.items})}render(){super.render();for(const a of this.items)this.focusTracker.add(a.element);this.items.on("add",(a,T)=>{this.focusTracker.add(T.element)}),this.items.on("remove",(a,T)=>{this.focusTracker.remove(T.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ye extends d{constructor(a){super(a);const T=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",T.if("isVisible","ck-hidden",X=>!X)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class it extends d{constructor(a){super(a),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var ht=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ht.Z,Ot),ht.Z.locals;class Xt extends d{constructor(a){super(a);const T=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new V.VD,this.focusTracker=new V.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",T.to("class"),T.if("isVisible","ck-hidden",X=>!X),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(a,T)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),T())}),this.keystrokes.set("arrowleft",(a,T)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),T())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const a=new we;return a.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),a.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),a.delegate("execute").to(this),a}_createArrowView(){const a=new we,T=a.bindTemplate;return a.icon=qi,a.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":T.to("isOn"),"aria-haspopup":!0,"aria-expanded":T.to("isOn",X=>String(X))}}),a.bind("isEnabled").to(this),a.bind("label").to(this),a.bind("tooltip").to(this),a.delegate("execute").to(this,"open"),a}}var ii=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),di={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ii.Z,di),ii.Z.locals;var Ai=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),wi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Ai.Z,wi),Ai.Z.locals;function Mi(G,a=Ui){const T=new a(G),X=new ei(G),be=new Ri(G,T,X);return T.bind("isEnabled").to(be),T instanceof Xt?T.arrowView.bind("isOn").to(be,"isOpen"):T.bind("isOn").to(be,"isOpen"),function(je){(function(Xe){Xe.on("render",()=>{c({emitter:Xe,activator:()=>Xe.isOpen,callback:()=>{Xe.isOpen=!1},contextElements:()=>[Xe.element,...Xe.focusTracker._elements]})})})(je),function(Xe){Xe.on("execute",at=>{at.source instanceof Fe||(Xe.isOpen=!1)})}(je),function(Xe){Xe.focusTracker.on("change:isFocused",(at,Rt,vi)=>{Xe.isOpen&&!vi&&(Xe.isOpen=!1)})}(je),function(Xe){Xe.keystrokes.set("arrowdown",(at,Rt)=>{Xe.isOpen&&(Xe.panelView.focus(),Rt())}),Xe.keystrokes.set("arrowup",(at,Rt)=>{Xe.isOpen&&(Xe.panelView.focusLast(),Rt())})}(je),function(Xe){Xe.on("change:isOpen",(at,Rt,vi)=>{if(vi)return;const Ji=Xe.panelView.element;Ji&&Ji.contains(V.global.document.activeElement)&&Xe.buttonView.focus()})}(je),function(Xe){Xe.on("change:isOpen",(at,Rt,vi)=>{vi&&Xe.panelView.focus()},{priority:"low"})}(je)}(be),be}function cn(G,a,T={}){G.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),G.isOpen?hn(G,a,T):G.once("change:isOpen",()=>hn(G,a,T),{priority:"highest"}),T.enableActiveItemFocusOnDropdownOpen&&ln(G,()=>G.toolbarView.items.find(X=>X.isOn))}function hn(G,a,T){const X=G.locale,be=X.t,je=G.toolbarView=new fi(X),Xe=typeof a=="function"?a():a;je.ariaLabel=T.ariaLabel||be("Dropdown toolbar"),T.maxWidth&&(je.maxWidth=T.maxWidth),T.class&&(je.class=T.class),T.isCompact&&(je.isCompact=T.isCompact),T.isVertical&&(je.isVertical=!0),Xe instanceof $?je.items.bindTo(Xe).using(at=>at):je.items.addMany(Xe),G.panelView.children.add(je),je.items.delegate("execute").to(G)}function xn(G,a,T={}){G.isOpen?Xi(G,a,T):G.once("change:isOpen",()=>Xi(G,a,T),{priority:"highest"}),ln(G,()=>G.listView.items.find(X=>X instanceof Ye&&X.children.first.isOn))}function Xi(G,a,T){const X=G.locale,be=G.listView=new Ae(X),je=typeof a=="function"?a():a;be.ariaLabel=T.ariaLabel,be.role=T.role,be.items.bindTo(je).using(Xe=>{if(Xe.type==="separator")return new it(X);if(Xe.type==="button"||Xe.type==="switchbutton"){const at=new Ye(X);let Rt;return Rt=Xe.type==="button"?new we(X):new Fe(X),Rt.bind(...Object.keys(Xe.model)).to(Xe.model),Rt.delegate("execute").to(at),at.children.add(Rt),at}return null}),G.panelView.children.add(be),be.items.delegate("execute").to(G)}function ln(G,a){G.on("change:isOpen",()=>{if(!G.isOpen)return;const T=a();T&&(typeof T.focus=="function"?T.focus():(0,V.KE)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:T}))},{priority:V.tA.low-10})}function It(G,a,T){const X=new Kt(G.locale);return X.set({id:a,ariaDescribedById:T}),X.bind("isReadOnly").to(G,"isEnabled",be=>!be),X.bind("hasError").to(G,"errorText",be=>!!be),X.on("input",()=>{G.errorText=null}),G.bind("isEmpty","isFocused","placeholder").to(X),X}function te(G,a,T){const X=new ni(G.locale);return X.set({id:a,ariaDescribedById:T,inputMode:"numeric"}),X.bind("isReadOnly").to(G,"isEnabled",be=>!be),X.bind("hasError").to(G,"errorText",be=>!!be),X.on("input",()=>{G.errorText=null}),G.bind("isEmpty","isFocused","placeholder").to(X),X}function Ee(G,a,T){const X=Mi(G.locale);return X.set({id:a,ariaDescribedById:T}),X.bind("isEnabled").to(G),X}const Ue=(G,a=0,T=1)=>G>T?T:G<a?a:G,$e=(G,a=0,T=Math.pow(10,a))=>Math.round(T*G)/T,dt=G=>(G[0]==="#"&&(G=G.substring(1)),G.length<6?{r:parseInt(G[0]+G[0],16),g:parseInt(G[1]+G[1],16),b:parseInt(G[2]+G[2],16),a:G.length===4?$e(parseInt(G[3]+G[3],16)/255,2):1}:{r:parseInt(G.substring(0,2),16),g:parseInt(G.substring(2,4),16),b:parseInt(G.substring(4,6),16),a:G.length===8?$e(parseInt(G.substring(6,8),16)/255,2):1}),gt=({h:G,s:a,v:T,a:X})=>{const be=(200-a)*T/100;return{h:$e(G),s:$e(be>0&&be<200?a*T/100/(be<=100?be:200-be)*100:0),l:$e(be/2),a:$e(X,2)}},Nt=G=>{const{h:a,s:T,l:X}=gt(G);return`hsl(${a}, ${T}%, ${X}%)`},Et=({h:G,s:a,v:T,a:X})=>{G=G/360*6,a/=100,T/=100;const be=Math.floor(G),je=T*(1-a),Xe=T*(1-(G-be)*a),at=T*(1-(1-G+be)*a),Rt=be%6;return{r:$e(255*[T,Xe,je,je,at,T][Rt]),g:$e(255*[at,T,T,Xe,je,je][Rt]),b:$e(255*[je,je,at,T,T,Xe][Rt]),a:$e(X,2)}},Bt=G=>{const a=G.toString(16);return a.length<2?"0"+a:a},qt=({r:G,g:a,b:T,a:X})=>{const be=X<1?Bt($e(255*X)):"";return"#"+Bt(G)+Bt(a)+Bt(T)+be},ai=({r:G,g:a,b:T,a:X})=>{const be=Math.max(G,a,T),je=be-Math.min(G,a,T),Xe=je?be===G?(a-T)/je:be===a?2+(T-G)/je:4+(G-a)/je:0;return{h:$e(60*(Xe<0?Xe+6:Xe)),s:$e(be?je/be*100:0),v:$e(be/255*100),a:X}},ki=(G,a)=>{if(G===a)return!0;for(const T in G)if(G[T]!==a[T])return!1;return!0},hi={},ri=G=>{let a=hi[G];return a||(a=document.createElement("template"),a.innerHTML=G,hi[G]=a),a},Ii=(G,a,T)=>{G.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:T}))};let Di=!1;const bn=G=>"touches"in G,yn=(G,a)=>{const T=bn(a)?a.touches[0]:a,X=G.el.getBoundingClientRect();Ii(G.el,"move",G.getMove({x:Ue((T.pageX-(X.left+window.pageXOffset))/X.width),y:Ue((T.pageY-(X.top+window.pageYOffset))/X.height)}))};class Rn{constructor(a,T,X,be){const je=ri(`<div role="slider" tabindex="0" part="${T}" ${X}><div part="${T}-pointer"></div></div>`);a.appendChild(je.content.cloneNode(!0));const Xe=a.querySelector(`[part=${T}]`);Xe.addEventListener("mousedown",this),Xe.addEventListener("touchstart",this),Xe.addEventListener("keydown",this),this.el=Xe,this.xy=be,this.nodes=[Xe.firstChild,Xe]}set dragging(a){const T=a?document.addEventListener:document.removeEventListener;T(Di?"touchmove":"mousemove",this),T(Di?"touchend":"mouseup",this)}handleEvent(a){switch(a.type){case"mousedown":case"touchstart":if(a.preventDefault(),!(T=>!(Di&&!bn(T)||(Di||(Di=bn(T)),0)))(a)||!Di&&a.button!=0)return;this.el.focus(),yn(this,a),this.dragging=!0;break;case"mousemove":case"touchmove":a.preventDefault(),yn(this,a);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((T,X)=>{const be=X.keyCode;be>40||T.xy&&be<37||be<33||(X.preventDefault(),Ii(T.el,"move",T.getMove({x:be===39?.01:be===37?-.01:be===34?.05:be===33?-.05:be===35?1:be===36?-1:0,y:be===40?.01:be===38?-.01:0},!0)))})(this,a)}}style(a){a.forEach((T,X)=>{for(const be in T)this.nodes[X].style.setProperty(be,T[be])})}}class Un extends Rn{constructor(a){super(a,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:a}){this.h=a,this.style([{left:a/360*100+"%",color:Nt({h:a,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${$e(a)}`)}getMove(a,T){return{h:T?Ue(this.h+360*a.x,0,360):360*a.x}}}class Nn extends Rn{constructor(a){super(a,"saturation",'aria-label="Color"',!0)}update(a){this.hsva=a,this.style([{top:100-a.v+"%",left:`${a.s}%`,color:Nt(a)},{"background-color":Nt({h:a.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${$e(a.s)}%, Brightness ${$e(a.v)}%`)}getMove(a,T){return{s:T?Ue(this.hsva.s+100*a.x,0,100):100*a.x,v:T?Ue(this.hsva.v-100*a.y,0,100):Math.round(100-100*a.y)}}}const jn=Symbol("same"),Sn=Symbol("color"),Bn=Symbol("hsva"),io=Symbol("update"),ze=Symbol("parts"),g=Symbol("css"),u=Symbol("sliders");class x extends HTMLElement{static get observedAttributes(){return["color"]}get[g](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[u](){return[Nn,Un]}get color(){return this[Sn]}set color(a){if(!this[jn](a)){const T=this.colorModel.toHsva(a);this[io](T),this[Sn]=a}}constructor(){super();const a=ri(`<style>${this[g].join("")}</style>`),T=this.attachShadow({mode:"open"});T.appendChild(a.content.cloneNode(!0)),T.addEventListener("move",this),this[ze]=this[u].map(X=>new X(T))}connectedCallback(){if(this.hasOwnProperty("color")){const a=this.color;delete this.color,this.color=a}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(a,T,X){const be=this.colorModel.fromAttr(X);this[jn](be)||(this.color=be)}handleEvent(a){const T=this[Bn],X={...T,...a.detail};let be;this[io](X),ki(X,T)||this[jn](be=this.colorModel.fromHsva(X))||(this[Sn]=be,Ii(this,"color-changed",{value:be}))}[jn](a){return this.color&&this.colorModel.equal(a,this.color)}[io](a){this[Bn]=a,this[ze].forEach(T=>T.update(a))}}const F={defaultColor:"#000",toHsva:G=>ai(dt(G)),fromHsva:({h:G,s:a,v:T})=>qt(Et({h:G,s:a,v:T,a:1})),equal:(G,a)=>G.toLowerCase()===a.toLowerCase()||ki(dt(G),dt(a)),fromAttr:G=>G};class K extends x{get colorModel(){return F}}customElements.define("hex-color-picker",class extends K{});var ce=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"),fe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ce.Z,fe),ce.Z.locals;class Se extends d{constructor(a,T={}){super(a),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const X=this.createCollection();T.hideInput||X.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:X}),this._config=T,this._debounceColorPickerEvent=(0,Bi.Z)(be=>{this.set("color",be),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(be,je,Xe)=>{be.return=Ni(Xe,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Le(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Le(this.color)!=Le(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),this.picker=V.global.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const a=document.createElement("style");a.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(a)}this.picker.addEventListener("color-changed",a=>{const T=a.detail.value;this._debounceColorPickerEvent(T)})}focus(){!this._config.hideInput&&(V.OB.isGecko||V.OB.isiOS||V.OB.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const a=[...this.picker.shadowRoot.children].filter(T=>T.getAttribute("role")==="slider").map(T=>new De(T));this.slidersView=this.createCollection(),a.forEach(T=>{this.slidersView.add(T)})}_createInputRow(){const a=new He,T=this._createColorInput();return new Qe(this.locale,[a,T])}_createColorInput(){const a=new tt(this.locale,It),{t:T}=this.locale;return a.set({label:T("HEX"),class:"color-picker-hex-input"}),a.fieldView.bind("value").to(this,"_hexColor",X=>a.isFocused?a.fieldView.value:X.startsWith("#")?X.substring(1):X),a.fieldView.on("input",()=>{const X=a.fieldView.element.value;if(X){const be=X.trim(),je=be.startsWith("#")?be.substring(1):be;[3,4,6,8].includes(je.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(je)&&this._debounceColorPickerEvent("#"+je)}}),a}}function Le(G){let a=function(T){if(!T)return"";const X=xi(T);return X?X.space==="hex"?X.hexValue:Ni(T,"hex"):"#000"}(G);return a||(a="#000"),a.length===4&&(a="#"+[a[1],a[1],a[2],a[2],a[3],a[3]].join("")),a.toLowerCase()}class De extends d{constructor(a){super(),this.element=a}focus(){this.element.focus()}}class He extends d{constructor(a){super(a),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Qe extends d{constructor(a,T){super(a),this.children=this.createCollection(T),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class _t extends(0,V.Re)(V.FE){constructor(a){super(a),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(a,T){return this.find(X=>X.color===a.color)?this:super.add(a,T)}hasColor(a){return!!this.find(T=>T.color===a)}}var Pt=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const vt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';class Gt extends d{constructor(a,{colors:T,columns:X,removeButtonLabel:be,documentColorsLabel:je,documentColorsCount:Xe,colorPickerLabel:at,focusTracker:Rt,focusables:vi}){super(a);const Ji=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=Rt,this.items=this.createCollection(),this.colorDefinitions=T,this.columns=X,this.documentColors=new _t,this.documentColorsCount=Xe,this._focusables=vi,this._removeButtonLabel=be,this._colorPickerLabel=at,this._documentColorsLabel=je,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",Ji.if("isVisible","ck-hidden",vn=>!vn)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(a,T){const X=a.document,be=this.documentColorsCount;this.documentColors.clear();for(const je of X.getRoots()){const Xe=a.createRangeIn(je);for(const at of Xe.getItems())if(at.is("$textProxy")&&at.hasAttribute(T)&&(this._addColorToDocumentColors(at.getAttribute(T)),this.documentColors.length>=be))return}}updateSelectedColors(){const a=this.documentColorsGrid,T=this.staticColorsGrid,X=this.selectedColor;T.selectedColor=X,a&&(a.selectedColor=X)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const a=w.bind(this.documentColors,this.documentColors),T=new _e(this.locale);T.text=this._documentColorsLabel,T.extendTemplate({attributes:{class:["ck","ck-color-grid__label",a.if("isEmpty","ck-hidden")]}}),this.items.add(T),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new we,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:vt,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const a=new we;return a.set({withText:!0,icon:Pt.Z,label:this._removeButtonLabel}),a.class="ck-color-selector__remove-color",a.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),a.render(),a}_createStaticColorsGrid(){const a=new Tt(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return a.on("execute",(T,X)=>{this.fire("execute",{value:X.value,source:"staticColorsGrid"})}),a}_createDocumentColorsGrid(){const a=w.bind(this.documentColors,this.documentColors),T=new Tt(this.locale,{columns:this.columns});return T.extendTemplate({attributes:{class:a.if("isEmpty","ck-hidden")}}),T.items.bindTo(this.documentColors).using(X=>{const be=new Lt;return be.set({color:X.color,hasBorder:X.options&&X.options.hasBorder}),X.label&&be.set({label:X.label,tooltip:!0}),be.on("execute",()=>{this.fire("execute",{value:X.color,source:"documentColorsGrid"})}),be}),this.documentColors.on("change:isEmpty",(X,be,je)=>{je&&(T.selectedColor=null)}),T}_addColorToDocumentColors(a){const T=this.colorDefinitions.find(X=>X.color===a);T?this.documentColors.add(Object.assign({},T)):this.documentColors.add({color:a,label:a,options:{hasBorder:!1}})}}var ui=l("./packages/ckeditor5-core/theme/icons/check.svg"),Pi=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),Wi=Object.defineProperty,Ki=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Pn=(G,a,T)=>a in G?Wi(G,a,{enumerable:!0,configurable:!0,writable:!0,value:T}):G[a]=T;class qn extends d{constructor(a,{focusTracker:T,focusables:X,keystrokes:be,colorPickerViewConfig:je}){super(a),this.items=this.createCollection(),this.focusTracker=T,this.keystrokes=be,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=X,this._colorPickerViewConfig=je;const Xe=this.bindTemplate,{saveButtonView:at,cancelButtonView:Rt}=this._createActionButtons();this.saveButtonView=at,this.cancelButtonView=Rt,this.actionBarView=this._createActionBarView({saveButtonView:at,cancelButtonView:Rt}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",Xe.if("isVisible","ck-hidden",vi=>!vi)]},children:this.items})}render(){super.render();const a=new Se(this.locale,((T,X)=>{for(var be in X||(X={}))nn.call(X,be)&&Pn(T,be,X[be]);if(Ki)for(var be of Ki(X))Wn.call(X,be)&&Pn(T,be,X[be]);return T})({},this._colorPickerViewConfig));this.colorPickerView=a,this.colorPickerView.render(),this.selectedColor&&(a.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(T,X,be)=>{a.color=be}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",a=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),a.stopPropagation(),a.preventDefault())})}_stopPropagationOnArrowsKeys(){const a=T=>T.stopPropagation();this.keystrokes.set("arrowright",a),this.keystrokes.set("arrowleft",a),this.keystrokes.set("arrowup",a),this.keystrokes.set("arrowdown",a)}_addColorPickersElementsToFocusTracker(){for(const T of this.colorPickerView.slidersView)this.focusTracker.add(T.element),this._focusables.add(T);const a=this.colorPickerView.hexInputRow.children.get(1);a.element&&(this.focusTracker.add(a.element),this._focusables.add(a)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:a,cancelButtonView:T}){const X=new d,be=this.createCollection();return be.add(a),be.add(T),X.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:be}),X}_createActionButtons(){const a=this.locale,T=a.t,X=new we(a),be=new we(a);return X.set({icon:ui.Z,class:"ck-button-save",type:"button",withText:!1,label:T("Accept")}),be.set({icon:Pi.Z,class:"ck-button-cancel",type:"button",withText:!1,label:T("Cancel")}),X.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),be.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:X,cancelButtonView:be}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(a,T)=>{this.fire("execute",{value:T.color,source:"colorPicker"}),this.set("selectedColor",T.color)})}}var _o=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css"),po={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(_o.Z,po),_o.Z.locals;class Kn extends d{constructor(a,{colors:T,columns:X,removeButtonLabel:be,documentColorsLabel:je,documentColorsCount:Xe,colorPickerLabel:at,colorPickerViewConfig:Rt}){super(a),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this._focusables=new $,this._colorPickerViewConfig=Rt,this._focusCycler=new ji({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new Gt(a,{colors:T,columns:X,removeButtonLabel:be,documentColorsLabel:je,documentColorsCount:Xe,colorPickerLabel:at,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new qn(a,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:Rt}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(vi,Ji,vn)=>{this.colorGridsFragmentView.set("selectedColor",vn),this.colorPickerFragmentView.set("selectedColor",vn)}),this.colorGridsFragmentView.on("change:selectedColor",(vi,Ji,vn)=>{this.set("selectedColor",vn)}),this.colorPickerFragmentView.on("change:selectedColor",(vi,Ji,vn)=>{this.set("selectedColor",vn)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(a,T){this.colorGridsFragmentView.updateDocumentColors(a,T)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class yo{constructor(a){this._components=new Map,this.editor=a}*names(){for(const a of this._components.values())yield a.originalName}add(a,T){this._components.set(no(a),{callback:T,originalName:a})}create(a){if(!this.has(a))throw new V.Bb("componentfactory-item-missing",this,{name:a});return this._components.get(no(a)).callback(this.editor.locale)}has(a){return this._components.has(no(a))}}function no(G){return String(G).toLowerCase()}var fo=l("./node_modules/lodash-es/isElement.js"),bo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),Vn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(bo.Z,Vn),bo.Z.locals;var Gn=Object.defineProperty,so=Object.getOwnPropertySymbols,Oo=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable,xo=(G,a,T)=>a in G?Gn(G,a,{enumerable:!0,configurable:!0,writable:!0,value:T}):G[a]=T,Zi=(G,a)=>{for(var T in a||(a={}))Oo.call(a,T)&&xo(G,T,a[T]);if(so)for(var T of so(a))Fo.call(a,T)&&xo(G,T,a[T]);return G};const Lo=(0,V.nn)("px"),Mo=V.global.document.body,Ho=class extends d{constructor(G){super(G);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",a.to("position",T=>`ck-balloon-panel_${T}`),a.if("isVisible","ck-balloon-panel_visible"),a.if("withArrow","ck-balloon-panel_with-arrow"),a.to("class")],style:{top:a.to("top",Lo),left:a.to("left",Lo)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(G){this.show();const a=Ho.defaultPositions,T=Object.assign({},{element:this.element,positions:[a.southArrowNorth,a.southArrowNorthMiddleWest,a.southArrowNorthMiddleEast,a.southArrowNorthWest,a.southArrowNorthEast,a.northArrowSouth,a.northArrowSouthMiddleWest,a.northArrowSouthMiddleEast,a.northArrowSouthWest,a.northArrowSouthEast,a.viewportStickyNorth],limiter:Mo,fitInViewport:!0},G),X=Ho._getOptimalPosition(T),be=parseInt(X.left),je=parseInt(X.top),Xe=X.name,at=X.config||{},{withArrow:Rt=!0}=at;this.top=je,this.left=be,this.position=Xe,this.withArrow=Rt}pin(G){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(G):this._stopPinning()},this._startPinning(G),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(G){this.attachTo(G);const a=$o(G.target),T=G.limiter?$o(G.limiter):Mo;this.listenTo(V.global.document,"scroll",(X,be)=>{const je=be.target,Xe=a&&je.contains(a),at=T&&je.contains(T);!Xe&&!at&&a&&T||this.attachTo(G)},{useCapture:!0}),this.listenTo(V.global.window,"resize",()=>{this.attachTo(G)})}_stopPinning(){this.stopListening(V.global.document,"scroll"),this.stopListening(V.global.window,"resize")}};let Tn=Ho;function $o(G){return(0,fo.Z)(G)?G:(0,V.bR)(G)?G.commonAncestorContainer:typeof G=="function"?$o(G()):null}function Uo(G={}){const{sideOffset:a=Tn.arrowSideOffset,heightOffset:T=Tn.arrowHeightOffset,stickyVerticalOffset:X=Tn.stickyVerticalOffset,config:be}=G;return{northWestArrowSouthWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.left-a,name:"arrow_sw"},be&&{config:be}),northWestArrowSouthMiddleWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.left-.25*Rt.width-a,name:"arrow_smw"},be&&{config:be}),northWestArrowSouth:(at,Rt)=>Zi({top:je(at,Rt),left:at.left-Rt.width/2,name:"arrow_s"},be&&{config:be}),northWestArrowSouthMiddleEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.left-.75*Rt.width+a,name:"arrow_sme"},be&&{config:be}),northWestArrowSouthEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.left-Rt.width+a,name:"arrow_se"},be&&{config:be}),northArrowSouthWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.left+at.width/2-a,name:"arrow_sw"},be&&{config:be}),northArrowSouthMiddleWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.left+at.width/2-.25*Rt.width-a,name:"arrow_smw"},be&&{config:be}),northArrowSouth:(at,Rt)=>Zi({top:je(at,Rt),left:at.left+at.width/2-Rt.width/2,name:"arrow_s"},be&&{config:be}),northArrowSouthMiddleEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.left+at.width/2-.75*Rt.width+a,name:"arrow_sme"},be&&{config:be}),northArrowSouthEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.left+at.width/2-Rt.width+a,name:"arrow_se"},be&&{config:be}),northEastArrowSouthWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.right-a,name:"arrow_sw"},be&&{config:be}),northEastArrowSouthMiddleWest:(at,Rt)=>Zi({top:je(at,Rt),left:at.right-.25*Rt.width-a,name:"arrow_smw"},be&&{config:be}),northEastArrowSouth:(at,Rt)=>Zi({top:je(at,Rt),left:at.right-Rt.width/2,name:"arrow_s"},be&&{config:be}),northEastArrowSouthMiddleEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.right-.75*Rt.width+a,name:"arrow_sme"},be&&{config:be}),northEastArrowSouthEast:(at,Rt)=>Zi({top:je(at,Rt),left:at.right-Rt.width+a,name:"arrow_se"},be&&{config:be}),southWestArrowNorthWest:at=>Zi({top:Xe(at),left:at.left-a,name:"arrow_nw"},be&&{config:be}),southWestArrowNorthMiddleWest:(at,Rt)=>Zi({top:Xe(at),left:at.left-.25*Rt.width-a,name:"arrow_nmw"},be&&{config:be}),southWestArrowNorth:(at,Rt)=>Zi({top:Xe(at),left:at.left-Rt.width/2,name:"arrow_n"},be&&{config:be}),southWestArrowNorthMiddleEast:(at,Rt)=>Zi({top:Xe(at),left:at.left-.75*Rt.width+a,name:"arrow_nme"},be&&{config:be}),southWestArrowNorthEast:(at,Rt)=>Zi({top:Xe(at),left:at.left-Rt.width+a,name:"arrow_ne"},be&&{config:be}),southArrowNorthWest:at=>Zi({top:Xe(at),left:at.left+at.width/2-a,name:"arrow_nw"},be&&{config:be}),southArrowNorthMiddleWest:(at,Rt)=>Zi({top:Xe(at),left:at.left+at.width/2-.25*Rt.width-a,name:"arrow_nmw"},be&&{config:be}),southArrowNorth:(at,Rt)=>Zi({top:Xe(at),left:at.left+at.width/2-Rt.width/2,name:"arrow_n"},be&&{config:be}),southArrowNorthMiddleEast:(at,Rt)=>Zi({top:Xe(at),left:at.left+at.width/2-.75*Rt.width+a,name:"arrow_nme"},be&&{config:be}),southArrowNorthEast:(at,Rt)=>Zi({top:Xe(at),left:at.left+at.width/2-Rt.width+a,name:"arrow_ne"},be&&{config:be}),southEastArrowNorthWest:at=>Zi({top:Xe(at),left:at.right-a,name:"arrow_nw"},be&&{config:be}),southEastArrowNorthMiddleWest:(at,Rt)=>Zi({top:Xe(at),left:at.right-.25*Rt.width-a,name:"arrow_nmw"},be&&{config:be}),southEastArrowNorth:(at,Rt)=>Zi({top:Xe(at),left:at.right-Rt.width/2,name:"arrow_n"},be&&{config:be}),southEastArrowNorthMiddleEast:(at,Rt)=>Zi({top:Xe(at),left:at.right-.75*Rt.width+a,name:"arrow_nme"},be&&{config:be}),southEastArrowNorthEast:(at,Rt)=>Zi({top:Xe(at),left:at.right-Rt.width+a,name:"arrow_ne"},be&&{config:be}),westArrowEast:(at,Rt)=>Zi({top:at.top+at.height/2-Rt.height/2,left:at.left-Rt.width-T,name:"arrow_e"},be&&{config:be}),eastArrowWest:(at,Rt)=>Zi({top:at.top+at.height/2-Rt.height/2,left:at.right+T,name:"arrow_w"},be&&{config:be}),viewportStickyNorth:(at,Rt,vi)=>at.getIntersection(vi)?{top:vi.top+X,left:at.left+at.width/2-Rt.width/2,name:"arrowless",config:Zi({withArrow:!1},be)}:null};function je(at,Rt){return at.top-Rt.height-T}function Xe(at){return at.bottom+T}}Tn.arrowSideOffset=25,Tn.arrowHeightOffset=10,Tn.stickyVerticalOffset=20,Tn._getOptimalPosition=V.xZ,Tn.defaultPositions=Uo();var ar=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),Ro={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ar.Z,Ro),ar.Z.locals;const lr="ck-tooltip",Mn=class extends(0,V.Xu)(){constructor(G){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Mn._editors.add(G),Mn._instance)return Mn._instance;Mn._instance=this,this.tooltipTextView=new d(G.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Tn(G.locale),this.balloonPanelView.class=lr,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=(0,Bi.Z)(this._pinTooltip,600),this.listenTo(V.global.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(G){const a=G.ui.view&&G.ui.view.body;Mn._editors.delete(G),this.stopListening(G.ui),a&&a.has(this.balloonPanelView)&&a.remove(this.balloonPanelView),Mn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Mn._instance=null)}static getPositioningFunctions(G){const a=Mn.defaultBalloonPositions;return{s:[a.southArrowNorth,a.southArrowNorthEast,a.southArrowNorthWest],n:[a.northArrowSouth],e:[a.eastArrowWest],w:[a.westArrowEast],sw:[a.southArrowNorthEast],se:[a.southArrowNorthWest]}[G]}_onEnterOrFocus(G,{target:a}){const T=Co(a);var X;T&&T!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(T,{text:(X=T).dataset.ckeTooltipText,position:X.dataset.ckeTooltipPosition||"s",cssClass:X.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(G,{target:a,relatedTarget:T}){if(G.name==="mouseleave"){if(!(0,fo.Z)(a)||this._currentElementWithTooltip&&a!==this._currentElementWithTooltip)return;const X=Co(a),be=Co(T);X&&X!==be&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&a!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(G,{target:a}){this._currentElementWithTooltip&&(a.contains(this.balloonPanelView.element)&&a.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(G,{text:a,position:T,cssClass:X}){const be=(0,V.Ps)(Mn._editors.values()).ui.view.body;be.has(this.balloonPanelView)||be.add(this.balloonPanelView),this.tooltipTextView.text=a,this.balloonPanelView.pin({target:G,positions:Mn.getPositioningFunctions(T)}),this._resizeObserver=new V.do(G,()=>{(0,V.pn)(G)||this._unpinTooltip()}),this.balloonPanelView.class=[lr,X].filter(je=>je).join(" ");for(const je of Mn._editors)this.listenTo(je.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=G,this._currentTooltipPosition=T}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const G of Mn._editors)this.stopListening(G.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){(0,V.pn)(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Mn.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let wo=Mn;function Co(G){return(0,fo.Z)(G)?G.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}wo.defaultBalloonPositions=Uo({heightOffset:5,sideOffset:13}),wo._editors=new Set,wo._instance=null;var cr=l("./node_modules/lodash-es/throttle.js"),br=Object.defineProperty,Yn=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,qo=Object.prototype.propertyIsEnumerable,Qn=(G,a,T)=>a in G?br(G,a,{enumerable:!0,configurable:!0,writable:!0,value:T}):G[a]=T,lo=(G,a)=>{for(var T in a||(a={}))ao.call(a,T)&&Qn(G,T,a[T]);if(Yn)for(var T of Yn(a))qo.call(a,T)&&Qn(G,T,a[T]);return G};const sn=50,an=350,Dn="Powered by",on={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class oo extends(0,V.Xu)(){constructor(a){super(),this.editor=a,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,cr.Z)(this._showBalloon.bind(this),50,{leading:!0}),a.on("ready",this._handleEditorReady.bind(this))}destroy(){const a=this._balloonView;a&&(a.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const a=this.editor;(a.config.get("ui.poweredBy.forceVisible")||(0,V.Tx)(a.config.get("licenseKey"))!=="VALID")&&a.ui.view&&(a.ui.focusTracker.on("change:isFocused",(T,X,be)=>{this._updateLastFocusedEditableElement(),be?this._showBalloon():this._hideBalloon()}),a.ui.focusTracker.on("change:focusedElement",(T,X,be)=>{this._updateLastFocusedEditableElement(),be&&this._showBalloon()}),a.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const a=this.editor,T=this._balloonView=new Tn,X=ko(a),be=new ro(a.locale,X.label);T.content.add(be),T.set({class:"ck-powered-by-balloon"}),a.ui.view.body.add(T),a.ui.focusTracker.add(T.element),this._balloonView=T}_showBalloon(){if(!this._lastFocusedEditableElement)return;const a=function(T,X){const be=ko(T),je=be.side==="right"?function(Xe,at){return oi(Xe,at,(Rt,vi)=>Rt.left+Rt.width-vi.width-at.horizontalOffset)}(X,be):function(Xe,at){return oi(Xe,at,Rt=>Rt.left+at.horizontalOffset)}(X,be);return{target:X,positions:[je]}}(this.editor,this._lastFocusedEditableElement);a&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(a))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const a=this.editor,T=a.ui.focusTracker.isFocused,X=a.ui.focusTracker.focusedElement;if(!T||!X)return void(this._lastFocusedEditableElement=null);const be=Array.from(a.ui.getEditableElementsNames()).map(je=>a.ui.getEditableElement(je));be.includes(X)?this._lastFocusedEditableElement=X:this._lastFocusedEditableElement=be[0]}}class ro extends d{constructor(a,T){super(a);const X=new et,be=this.bindTemplate;X.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),X.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...T?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[T]}]:[],X],on:{dragstart:be.to(je=>je.preventDefault())}}]})}}function oi(G,a,T){return(X,be)=>{const je=X.getVisible();if(!je||X.width<an||X.height<sn)return on;let Xe;Xe=a.position==="inside"?X.bottom-be.height:X.bottom-be.height/2,Xe-=a.verticalOffset;const at=T(X,be);if(a.position==="inside"){const Rt=be.clone().moveTo(at,Xe);if(Rt.getIntersectionArea(je)<Rt.getArea())return on}else{const Rt=(0,V.wm)(G);if(Rt){const vi=new V.UL(Rt),Ji=je.bottom+be.height/2>vi.bottom,vn=a.side==="left"?X.left<vi.left:X.right>vi.right;if(Ji||vn)return on}}return{top:Xe,left:at,name:`position_${a.position}-side_${a.side}`,config:{withArrow:!1}}}}function ko(G){const a=G.config.get("ui.poweredBy"),T=a&&a.position||"border";return lo({position:T,label:Dn,verticalOffset:T==="inside"?5:0,horizontalOffset:5,side:G.locale.contentLanguageDirection==="ltr"?"right":"left"},a)}var dr=Object.defineProperty,Ko=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable,Dt=(G,a,T)=>a in G?dr(G,a,{enumerable:!0,configurable:!0,writable:!0,value:T}):G[a]=T;class Yo extends(0,V.Re)(){constructor(a){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const T=a.editing.view;this.editor=a,this.componentFactory=new yo(a),this.focusTracker=new V.Rh,this.tooltipManager=new wo(a),this.poweredBy=new oo(a),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(T.document,"layoutChanged",this.update.bind(this)),this.listenTo(T,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const a of this._editableElementsMap.values())a.ckeditorInstance=null,this.editor.keystrokes.stopListening(a);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(a,T){this._editableElementsMap.set(a,T),T.ckeditorInstance||(T.ckeditorInstance=this.editor),this.focusTracker.add(T);const X=()=>{this.editor.editing.view.getDomRoot(a)||this.editor.keystrokes.listenTo(T)};this.isReady?X():this.once("ready",X)}removeEditableElement(a){const T=this._editableElementsMap.get(a);T&&(this._editableElementsMap.delete(a),this.editor.keystrokes.stopListening(T),this.focusTracker.remove(T),T.ckeditorInstance=null)}getEditableElement(a="main"){return this._editableElementsMap.get(a)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(a,T={}){a.isRendered?(this.focusTracker.add(a.element),this.editor.keystrokes.listenTo(a.element)):a.once("render",()=>{this.focusTracker.add(a.element),this.editor.keystrokes.listenTo(a.element)}),this._focusableToolbarDefinitions.push({toolbarView:a,options:T})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const a=this.editor,T=a.config.get("ui.viewportOffset");if(T)return T;const X=a.config.get("toolbar.viewportTopOffset");return X?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:X}):{top:0}}_initFocusTracking(){const a=this.editor,T=a.editing.view;let X,be;a.keystrokes.set("Alt+F10",(je,Xe)=>{const at=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(at)&&!Array.from(T.domRoots.values()).includes(at)&&(X=at);const Rt=this._getCurrentFocusedToolbarDefinition();Rt&&be||(be=this._getFocusableCandidateToolbarDefinitions());for(let vi=0;vi<be.length;vi++){const Ji=be.shift();if(be.push(Ji),Ji!==Rt&&this._focusFocusableCandidateToolbar(Ji)){Rt&&Rt.options.afterBlur&&Rt.options.afterBlur();break}}Xe()}),a.keystrokes.set("Esc",(je,Xe)=>{const at=this._getCurrentFocusedToolbarDefinition();at&&(X?(X.focus(),X=null):a.editing.view.focus(),at.options.afterBlur&&at.options.afterBlur(),Xe())})}_getFocusableCandidateToolbarDefinitions(){const a=[];for(const T of this._focusableToolbarDefinitions){const{toolbarView:X,options:be}=T;((0,V.pn)(X.element)||be.beforeFocus)&&a.push(T)}return a.sort((T,X)=>Qo(T)-Qo(X)),a}_getCurrentFocusedToolbarDefinition(){for(const a of this._focusableToolbarDefinitions)if(a.toolbarView.element&&a.toolbarView.element.contains(this.focusTracker.focusedElement))return a;return null}_focusFocusableCandidateToolbar(a){const{toolbarView:T,options:{beforeFocus:X}}=a;return X&&X(),!!(0,V.pn)(T.element)&&(T.focus(),!0)}_handleScrollToTheSelection(a,T){const X=((be,je)=>{for(var Xe in je||(je={}))Go.call(je,Xe)&&Dt(be,Xe,je[Xe]);if(Ko)for(var Xe of Ko(je))Jn.call(je,Xe)&&Dt(be,Xe,je[Xe]);return be})({top:0,bottom:0,left:0,right:0},this.viewportOffset);T.viewportOffset.top+=X.top,T.viewportOffset.bottom+=X.bottom,T.viewportOffset.left+=X.left,T.viewportOffset.right+=X.right}}function Qo(G){const{toolbarView:a,options:T}=G;let X=10;return(0,V.pn)(a.element)&&X--,T.isContextual&&X--,X}var To=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),Wo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(To.Z,Wo),To.Z.locals;class Ao extends d{constructor(a){super(a),this.body=new pt(a)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Eo extends Ao{constructor(a){super(a),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:a.uiLanguageDirection,lang:a.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const a=this.t,T=new _e;return T.text=a("Rich Text Editor"),T.extendTemplate({attributes:{class:"ck-voice-label"}}),T}}class jo extends d{constructor(a,T,X){super(a),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:a.contentLanguage,dir:a.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=X,this._hasExternalElement=!!this._editableElement,this._editingView=T}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const a=this._editingView;function T(X){a.change(be=>{const je=a.document.getRoot(X.name);be.addClass(X.isFocused?"ck-focused":"ck-blurred",je),be.removeClass(X.isFocused?"ck-blurred":"ck-focused",je)})}a.isRenderingInProgress?function X(be){a.once("change:isRenderingInProgress",(je,Xe,at)=>{at?X(be):T(be)})}(this):T(this)}}class ke extends jo{constructor(a,T,X,be={}){super(a,T,X);const je=a.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=be.label||(()=>je("Editor editing area: %0",this.name))}render(){super.render();const a=this._editingView;a.change(T=>{const X=a.document.getRoot(this.name);T.setAttribute("aria-label",this._generateLabel(this),X)})}}var ve=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),Ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ve.Z,Ke),ve.Z.locals;class jt extends d{constructor(a,T={}){super(a);const X=this.bindTemplate;this.set("label",T.label||""),this.set("class",T.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",X.to("class")]},children:this.children});const be=new d(a);be.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:X.to("label")}]}),this.children.add(be)}}class Si extends d{constructor(a){super(a);const T=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:T.to("loaded")}})}render(){return new Promise(a=>(this.on("loaded",a),super.render()))}}class zi extends Pe.eO{static get pluginName(){return"Notification"}init(){this.on("show:warning",(a,T)=>{window.alert(T.message)},{priority:"lowest"})}showSuccess(a,T={}){this._showNotification({message:a,type:"success",namespace:T.namespace,title:T.title})}showInfo(a,T={}){this._showNotification({message:a,type:"info",namespace:T.namespace,title:T.title})}showWarning(a,T={}){this._showNotification({message:a,type:"warning",namespace:T.namespace,title:T.title})}_showNotification(a){const T=a.namespace?`show:${a.type}:${a.namespace}`:`show:${a.type}`;this.fire(T,{message:a.message,type:a.type,title:a.title||""})}}var Gi=l("./node_modules/lodash-es/assignIn.js");class $i extends(0,V.Re)(){constructor(a,T){super(),T&&(0,Gi.Z)(this,T),a&&this.set(a)}}var Qi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),gn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Qi.Z,gn),Qi.Z.locals;var Vo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),co={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Vo.Z,co),Vo.Z.locals;const On=(0,V.nn)("px");class uo extends Pe.Sy{constructor(a){super(a),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const T=this.editor.editing.view,X=T.document.selection.editableElement;return X?T.domConverter.mapViewToDom(X.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(a){return Array.from(this._viewToStack.keys()).includes(a)}add(a){if(this._view||this._createPanelView(),this.hasView(a.view))throw new V.Bb("contextualballoon-add-view-exist",[this,a]);const T=a.stackId||"main";if(!this._idToStack.has(T))return this._idToStack.set(T,new Map([[a.view,a]])),this._viewToStack.set(a.view,this._idToStack.get(T)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!a.singleViewMode||this.showStack(T));const X=this._idToStack.get(T);a.singleViewMode&&this.showStack(T),X.set(a.view,a),this._viewToStack.set(a.view,X),X===this._visibleStack&&this._showView(a)}remove(a){if(!this.hasView(a))throw new V.Bb("contextualballoon-remove-view-not-exist",[this,a]);const T=this._viewToStack.get(a);this._singleViewMode&&this.visibleView===a&&(this._singleViewMode=!1),this.visibleView===a&&(T.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(T.values())[T.size-2])),T.size===1?(this._idToStack.delete(this._getStackId(T)),this._numberOfStacks=this._idToStack.size):T.delete(a),this._viewToStack.delete(a)}updatePosition(a){a&&(this._visibleStack.get(this.visibleView).position=a),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(a){this.visibleStack=a;const T=this._idToStack.get(a);if(!T)throw new V.Bb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==T&&this._showView(Array.from(T.values()).pop())}_createPanelView(){this._view=new Tn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(a){return Array.from(this._idToStack.entries()).find(T=>T[1]===a)[0]}_showNextStack(){const a=Array.from(this._idToStack.values());let T=a.indexOf(this._visibleStack)+1;a[T]||(T=0),this.showStack(this._getStackId(a[T]))}_showPrevStack(){const a=Array.from(this._idToStack.values());let T=a.indexOf(this._visibleStack)-1;a[T]||(T=a.length-1),this.showStack(this._getStackId(a[T]))}_createRotatorView(){const a=new Xn(this.editor.locale),T=this.editor.locale.t;return this.view.content.add(a),a.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(X,be)=>!be&&X>1),a.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),a.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(X,be)=>{if(be<2)return"";const je=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return T("%0 of %1",[je,be])}),a.buttonNextView.on("execute",()=>{a.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),a.buttonPrevView.on("execute",()=>{a.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),a}_createFakePanelsView(){const a=new An(this.editor.locale,this.view);return a.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(T,X)=>!X&&T>=2?Math.min(T-1,2):0),a.listenTo(this.view,"change:top",()=>a.updatePosition()),a.listenTo(this.view,"change:left",()=>a.updatePosition()),this.editor.ui.view.body.add(a),a}_showView({view:a,balloonClassName:T="",withArrow:X=!0,singleViewMode:be=!1}){this.view.class=T,this.view.withArrow=X,this._rotatorView.showView(a),this.visibleView=a,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),be&&(this._singleViewMode=!0)}_getBalloonPosition(){let a=Array.from(this._visibleStack.values()).pop().position;return a&&(a.limiter||(a=Object.assign({},a,{limiter:this.positionLimiter})),a=Object.assign({},a,{viewportOffsetConfig:this.editor.ui.viewportOffset})),a}}class Xn extends d{constructor(a){super(a);const T=a.t,X=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new V.Rh,this.buttonPrevView=this._createButtonView(T("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(T("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",X.to("isNavigationVisible",be=>be?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:X.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(a){this.hideView(),this.content.add(a)}hideView(){this.content.clear()}_createButtonView(a,T){const X=new we(this.locale);return X.set({label:a,icon:T,tooltip:!0}),X}}class An extends d{constructor(a,T){super(a);const X=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=T,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",X.to("numberOfPanels",be=>be?"":"ck-hidden")],style:{top:X.to("top",On),left:X.to("left",On),width:X.to("width",On),height:X.to("height",On)}},children:this.content}),this.on("change:numberOfPanels",(be,je,Xe,at)=>{Xe>at?this._addPanels(Xe-at):this._removePanels(at-Xe),this.updatePosition()})}_addPanels(a){for(;a--;){const T=new d;T.setTemplate({tag:"div"}),this.content.add(T),this.registerChild(T)}}_removePanels(a){for(;a--;){const T=this.content.last;this.content.remove(T),this.deregisterChild(T),T.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:a,left:T}=this._balloonPanelView,{width:X,height:be}=new V.UL(this._balloonPanelView.element);Object.assign(this,{top:a,left:T,width:X,height:be})}}}var zn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),eo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(zn.Z,eo),zn.Z.locals;const wn=(0,V.nn)("px");class kn extends d{constructor(a){super(a);const T=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new w({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:T.to("isSticky",X=>X?"block":"none"),height:T.to("isSticky",X=>X?wn(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new w({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",T.if("isSticky","ck-sticky-panel__content_sticky"),T.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:T.to("isSticky",X=>X?wn(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:T.to("_stickyTopOffset",X=>X&&wn(X)),bottom:T.to("_stickyBottomOffset",X=>X&&wn(X)),marginLeft:T.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(V.global.document,"scroll",(a,T)=>{this.checkIfShouldBeSticky(T.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(a){if(!this.limiterElement||!this.isActive)return void this._unstick();const T=(0,V.hI)(this.limiterElement);if(a&&!T.includes(a))return;const X=(0,V.D_)(T,this.viewportTopOffset),be=new V.UL(this.limiterElement);if(X&&be.top<X.top){const je=be.getIntersection(X);if(je){const Xe=X.top;if(Xe+this._contentPanelRect.height+this.limiterBottomOffset>je.bottom){const at=Math.max(be.bottom-X.bottom,0)+this.limiterBottomOffset;be.bottom-at>be.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(at):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<be.height?this._stickToTopOfAncestors(Xe):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(a){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=a,this._stickyBottomOffset=null,this._marginLeft=wn(-V.global.window.scrollX)}_stickToBottomOfLimiter(a){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=a,this._marginLeft=wn(-V.global.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new V.UL(this._contentPanel)}}const ho=(0,V.nn)("px");class No extends Pe.Sy{constructor(a){super(a),this._resizeObserver=null,this._balloonConfig=se(a.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new V.Rh,a.ui.once("ready",()=>{this.focusTracker.add(a.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),a.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=a.plugins.get(uo),this._fireSelectionChangeDebounced=(0,Bi.Z)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get requires(){return[uo]}init(){const a=this.editor,T=a.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(X,be,je)=>{const Xe=this._balloon.visibleView===this.toolbarView;!je&&Xe?this.hide():je&&this.show()}),this.listenTo(T,"change:range",(X,be)=>{(be.directChange||T.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(a,"ready",()=>{const X=a.ui.view.editable.element;this._resizeObserver=new V.do(X,be=>{this.toolbarView.maxWidth=ho(.9*be.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const a=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,a)}_createToolbarView(){const a=this.editor.locale.t,T=!this._balloonConfig.shouldNotGroupWhenFull,X=new fi(this.editor.locale,{shouldGroupWhenFull:T,isFloating:!0});return X.ariaLabel=a("Editor contextual toolbar"),X.render(),X}show(a=!1){const T=this.editor,X=T.model.document.selection,be=T.model.schema;this._balloon.hasView(this.toolbarView)||X.isCollapsed&&!a||function(je,Xe){return je.rangeCount===1?!1:[...je.getRanges()].every(at=>{const Rt=at.getContainedElement();return Rt&&Xe.isSelectable(Rt)})}(X,be)||Array.from(this.toolbarView.items).every(je=>je.isEnabled!==void 0&&!je.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const a=this.editor.editing.view,T=a.document,X=T.selection,be=T.selection.isBackward;return{target:()=>{const je=be?X.getFirstRange():X.getLastRange(),Xe=V.UL.getDomRangeRects(a.domConverter.viewRangeToDom(je));return be?Xe[0]:(Xe.length>1&&Xe[Xe.length-1].width===0&&Xe.pop(),Xe[Xe.length-1])},positions:this._getBalloonPositions(be)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(a){const T=V.OB.isSafari&&V.OB.isiOS?Uo({heightOffset:Math.max(Tn.arrowHeightOffset,Math.round(20/V.global.window.visualViewport.scale))}):Tn.defaultPositions;return a?[T.northWestArrowSouth,T.northWestArrowSouthWest,T.northWestArrowSouthEast,T.northWestArrowSouthMiddleEast,T.northWestArrowSouthMiddleWest,T.southWestArrowNorth,T.southWestArrowNorthWest,T.southWestArrowNorthEast,T.southWestArrowNorthMiddleWest,T.southWestArrowNorthMiddleEast]:[T.southEastArrowNorth,T.southEastArrowNorthEast,T.southEastArrowNorthWest,T.southEastArrowNorthMiddleEast,T.southEastArrowNorthMiddleWest,T.northEastArrowSouth,T.northEastArrowSouthEast,T.northEastArrowSouthWest,T.northEastArrowSouthMiddleEast,T.northEastArrowSouthMiddleWest]}}var ur=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),xr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ur.Z,xr),ur.Z.locals;const wr=(0,V.nn)("px");class Cr extends we{constructor(a){super(a);const T=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:T.to("top",X=>wr(X)),left:T.to("left",X=>wr(X))}}})}}const So=(0,V.nn)("px"),{pilcrow:Jo}=Pe.icons;class Tr extends Pe.Sy{constructor(a){super(a),this._resizeObserver=null,this._blockToolbarConfig=se(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),c({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}init(){const a=this.editor;this.listenTo(a.model.document.selection,"change:range",(T,X)=>{X.directChange&&this._hidePanel()}),this.listenTo(a.ui,"update",()=>this._updateButton()),this.listenTo(a,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(a.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(T,X,be)=>{be?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),a.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const a of this.toolbarView.items)a.on("execute",()=>this._hidePanel(!0),{priority:"high"})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const a=this.editor.locale.t,T=!this._blockToolbarConfig.shouldNotGroupWhenFull,X=new fi(this.editor.locale,{shouldGroupWhenFull:T,isFloating:!0});return X.ariaLabel=a("Editor block content toolbar"),X}_createPanelView(){const a=this.editor,T=new Tn(a.locale);return T.content.add(this.toolbarView),T.class="ck-toolbar-container",a.ui.view.body.add(T),a.ui.focusTracker.add(T.element),this.toolbarView.keystrokes.set("Esc",(X,be)=>{this._hidePanel(!0),be()}),T}_createButtonView(){const a=this.editor,T=a.t,X=new Cr(a.locale);return X.set({label:T("Edit block"),icon:Jo,withText:!1}),X.bind("isOn").to(this.panelView,"isVisible"),X.bind("tooltip").to(this.panelView,"isVisible",be=>!be),this.listenTo(X,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),a.ui.view.body.add(X),a.ui.focusTracker.add(X.element),X}_updateButton(){const a=this.editor,T=a.model,X=a.editing.view;if(!a.ui.focusTracker.isFocused)return void this._hideButton();if(!a.model.canEditAt(a.model.document.selection))return void this._hideButton();const be=Array.from(T.document.selection.getSelectedBlocks())[0];if(!be||Array.from(this.toolbarView.items).every(Xe=>!Xe.isEnabled))return void this._hideButton();const je=X.domConverter.mapViewToDom(a.editing.mapper.toViewElement(be));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(je),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const a=this.panelView.isVisible;this.panelView.show();const T=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(T),this.panelView.pin({target:this.buttonView.element,limiter:T}),a||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const a=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(a)}_hidePanel(a){this.panelView.isVisible=!1,a&&this.editor.editing.view.focus()}_attachButtonToElement(a){const T=window.getComputedStyle(a),X=new V.UL(this._getSelectedEditableElement()),be=parseInt(T.paddingTop,10),je=parseInt(T.lineHeight,10)||1.2*parseInt(T.fontSize,10),Xe=(0,V.xZ)({element:this.buttonView.element,target:a,positions:[(at,Rt)=>{let vi;return vi=this.editor.locale.uiLanguageDirection==="ltr"?X.left-Rt.width:X.right,{top:at.top+be+(je-Rt.height)/2,left:vi}}]});this.buttonView.top=Xe.top,this.buttonView.left=Xe.left}_setupToolbarResize(){const a=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==a&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new V.do(a,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(a)})))}_getToolbarMaxWidth(a){const T=new V.UL(a),X=new V.UL(this.buttonView.element),be=this.editor.locale.uiLanguageDirection==="rtl"?X.left-T.right+X.width:T.left-X.left;return So(T.width+be)}}const Ar={colorPaletteIcon:vt}},"./packages/ckeditor5-utils/src/ckeditorerror.ts":(v,A,l)=>{"use strict";l.d(A,{H:()=>y,KE:()=>z,ZP:()=>L});const c="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(J,Y,le){super(function(q,d){const b=new WeakSet,_=(C,S)=>{if(typeof S=="object"&&S!==null){if(b.has(S))return`[object ${S.constructor.name}]`;b.add(S)}return S},w=d?` ${JSON.stringify(d,_)}`:"",E=h(q);return q+w+E}(J,le)),this.name="CKEditorError",this.context=Y,this.data=le}is(J){return J==="CKEditorError"}static rethrowUnexpectedError(J,Y){if(J.is&&J.is("CKEditorError"))throw J;const le=new L(J.message,Y);throw le.stack=J.stack,le}}function z($,J){console.warn(...V($,J))}function y($,J){console.error(...V($,J))}function h($){return`
Read more: ${c}#error-${$}`}function V($,J){const Y=h($);return J?[$,J,Y]:[$,Y]}},"./packages/ckeditor5-utils/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{Bb:()=>S.ZP,FE:()=>ai,De:()=>Li,Xu:()=>ue,a6:()=>Be,ln:()=>R,M3:()=>d,Rh:()=>hi,VD:()=>ri,go:()=>qt,Re:()=>mt,UL:()=>li,do:()=>ee,Rt:()=>Fe,QX:()=>Ge,az:()=>yt,gw:()=>yn,Hg:()=>J,Pk:()=>Y,OB:()=>z,HZ:()=>h,wm:()=>bt,Ps:()=>ki,dk:()=>At,Cq:()=>It,yy:()=>he,D_:()=>Ui,XU:()=>Ee,j9:()=>Nt,mA:()=>$e,xZ:()=>Ti,hI:()=>ji,global:()=>tt,cq:()=>Ct,ZQ:()=>Ht,VG:()=>E,dj:()=>Ue,tO:()=>Un,C3:()=>wt,Zt:()=>dt,Cb:()=>Nn,pp:()=>Bn,YK:()=>ze,to:()=>Sn,TW:()=>Ve,nA:()=>jn,UG:()=>xi,bR:()=>xt,Gs:()=>ni,$b:()=>zt,pn:()=>fi,Do:()=>Xi,H:()=>S.H,KE:()=>S.KE,CD:()=>le,Zz:()=>te,tA:()=>w,Dm:()=>C.D,Od:()=>Ae,F0:()=>it,mR:()=>Ye,jS:()=>se,x:()=>bn,qo:()=>Et,qL:()=>Ii,nn:()=>Pe,hQ:()=>_,Tx:()=>Rn,i8:()=>C.Z});const c=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var L;const z={isMac:y(c),isWindows:(L=c,L.indexOf("windows")>-1),isGecko:function(g){return!!g.match(/gecko\/\d+/)}(c),isSafari:function(g){return g.indexOf(" applewebkit/")>-1&&g.indexOf("chrome")===-1}(c),isiOS:function(g){return!!g.match(/iphone|ipad/i)||y(g)&&navigator.maxTouchPoints>0}(c),isAndroid:function(g){return g.indexOf("android")>-1}(c),isBlink:function(g){return g.indexOf("chrome/")>-1&&g.indexOf("edge/")<0}(c),features:{isRegExpUnicodePropertySupported:function(){let g=!1;try{g="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return g}()}};function y(g){return g.indexOf("macintosh")>-1}function h(g,u,x,F){x=x||function(Le,De){return Le===De};const K=Array.isArray(g)?g:Array.prototype.slice.call(g),ce=Array.isArray(u)?u:Array.prototype.slice.call(u),fe=function(Le,De,He){const Qe=V(Le,De,He);if(Qe===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const _t=$(Le,Qe),Pt=$(De,Qe),vt=V(_t,Pt,He),Gt=Le.length-vt,ui=De.length-vt;return{firstIndex:Qe,lastIndexOld:Gt,lastIndexNew:ui}}(K,ce,x);return F?function(Le,De){const{firstIndex:He,lastIndexOld:Qe,lastIndexNew:_t}=Le;if(He===-1)return Array(De).fill("equal");let Pt=[];return He>0&&(Pt=Pt.concat(Array(He).fill("equal"))),_t-He>0&&(Pt=Pt.concat(Array(_t-He).fill("insert"))),Qe-He>0&&(Pt=Pt.concat(Array(Qe-He).fill("delete"))),_t<De&&(Pt=Pt.concat(Array(De-_t).fill("equal"))),Pt}(fe,ce.length):function(Le,De){const He=[],{firstIndex:Qe,lastIndexOld:_t,lastIndexNew:Pt}=De;return Pt-Qe>0&&He.push({index:Qe,type:"insert",values:Le.slice(Qe,Pt)}),_t-Qe>0&&He.push({index:Qe+(Pt-Qe),type:"delete",howMany:_t-Qe}),He}(ce,fe)}function V(g,u,x){for(let F=0;F<Math.max(g.length,u.length);F++)if(g[F]===void 0||u[F]===void 0||!x(g[F],u[F]))return F;return-1}function $(g,u){return g.slice(u).reverse()}function J(g,u,x){x=x||function(Gt,ui){return Gt===ui};const F=g.length,K=u.length;if(F>200||K>200||F+K>300)return J.fastDiff(g,u,x,!0);let ce,fe;if(K<F){const Gt=g;g=u,u=Gt,ce="delete",fe="insert"}else ce="insert",fe="delete";const Se=g.length,Le=u.length,De=Le-Se,He={},Qe={};function _t(Gt){const ui=(Qe[Gt-1]!==void 0?Qe[Gt-1]:-1)+1,Pi=Qe[Gt+1]!==void 0?Qe[Gt+1]:-1,Wi=ui>Pi?-1:1;He[Gt+Wi]&&(He[Gt]=He[Gt+Wi].slice(0)),He[Gt]||(He[Gt]=[]),He[Gt].push(ui>Pi?ce:fe);let Ki=Math.max(ui,Pi),nn=Ki-Gt;for(;nn<Se&&Ki<Le&&x(g[nn],u[Ki]);)nn++,Ki++,He[Gt].push("equal");return Ki}let Pt,vt=0;do{for(Pt=-vt;Pt<De;Pt++)Qe[Pt]=_t(Pt);for(Pt=De+vt;Pt>De;Pt--)Qe[Pt]=_t(Pt);Qe[De]=_t(De),vt++}while(Qe[De]!==Le);return He[De].slice(1)}function Y(g,u){const x=[];let F=0,K=null;return g.forEach(fe=>{fe=="equal"?(ce(),F++):fe=="insert"?(K&&K.type=="insert"?K.values.push(u[F]):(ce(),K={type:"insert",index:F,values:[u[F]]}),F++):K&&K.type=="delete"?K.howMany++:(ce(),K={type:"delete",index:F,howMany:1})}),ce(),x;function ce(){K&&(x.push(K),K=null)}}function le(g,...u){u.forEach(x=>{const F=Object.getOwnPropertyNames(x),K=Object.getOwnPropertySymbols(x);F.concat(K).forEach(ce=>{if(ce in g.prototype||typeof x=="function"&&(ce=="length"||ce=="name"||ce=="prototype"))return;const fe=Object.getOwnPropertyDescriptor(x,ce);fe.enumerable=!1,Object.defineProperty(g.prototype,ce,fe)})})}J.fastDiff=h;const q=function(){return function g(){g.called=!0}};class d{constructor(u,x){this.source=u,this.name=x,this.path=[],this.stop=q(),this.off=q()}}const b=new Array(256).fill("").map((g,u)=>("0"+u.toString(16)).slice(-2));function _(){const g=4294967296*Math.random()>>>0,u=4294967296*Math.random()>>>0,x=4294967296*Math.random()>>>0,F=4294967296*Math.random()>>>0;return"e"+b[g>>0&255]+b[g>>8&255]+b[g>>16&255]+b[g>>24&255]+b[u>>0&255]+b[u>>8&255]+b[u>>16&255]+b[u>>24&255]+b[x>>0&255]+b[x>>8&255]+b[x>>16&255]+b[x>>24&255]+b[F>>0&255]+b[F>>8&255]+b[F>>16&255]+b[F>>24&255]}const w={get(g="normal"){return typeof g!="number"?this[g]||this.normal:g},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function E(g,u){const x=w.get(u.priority);for(let F=0;F<g.length;F++)if(w.get(g[F].priority)<x)return void g.splice(F,0,u);g.push(u)}var C=l("./packages/ckeditor5-utils/src/version.ts"),S=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const ne=Symbol("listeningTo"),U=Symbol("emitterId"),D=Symbol("delegations"),f=R(Object);function R(g){return g?class extends g{on(u,x,F){this.listenTo(this,u,x,F)}once(u,x,F){let K=!1;this.listenTo(this,u,(ce,...fe)=>{K||(K=!0,ce.off(),x.call(this,ce,...fe))},F)}off(u,x){this.stopListening(this,u,x)}listenTo(u,x,F,K={}){let ce,fe;this[ne]||(this[ne]={});const Se=this[ne];N(u)||W(u);const Le=N(u);(ce=Se[Le])||(ce=Se[Le]={emitter:u,callbacks:{}}),(fe=ce.callbacks[x])||(fe=ce.callbacks[x]=[]),fe.push(F),function(De,He,Qe,_t,Pt){He._addEventListener?He._addEventListener(Qe,_t,Pt):De._addEventListener.call(He,Qe,_t,Pt)}(this,u,x,F,K)}stopListening(u,x,F){const K=this[ne];let ce=u&&N(u);const fe=K&&ce?K[ce]:void 0,Se=fe&&x?fe.callbacks[x]:void 0;if(!(!K||u&&!fe||x&&!Se))if(F)Re(this,u,x,F),Se.indexOf(F)!==-1&&(Se.length===1?delete fe.callbacks[x]:Re(this,u,x,F));else if(Se){for(;F=Se.pop();)Re(this,u,x,F);delete fe.callbacks[x]}else if(fe){for(x in fe.callbacks)this.stopListening(u,x);delete K[ce]}else{for(ce in K)this.stopListening(K[ce].emitter);delete this[ne]}}fire(u,...x){try{const F=u instanceof d?u:new d(this,u),K=F.name;let ce=Oe(this,K);if(F.path.push(this),ce){const Se=[F,...x];ce=Array.from(ce);for(let Le=0;Le<ce.length&&(ce[Le].callback.apply(this,Se),F.off.called&&(delete F.off.called,this._removeEventListener(K,ce[Le].callback)),!F.stop.called);Le++);}const fe=this[D];if(fe){const Se=fe.get(K),Le=fe.get("*");Se&&xe(Se,F,x),Le&&xe(Le,F,x)}return F.return}catch(F){S.ZP.rethrowUnexpectedError(F,this)}}delegate(...u){return{to:(x,F)=>{this[D]||(this[D]=new Map),u.forEach(K=>{const ce=this[D].get(K);ce?ce.set(x,F):this[D].set(K,new Map([[x,F]]))})}}}stopDelegating(u,x){if(this[D])if(u)if(x){const F=this[D].get(u);F&&F.delete(x)}else this[D].delete(u);else this[D].clear()}_addEventListener(u,x,F){(function(fe,Se){const Le=oe(fe);if(Le[Se])return;let De=Se,He=null;const Qe=[];for(;De!==""&&!Le[De];)Le[De]={callbacks:[],childEvents:[]},Qe.push(Le[De]),He&&Le[De].childEvents.push(He),He=De,De=De.substr(0,De.lastIndexOf(":"));if(De!==""){for(const _t of Qe)_t.callbacks=Le[De].callbacks.slice();Le[De].childEvents.push(He)}})(this,u);const K=Te(this,u),ce={callback:x,priority:w.get(F.priority)};for(const fe of K)E(fe,ce)}_removeEventListener(u,x){const F=Te(this,u);for(const K of F)for(let ce=0;ce<K.length;ce++)K[ce].callback==x&&(K.splice(ce,1),ce--)}}:f}function W(g,u){g[U]||(g[U]=u||_())}function N(g){return g[U]}function oe(g){return g._events||Object.defineProperty(g,"_events",{value:{}}),g._events}function Te(g,u){const x=oe(g)[u];if(!x)return[];let F=[x.callbacks];for(let K=0;K<x.childEvents.length;K++){const ce=Te(g,x.childEvents[K]);F=F.concat(ce)}return F}function Oe(g,u){let x;return g._events&&(x=g._events[u])&&x.callbacks.length?x.callbacks:u.indexOf(":")>-1?Oe(g,u.substr(0,u.lastIndexOf(":"))):null}function xe(g,u,x){for(let[F,K]of g){K?typeof K=="function"&&(K=K(u.name)):K=u.name;const ce=new d(u.source,K);ce.path=[...u.path],F.fire(ce,...x)}}function Re(g,u,x,F){u._removeEventListener?u._removeEventListener(x,F):g._removeEventListener.call(u,x,F)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(g=>{R[g]=f.prototype[g]});var lt=l("./node_modules/lodash-es/isObject.js");const rt=Symbol("observableProperties"),ct=Symbol("boundObservables"),st=Symbol("boundProperties"),kt=Symbol("decoratedMethods"),pt=Symbol("decoratedOriginal"),Ze=mt(R());function mt(g){return g?class extends g{set(u,x){if((0,lt.Z)(u))return void Object.keys(u).forEach(K=>{this.set(K,u[K])},this);qe(this);const F=this[rt];if(u in this&&!F.has(u))throw new S.ZP("observable-set-cannot-override",this);Object.defineProperty(this,u,{enumerable:!0,configurable:!0,get:()=>F.get(u),set(K){const ce=F.get(u);let fe=this.fire(`set:${u}`,u,K,ce);fe===void 0&&(fe=K),ce===fe&&F.has(u)||(F.set(u,fe),this.fire(`change:${u}`,u,fe,ce))}}),this[u]=x}bind(...u){if(!u.length||!de(u))throw new S.ZP("observable-bind-wrong-properties",this);if(new Set(u).size!==u.length)throw new S.ZP("observable-bind-duplicate-properties",this);qe(this);const x=this[st];u.forEach(K=>{if(x.has(K))throw new S.ZP("observable-bind-rebind",this)});const F=new Map;return u.forEach(K=>{const ce={property:K,to:[]};x.set(K,ce),F.set(K,ce)}),{to:et,toMany:Q,_observable:this,_bindProperties:u,_to:[],_bindings:F}}unbind(...u){if(!this[rt])return;const x=this[st],F=this[ct];if(u.length){if(!de(u))throw new S.ZP("observable-unbind-wrong-properties",this);u.forEach(K=>{const ce=x.get(K);ce&&(ce.to.forEach(([fe,Se])=>{const Le=F.get(fe),De=Le[Se];De.delete(ce),De.size||delete Le[Se],Object.keys(Le).length||(F.delete(fe),this.stopListening(fe,"change"))}),x.delete(K))})}else F.forEach((K,ce)=>{this.stopListening(ce,"change")}),F.clear(),x.clear()}decorate(u){qe(this);const x=this[u];if(!x)throw new S.ZP("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:u});this.on(u,(F,K)=>{F.return=x.apply(this,K)}),this[u]=function(...F){return this.fire(u,F)},this[u][pt]=x,this[kt]||(this[kt]=[]),this[kt].push(u)}stopListening(u,x,F){if(!u&&this[kt]){for(const K of this[kt])this[K]=this[K][pt];delete this[kt]}super.stopListening(u,x,F)}}:Ze}function qe(g){g[rt]||(Object.defineProperty(g,rt,{value:new Map}),Object.defineProperty(g,ct,{value:new Map}),Object.defineProperty(g,st,{value:new Map}))}function et(...g){const u=function(...ce){if(!ce.length)throw new S.ZP("observable-bind-to-parse-error",null);const fe={to:[]};let Se;return typeof ce[ce.length-1]=="function"&&(fe.callback=ce.pop()),ce.forEach(Le=>{if(typeof Le=="string")Se.properties.push(Le);else{if(typeof Le!="object")throw new S.ZP("observable-bind-to-parse-error",null);Se={observable:Le,properties:[]},fe.to.push(Se)}}),fe}(...g),x=Array.from(this._bindings.keys()),F=x.length;if(!u.callback&&u.to.length>1)throw new S.ZP("observable-bind-to-no-callback",this);if(F>1&&u.callback)throw new S.ZP("observable-bind-to-extra-callback",this);var K;u.to.forEach(ce=>{if(ce.properties.length&&ce.properties.length!==F)throw new S.ZP("observable-bind-to-properties-length",this);ce.properties.length||(ce.properties=this._bindProperties)}),this._to=u.to,u.callback&&(this._bindings.get(x[0]).callback=u.callback),K=this._observable,this._to.forEach(ce=>{const fe=K[ct];let Se;fe.get(ce.observable)||K.listenTo(ce.observable,"change",(Le,De)=>{Se=fe.get(ce.observable)[De],Se&&Se.forEach(He=>{we(K,He.property)})})}),function(ce){let fe;ce._bindings.forEach((Se,Le)=>{ce._to.forEach(De=>{fe=De.properties[Se.callback?0:ce._bindProperties.indexOf(Le)],Se.to.push([De.observable,fe]),function(He,Qe,_t,Pt){const vt=He[ct],Gt=vt.get(_t),ui=Gt||{};ui[Pt]||(ui[Pt]=new Set),ui[Pt].add(Qe),Gt||vt.set(_t,ui)}(ce._observable,Se,De.observable,fe)})})}(this),this._bindProperties.forEach(ce=>{we(this._observable,ce)})}function Q(g,u,x){if(this._bindings.size>1)throw new S.ZP("observable-bind-to-many-not-one-binding",this);this.to(...function(F,K){const ce=F.map(fe=>[fe,K]);return Array.prototype.concat.apply([],ce)}(g,u),x)}function de(g){return g.every(u=>typeof u=="string")}function we(g,u){const x=g[st].get(u);let F;x.callback?F=x.callback.apply(g,x.to.map(K=>K[0][K[1]])):(F=x.to[0],F=F[0][F[1]]),Object.prototype.hasOwnProperty.call(g,u)?g[u]=F:g.set(u,F)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(g=>{mt[g]=Ze.prototype[g]});class Be{constructor(){this._replacedElements=[]}replace(u,x){this._replacedElements.push({element:u,newElement:x}),u.style.display="none",x&&u.parentNode.insertBefore(x,u.nextSibling)}restore(){this._replacedElements.forEach(({element:u,newElement:x})=>{u.style.display="",x&&x.remove()}),this._replacedElements=[]}}function Ge(g){let u=0;for(const x of g)u++;return u}function Fe(g,u){const x=Math.min(g.length,u.length);for(let F=0;F<x;F++)if(g[F]!=u[F])return F;return g.length==u.length?"same":g.length<u.length?"prefix":"extension"}function Ve(g){return!(!g||!g[Symbol.iterator])}var ut=l("./node_modules/lodash-es/_baseGetTag.js"),St=l("./node_modules/lodash-es/isArray.js"),Lt=l("./node_modules/lodash-es/isObjectLike.js");const Qt=function(g){return typeof g=="string"||!(0,St.Z)(g)&&(0,Lt.Z)(g)&&(0,ut.Z)(g)=="[object String]"};function yt(g,u,x={},F=[]){const K=x&&x.xmlns,ce=K?g.createElementNS(K,u):g.createElement(u);for(const fe in x)ce.setAttribute(fe,x[fe]);!Qt(F)&&Ve(F)||(F=[F]);for(let fe of F)Qt(fe)&&(fe=g.createTextNode(fe)),ce.appendChild(fe);return ce}var Tt=l("./node_modules/lodash-es/isPlainObject.js"),mi=l("./node_modules/lodash-es/cloneDeepWith.js"),pi=l("./node_modules/lodash-es/isElement.js");class Li{constructor(u,x){this._config={},x&&this.define(Ei(x)),u&&this._setObjectToTarget(this._config,u)}set(u,x){this._setToTarget(this._config,u,x)}define(u,x){this._setToTarget(this._config,u,x,!0)}get(u){return this._getFromSource(this._config,u)}*names(){for(const u of Object.keys(this._config))yield u}_setToTarget(u,x,F,K=!1){if((0,Tt.Z)(x))return void this._setObjectToTarget(u,x,K);const ce=x.split(".");x=ce.pop();for(const fe of ce)(0,Tt.Z)(u[fe])||(u[fe]={}),u=u[fe];if((0,Tt.Z)(F))return(0,Tt.Z)(u[x])||(u[x]={}),u=u[x],void this._setObjectToTarget(u,F,K);K&&u[x]!==void 0||(u[x]=F)}_getFromSource(u,x){const F=x.split(".");x=F.pop();for(const K of F){if(!(0,Tt.Z)(u[K])){u=null;break}u=u[K]}return u?Ei(u[x]):void 0}_setObjectToTarget(u,x,F){Object.keys(x).forEach(K=>{this._setToTarget(u,K,x[K],F)})}}function Ei(g){return(0,mi.Z)(g,Ni)}function Ni(g){return(0,pi.Z)(g)?g:void 0}function xi(g){if(g){if(g.defaultView)return g instanceof g.defaultView.Document;if(g.ownerDocument&&g.ownerDocument.defaultView)return g instanceof g.ownerDocument.defaultView.Node}return!1}function Bi(g){const u=Object.prototype.toString.apply(g);return u=="[object Window]"||u=="[object global]"}const nt=ue(R());function ue(g){return g?class extends g{listenTo(u,x,F,K={}){if(xi(u)||Bi(u)){const ce={capture:!!K.useCapture,passive:!!K.usePassive},fe=this._getProxyEmitter(u,ce)||new _e(u,ce);this.listenTo(fe,x,F,K)}else super.listenTo(u,x,F,K)}stopListening(u,x,F){if(xi(u)||Bi(u)){const K=this._getAllProxyEmitters(u);for(const ce of K)this.stopListening(ce,x,F)}else super.stopListening(u,x,F)}_getProxyEmitter(u,x){return function(F,K){const ce=F[ne];return ce&&ce[K]?ce[K].emitter:null}(this,Ie(u,x))}_getAllProxyEmitters(u){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(x=>this._getProxyEmitter(u,x)).filter(x=>!!x)}}:nt}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(g=>{ue[g]=nt.prototype[g]});class _e extends R(){constructor(u,x){super(),W(this,Ie(u,x)),this._domNode=u,this._options=x}attach(u){if(this._domListeners&&this._domListeners[u])return;const x=this._createDomListener(u);this._domNode.addEventListener(u,x,this._options),this._domListeners||(this._domListeners={}),this._domListeners[u]=x}detach(u){let x;!this._domListeners[u]||(x=this._events[u])&&x.callbacks.length||this._domListeners[u].removeListener()}_addEventListener(u,x,F){this.attach(u),R().prototype._addEventListener.call(this,u,x,F)}_removeEventListener(u,x){R().prototype._removeEventListener.call(this,u,x),this.detach(u)}_createDomListener(u){const x=F=>{this.fire(u,F)};return x.removeListener=()=>{this._domNode.removeEventListener(u,x,this._options),delete this._domListeners[u]},x}}function Ie(g,u){let x=function(F){return F["data-ck-expando"]||(F["data-ck-expando"]=_())}(g);for(const F of Object.keys(u).sort())u[F]&&(x+="-"+F);return x}let We;try{We={window,document}}catch{We={window:{},document:{}}}const tt=We;function bt(g){let u=g.parentElement;if(!u)return null;for(;u.tagName!="BODY";){const x=u.style.overflowY||tt.window.getComputedStyle(u).overflowY;if(x==="auto"||x==="scroll")break;if(u=u.parentElement,!u)return null}return u}function At(g){const u=[];let x=g;for(;x&&x.nodeType!=Node.DOCUMENT_NODE;)u.unshift(x),x=x.parentNode;return u}function xt(g){return Object.prototype.toString.apply(g)=="[object Range]"}function Kt(g){const u=g.ownerDocument.defaultView.getComputedStyle(g);return{top:parseInt(u.borderTopWidth,10),right:parseInt(u.borderRightWidth,10),bottom:parseInt(u.borderBottomWidth,10),left:parseInt(u.borderLeftWidth,10)}}function ni(g){return Object.prototype.toString.call(g)=="[object Text]"}const ei=["top","right","bottom","left","width","height"];class li{constructor(u){const x=xt(u);if(Object.defineProperty(this,"_source",{value:u._source||u,writable:!0,enumerable:!1}),Ri(u)||x)if(x){const F=li.getDomRangeRects(u);Ci(this,li.getBoundingRect(F))}else Ci(this,u.getBoundingClientRect());else if(Bi(u)){const{innerWidth:F,innerHeight:K}=u;Ci(this,{top:0,right:F,bottom:K,left:0,width:F,height:K})}else Ci(this,u)}clone(){return new li(this)}moveTo(u,x){return this.top=x,this.right=u+this.width,this.bottom=x+this.height,this.left=u,this}moveBy(u,x){return this.top+=x,this.right+=u,this.left+=u,this.bottom+=x,this}getIntersection(u){const x={top:Math.max(this.top,u.top),right:Math.min(this.right,u.right),bottom:Math.min(this.bottom,u.bottom),left:Math.max(this.left,u.left),width:0,height:0};return x.width=x.right-x.left,x.height=x.bottom-x.top,x.width<0||x.height<0?null:new li(x)}getIntersectionArea(u){const x=this.getIntersection(u);return x?x.getArea():0}getArea(){return this.width*this.height}getVisible(){const u=this._source;let x=this.clone();if(yi(u))return x;let F,K=u,ce=u.parentNode||u.commonAncestorContainer;for(;ce&&!yi(ce);){if(K instanceof HTMLElement&&qi(K)==="absolute"&&(F=K),F&&(qi(ce)!=="relative"||(fe=ce).ownerDocument.defaultView.getComputedStyle(fe).overflow==="visible")){K=ce,ce=ce.parentNode;continue}const Se=new li(ce),Le=x.getIntersection(Se);if(!Le)return null;Le.getArea()<x.getArea()&&(x=Le),K=ce,ce=ce.parentNode}var fe;return x}isEqual(u){for(const x of ei)if(this[x]!==u[x])return!1;return!0}contains(u){const x=this.getIntersection(u);return!(!x||!x.isEqual(u))}excludeScrollbarsAndBorders(){const u=this._source;let x,F,K;if(Bi(u))x=u.innerWidth-u.document.documentElement.clientWidth,F=u.innerHeight-u.document.documentElement.clientHeight,K=u.getComputedStyle(u.document.documentElement).direction;else{const ce=Kt(u);x=u.offsetWidth-u.clientWidth-ce.left-ce.right,F=u.offsetHeight-u.clientHeight-ce.top-ce.bottom,K=u.ownerDocument.defaultView.getComputedStyle(u).direction,this.left+=ce.left,this.top+=ce.top,this.right-=ce.right,this.bottom-=ce.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=x,K==="ltr"?this.right-=x:this.left+=x,this.height-=F,this.bottom-=F,this}static getDomRangeRects(u){const x=[],F=Array.from(u.getClientRects());if(F.length)for(const K of F)x.push(new li(K));else{let K=u.startContainer;ni(K)&&(K=K.parentNode);const ce=new li(K.getBoundingClientRect());ce.right=ce.left,ce.width=0,x.push(ce)}return x}static getBoundingRect(u){const x={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let F=0;for(const K of u)F++,x.left=Math.min(x.left,K.left),x.top=Math.min(x.top,K.top),x.right=Math.max(x.right,K.right),x.bottom=Math.max(x.bottom,K.bottom);return F==0?null:(x.width=x.right-x.left,x.height=x.bottom-x.top,new li(x))}}function Ci(g,u){for(const x of ei)g[x]=u[x]}function yi(g){return!!Ri(g)&&g===g.ownerDocument.body}function Ri(g){return g!==null&&typeof g=="object"&&g.nodeType===1&&typeof g.getBoundingClientRect=="function"}function qi(g){return g.ownerDocument.defaultView.getComputedStyle(g).position}function Ui(g,u=0){const x=g.map(K=>{if(K instanceof Document){const ce=new li(tt.window);return ce.top+=u,ce.height-=u,ce}return new li(K)});let F=x[0];for(const K of x.slice(1))F&&(F=F.getIntersection(K));return F}function ji(g){const u=[];let x=bt(g);for(;x&&x!==tt.document.body;)u.push(x),x=bt(x);return u.push(tt.document),u}function he(g){return g instanceof HTMLTextAreaElement?g.value:g.innerHTML}const B=class{constructor(g,u){B._observerInstance||B._createObserver(),this._element=g,this._callback=u,B._addElementCallback(g,u),B._observerInstance.observe(g)}get element(){return this._element}destroy(){B._deleteElementCallback(this._element,this._callback)}static _addElementCallback(g,u){B._elementCallbacks||(B._elementCallbacks=new Map);let x=B._elementCallbacks.get(g);x||(x=new Set,B._elementCallbacks.set(g,x)),x.add(u)}static _deleteElementCallback(g,u){const x=B._getElementCallbacks(g);x&&(x.delete(u),x.size||(B._elementCallbacks.delete(g),B._observerInstance.unobserve(g))),B._elementCallbacks&&!B._elementCallbacks.size&&(B._observerInstance=null,B._elementCallbacks=null)}static _getElementCallbacks(g){return B._elementCallbacks?B._elementCallbacks.get(g):null}static _createObserver(){B._observerInstance=new tt.window.ResizeObserver(g=>{for(const u of g){const x=B._getElementCallbacks(u.target);if(x)for(const F of x)F(u)}})}};let ee=B;function se(g,u){g instanceof HTMLTextAreaElement&&(g.value=u),g.innerHTML=u}function Pe(g){return u=>u+g}function Ct(g){let u=0;for(;g.previousSibling;)g=g.previousSibling,u++;return u}function Ht(g,u,x){g.insertBefore(x,g.childNodes[u]||null)}function wt(g){return g&&g.nodeType===Node.COMMENT_NODE}function zt(g){try{tt.document.createAttribute(g)}catch{return!1}return!0}function fi(g){return!!(g&&g.getClientRects&&g.getClientRects().length)}ee._observerInstance=null,ee._elementCallbacks=null;var gi=l("./node_modules/lodash-es/isFunction.js"),Oi=Math.pow;function Ti({element:g,target:u,positions:x,limiter:F,fitInViewport:K,viewportOffsetConfig:ce}){(0,gi.Z)(u)&&(u=u()),(0,gi.Z)(F)&&(F=F());const fe=function(_t){return _t&&_t.parentNode?_t.offsetParent===tt.document.body?null:_t.offsetParent:null}(g),Se=new li(g),Le=new li(u);let De;const He=K&&function(_t){_t=Object.assign({top:0,bottom:0,left:0,right:0},_t);const Pt=new li(tt.window);return Pt.top+=_t.top,Pt.height-=_t.top,Pt.bottom-=_t.bottom,Pt.height-=_t.bottom,Pt}(ce)||null,Qe={targetRect:Le,elementRect:Se,positionedElementAncestor:fe,viewportRect:He};if(F||K){const _t=F&&new li(F).getVisible();Object.assign(Qe,{limiterRect:_t,viewportRect:He}),De=function(Pt,vt){const{elementRect:Gt}=vt,ui=Gt.getArea(),Pi=Pt.map(nn=>new Ut(nn,vt)).filter(nn=>!!nn.name);let Wi=0,Ki=null;for(const nn of Pi){const{limiterIntersectionArea:Wn,viewportIntersectionArea:Pn}=nn;if(Wn===ui)return nn;const qn=Oi(Pn,2)+Oi(Wn,2);qn>Wi&&(Wi=qn,Ki=nn)}return Ki}(x,Qe)||new Ut(x[0],Qe)}else De=new Ut(x[0],Qe);return De}function Yi(g){const{scrollX:u,scrollY:x}=tt.window;return g.clone().moveBy(u,x)}class Ut{constructor(u,x){const F=u(x.targetRect,x.elementRect,x.viewportRect);if(!F)return;const{left:K,top:ce,name:fe,config:Se}=F;this.name=fe,this.config=Se,this._positioningFunctionCorrdinates={left:K,top:ce},this._options=x}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const u=this._options.limiterRect;if(u){const x=this._options.viewportRect;if(!x)return u.getIntersectionArea(this._rect);{const F=u.getIntersection(x);if(F)return F.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const u=this._options.viewportRect;return u?u.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Yi(this._rect),this._options.positionedElementAncestor&&function(u,x){const F=Yi(new li(x)),K=Kt(x);let ce=0,fe=0;ce-=F.left,fe-=F.top,ce+=x.scrollLeft,fe+=x.scrollTop,ce-=K.left,fe-=K.top,u.moveBy(ce,fe)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Ae(g){const u=g.parentNode;u&&u.removeChild(g)}function Ye({target:g,viewportOffset:u=0,ancestorOffset:x=0,alignToTop:F,forceScroll:K}){const ce=wi(g);let fe=ce,Se=null;for(u=function(Le){return typeof Le=="number"?{top:Le,bottom:Le,left:Le,right:Le}:Le}(u);fe;){let Le;Le=Mi(fe==ce?g:Se),Ot({parent:Le,getRect:()=>cn(g,fe),alignToTop:F,ancestorOffset:x,forceScroll:K});const De=cn(g,fe);if(ht({window:fe,rect:De,viewportOffset:u,alignToTop:F,forceScroll:K}),fe.parent!=fe){if(Se=fe.frameElement,fe=fe.parent,!Se)return}else fe=null}}function it(g,u,x){Ot({parent:Mi(g),getRect:()=>new li(g),ancestorOffset:u,limiterElement:x})}function ht({window:g,rect:u,alignToTop:x,forceScroll:F,viewportOffset:K}){const ce=u.clone().moveBy(0,K.bottom),fe=u.clone().moveBy(0,-K.top),Se=new li(g).excludeScrollbarsAndBorders(),Le=x&&F,De=[fe,ce].every(vt=>Se.contains(vt));let{scrollX:He,scrollY:Qe}=g;const _t=He,Pt=Qe;Le?Qe-=Se.top-u.top+K.top:De||(ii(fe,Se)?Qe-=Se.top-u.top+K.top:Xt(ce,Se)&&(Qe+=x?u.top-Se.top-K.top:u.bottom-Se.bottom+K.bottom)),De||(di(u,Se)?He-=Se.left-u.left+K.left:Ai(u,Se)&&(He+=u.right-Se.right+K.right)),He==_t&&Qe===Pt||g.scrollTo(He,Qe)}function Ot({parent:g,getRect:u,alignToTop:x,forceScroll:F,ancestorOffset:K=0,limiterElement:ce}){const fe=wi(g),Se=x&&F;let Le,De,He;const Qe=ce||fe.document.body;for(;g!=Qe;)De=u(),Le=new li(g).excludeScrollbarsAndBorders(),He=Le.contains(De),Se?g.scrollTop-=Le.top-De.top+K:He||(ii(De,Le)?g.scrollTop-=Le.top-De.top+K:Xt(De,Le)&&(g.scrollTop+=x?De.top-Le.top-K:De.bottom-Le.bottom+K)),He||(di(De,Le)?g.scrollLeft-=Le.left-De.left+K:Ai(De,Le)&&(g.scrollLeft+=De.right-Le.right+K)),g=g.parentNode}function Xt(g,u){return g.bottom>u.bottom}function ii(g,u){return g.top<u.top}function di(g,u){return g.left<u.left}function Ai(g,u){return g.right>u.right}function wi(g){return xt(g)?g.startContainer.ownerDocument.defaultView:g.ownerDocument.defaultView}function Mi(g){if(xt(g)){let u=g.commonAncestorContainer;return ni(u)&&(u=u.parentNode),u}return g.parentNode}function cn(g,u){const x=wi(g),F=new li(g);if(x===u)return F;{let K=x;for(;K!=u;){const ce=K.frameElement,fe=new li(ce).excludeScrollbarsAndBorders();F.moveBy(fe.left,fe.top),K=K.parent}}return F}const hn={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},xn={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Xi=function(){const g={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let u=65;u<=90;u++)g[String.fromCharCode(u).toLowerCase()]=u;for(let u=48;u<=57;u++)g[u-48]=u;for(let u=112;u<=123;u++)g["f"+(u-111)]=u;for(const u of"`-=[];',./\\")g[u]=u.charCodeAt(0);return g}(),ln=Object.fromEntries(Object.entries(Xi).map(([g,u])=>[u,g.charAt(0).toUpperCase()+g.slice(1)]));function It(g){let u;if(typeof g=="string"){if(u=Xi[g.toLowerCase()],!u)throw new S.ZP("keyboard-unknown-key",null,{key:g})}else u=g.keyCode+(g.altKey?Xi.alt:0)+(g.ctrlKey?Xi.ctrl:0)+(g.shiftKey?Xi.shift:0)+(g.metaKey?Xi.cmd:0);return u}function te(g){return typeof g=="string"&&(g=function(u){return u.split("+").map(x=>x.trim())}(g)),g.map(u=>typeof u=="string"?function(x){if(x.endsWith("!"))return It(x.slice(0,-1));const F=It(x);return z.isMac&&F==Xi.ctrl?Xi.cmd:F}(u):u).reduce((u,x)=>x+u,0)}function Ee(g){let u=te(g);return Object.entries(z.isMac?hn:xn).reduce((x,[F,K])=>(u&Xi[F]&&(u&=~Xi[F],x+=K),x),"")+(u?ln[u]:"")}function Ue(g){return g==Xi.arrowright||g==Xi.arrowleft||g==Xi.arrowup||g==Xi.arrowdown}function $e(g,u){const x=u==="ltr";switch(g){case Xi.arrowleft:return x?"left":"right";case Xi.arrowright:return x?"right":"left";case Xi.arrowup:return"up";case Xi.arrowdown:return"down"}}function dt(g,u){const x=$e(g,u);return x==="down"||x==="right"}const gt=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Nt(g){return gt.includes(g)?"rtl":"ltr"}function Et(g){return Array.isArray(g)?g:[g]}function Bt(g,u,x=1){if(typeof x!="number")throw new S.ZP("translation-service-quantity-not-a-number",null,{quantity:x});const F=Object.keys(tt.window.CKEDITOR_TRANSLATIONS).length;F===1&&(g=Object.keys(tt.window.CKEDITOR_TRANSLATIONS)[0]);const K=u.id||u.string;if(F===0||!function(Le,De){return!!tt.window.CKEDITOR_TRANSLATIONS[Le]&&!!tt.window.CKEDITOR_TRANSLATIONS[Le].dictionary[De]}(g,K))return x!==1?u.plural:u.string;const ce=tt.window.CKEDITOR_TRANSLATIONS[g].dictionary,fe=tt.window.CKEDITOR_TRANSLATIONS[g].getPluralForm||(Le=>Le===1?0:1),Se=ce[K];return typeof Se=="string"?Se:Se[Number(fe(x))]}tt.window.CKEDITOR_TRANSLATIONS||(tt.window.CKEDITOR_TRANSLATIONS={});class qt{constructor({uiLanguage:u="en",contentLanguage:x}={}){this.uiLanguage=u,this.contentLanguage=x||this.uiLanguage,this.uiLanguageDirection=Nt(this.uiLanguage),this.contentLanguageDirection=Nt(this.contentLanguage),this.t=(F,K)=>this._t(F,K)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(u,x=[]){x=Et(x),typeof u=="string"&&(u={string:u});const F=u.plural?x[0]:1;return function(K,ce){return K.replace(/%(\d+)/g,(fe,Se)=>Se<ce.length?ce[Se]:fe)}(Bt(this.uiLanguage,u,F),x)}}class ai extends R(){constructor(u={},x={}){super();const F=Ve(u);if(F||(x=u),this._items=[],this._itemMap=new Map,this._idProperty=x.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],F)for(const K of u)this._items.push(K),this._itemMap.set(this._getItemIdBeforeAdding(K),K)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(u,x){return this.addMany([u],x)}addMany(u,x){if(x===void 0)x=this._items.length;else if(x>this._items.length||x<0)throw new S.ZP("collection-add-item-invalid-index",this);let F=0;for(const K of u){const ce=this._getItemIdBeforeAdding(K),fe=x+F;this._items.splice(fe,0,K),this._itemMap.set(ce,K),this.fire("add",K,fe),F++}return this.fire("change",{added:u,removed:[],index:x}),this}get(u){let x;if(typeof u=="string")x=this._itemMap.get(u);else{if(typeof u!="number")throw new S.ZP("collection-get-invalid-arg",this);x=this._items[u]}return x||null}has(u){if(typeof u=="string")return this._itemMap.has(u);{const x=u[this._idProperty];return x&&this._itemMap.has(x)}}getIndex(u){let x;return x=typeof u=="string"?this._itemMap.get(u):u,x?this._items.indexOf(x):-1}remove(u){const[x,F]=this._remove(u);return this.fire("change",{added:[],removed:[x],index:F}),x}map(u,x){return this._items.map(u,x)}find(u,x){return this._items.find(u,x)}filter(u,x){return this._items.filter(u,x)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const u=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:u,index:0})}bindTo(u){if(this._bindToCollection)throw new S.ZP("collection-bind-to-rebind",this);return this._bindToCollection=u,{as:x=>{this._setUpBindToBinding(F=>new x(F))},using:x=>{typeof x=="function"?this._setUpBindToBinding(x):this._setUpBindToBinding(F=>F[x])}}}_setUpBindToBinding(u){const x=this._bindToCollection,F=(K,ce,fe)=>{const Se=x._bindToCollection==this,Le=x._bindToInternalToExternalMap.get(ce);if(Se&&Le)this._bindToExternalToInternalMap.set(ce,Le),this._bindToInternalToExternalMap.set(Le,ce);else{const De=u(ce);if(!De)return void this._skippedIndexesFromExternal.push(fe);let He=fe;for(const Qe of this._skippedIndexesFromExternal)fe>Qe&&He--;for(const Qe of x._skippedIndexesFromExternal)He>=Qe&&He++;this._bindToExternalToInternalMap.set(ce,De),this._bindToInternalToExternalMap.set(De,ce),this.add(De,He);for(let Qe=0;Qe<x._skippedIndexesFromExternal.length;Qe++)He<=x._skippedIndexesFromExternal[Qe]&&x._skippedIndexesFromExternal[Qe]++}};for(const K of x)F(0,K,x.getIndex(K));this.listenTo(x,"add",F),this.listenTo(x,"remove",(K,ce,fe)=>{const Se=this._bindToExternalToInternalMap.get(ce);Se&&this.remove(Se),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((Le,De)=>(fe<De&&Le.push(De-1),fe>De&&Le.push(De),Le),[])})}_getItemIdBeforeAdding(u){const x=this._idProperty;let F;if(x in u){if(F=u[x],typeof F!="string")throw new S.ZP("collection-add-invalid-id",this);if(this.get(F))throw new S.ZP("collection-add-item-already-exists",this)}else u[x]=F=_();return F}_remove(u){let x,F,K,ce=!1;const fe=this._idProperty;if(typeof u=="string"?(F=u,K=this._itemMap.get(F),ce=!K,K&&(x=this._items.indexOf(K))):typeof u=="number"?(x=u,K=this._items[x],ce=!K,K&&(F=K[fe])):(K=u,F=K[fe],x=this._items.indexOf(K),ce=x==-1||!this._itemMap.get(F)),ce)throw new S.ZP("collection-remove-404",this);this._items.splice(x,1),this._itemMap.delete(F);const Se=this._bindToInternalToExternalMap.get(K);return this._bindToInternalToExternalMap.delete(K),this._bindToExternalToInternalMap.delete(Se),this.fire("remove",K,x),[K,x]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ki(g){const u=g.next();return u.done?null:u.value}class hi extends ue(mt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(u){if(this._elements.has(u))throw new S.ZP("focustracker-add-element-already-exist",this);this.listenTo(u,"focus",()=>this._focus(u),{useCapture:!0}),this.listenTo(u,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(u)}remove(u){u===this.focusedElement&&this._blur(),this._elements.has(u)&&(this.stopListening(u),this._elements.delete(u))}destroy(){this.stopListening()}_focus(u){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=u,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class ri{constructor(){this._listener=new(ue())}listenTo(u){this._listener.listenTo(u,"keydown",(x,F)=>{this._listener.fire("_keydown:"+It(F),F)})}set(u,x,F={}){const K=te(u),ce=F.priority;this._listener.listenTo(this._listener,"_keydown:"+K,(fe,Se)=>{x(Se,()=>{Se.preventDefault(),Se.stopPropagation(),fe.stop()}),fe.return=!0},{priority:ce})}press(u){return!!this._listener.fire("_keydown:"+It(u),u)}stopListening(u){this._listener.stopListening(u)}destroy(){this.stopListening()}}function Ii(g){return Ve(g)?new Map(g):function(u){const x=new Map;for(const F in u)x.set(F,u[F]);return x}(g)}const Di=1e4;function bn(g,u,x,F){if(Math.max(u.length,g.length)>Di)return g.slice(0,x).concat(u).concat(g.slice(x+F,g.length));{const K=Array.from(g);return K.splice(x,F,...u),K}}function yn(g,u){let x;function F(...K){F.cancel(),x=setTimeout(()=>g(...K),u)}return F.cancel=()=>{clearTimeout(x)},F}function Rn(g){function u(Qe){return Qe.length>=40&&Qe.length<=255?"VALID":"INVALID"}if(!g)return"INVALID";let x="";try{x=atob(g)}catch{return"INVALID"}const F=x.split("-"),K=F[0],ce=F[1];if(!ce)return u(g);try{atob(ce)}catch{try{if(atob(K),!atob(K).length)return u(g)}catch{return u(g)}}if(K.length<40||K.length>255)return"INVALID";let fe="";try{atob(K),fe=atob(ce)}catch{return"INVALID"}if(fe.length!==8)return"INVALID";const Se=Number(fe.substring(0,4)),Le=Number(fe.substring(4,6))-1,De=Number(fe.substring(6,8)),He=new Date(Se,Le,De);return He<C.D||isNaN(Number(He))?"INVALID":"VALID"}function Un(g){return!!g&&g.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(g)}function Nn(g){return!!g&&g.length==1&&/[\ud800-\udbff]/.test(g)}function jn(g){return!!g&&g.length==1&&/[\udc00-\udfff]/.test(g)}function Sn(g,u){return Nn(g.charAt(u-1))&&jn(g.charAt(u))}function Bn(g,u){return Un(g.charAt(u))}const io=function(){const g=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],u=new RegExp("\\p{Regional_Indicator}{2}","u").source,x="(?:"+g.map(F=>F.source).join("|")+")";return new RegExp(`${u}|${x}(?:\u200D${x})*`,"ug")}();function ze(g,u){const x=String(g).matchAll(io);return Array.from(x).some(F=>F.index<u&&u<F.index+F[0].length)}},"./packages/ckeditor5-utils/src/version.ts":(v,A,l)=>{"use strict";l.d(A,{D:()=>y,Z:()=>z});var c=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const L="39.0.2",z=L,y=new Date(2023,8,6);if(globalThis.CKEDITOR_VERSION)throw new c.ZP("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=L},"./packages/ckeditor5-widget/src/index.ts":(v,A,l)=>{"use strict";l.d(A,{s4:()=>d,Uo:()=>b,$L:()=>Q,WR:()=>Bi,e8:()=>we,Ww:()=>kt,KT:()=>f,id:()=>U,Qd:()=>_,em:()=>S,l6:()=>ne,XC:()=>w,sC:()=>D,$n:()=>R});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-engine/src/index.ts"),z=l("./packages/ckeditor5-typing/src/index.ts"),y=l("./packages/ckeditor5-utils/src/index.ts"),h=l("./packages/ckeditor5-ui/src/index.ts"),V=l("./packages/ckeditor5-enter/src/index.ts");class $ extends(0,y.ln)(){constructor(){super(...arguments),this._stack=[]}add(ue,_e){const Ie=this._stack,We=Ie[0];this._insertDescriptor(ue);const tt=Ie[0];We===tt||J(We,tt)||this.fire("change:top",{oldDescriptor:We,newDescriptor:tt,writer:_e})}remove(ue,_e){const Ie=this._stack,We=Ie[0];this._removeDescriptor(ue);const tt=Ie[0];We===tt||J(We,tt)||this.fire("change:top",{oldDescriptor:We,newDescriptor:tt,writer:_e})}_insertDescriptor(ue){const _e=this._stack,Ie=_e.findIndex(tt=>tt.id===ue.id);if(J(ue,_e[Ie]))return;Ie>-1&&_e.splice(Ie,1);let We=0;for(;_e[We]&&Y(_e[We],ue);)We++;_e.splice(We,0,ue)}_removeDescriptor(ue){const _e=this._stack,Ie=_e.findIndex(We=>We.id===ue);Ie>-1&&_e.splice(Ie,1)}}function J(nt,ue){return nt&&ue&&nt.priority==ue.priority&&le(nt.classes)==le(ue.classes)}function Y(nt,ue){return nt.priority>ue.priority||!(nt.priority<ue.priority)&&le(nt.classes)>le(ue.classes)}function le(nt){return Array.isArray(nt)?nt.sort().join(","):nt}const q='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',d="ck-widget",b="ck-widget_selected";function _(nt){return!!nt.is("element")&&!!nt.getCustomProperty("widget")}function w(nt,ue,_e={}){if(!nt.is("containerElement"))throw new y.Bb("widget-to-widget-wrong-element-type",null,{element:nt});return ue.setAttribute("contenteditable","false",nt),ue.addClass(d,nt),ue.setCustomProperty("widget",!0,nt),nt.getFillerOffset=W,ue.setCustomProperty("widgetLabel",[],nt),_e.label&&ne(nt,_e.label),_e.hasSelectionHandle&&function(Ie,We){const tt=We.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(bt){const At=this.toDomElement(bt),xt=new h.mO;return xt.set("content",q),xt.render(),At.appendChild(xt.element),At});We.insert(We.createPositionAt(Ie,0),tt),We.addClass(["ck-widget_with-selection-handle"],Ie)}(nt,ue),S(nt,ue),nt}function E(nt,ue,_e){if(ue.classes&&_e.addClass((0,y.qo)(ue.classes),nt),ue.attributes)for(const Ie in ue.attributes)_e.setAttribute(Ie,ue.attributes[Ie],nt)}function C(nt,ue,_e){if(ue.classes&&_e.removeClass((0,y.qo)(ue.classes),nt),ue.attributes)for(const Ie in ue.attributes)_e.removeAttribute(Ie,nt)}function S(nt,ue,_e=E,Ie=C){const We=new $;We.on("change:top",(tt,bt)=>{bt.oldDescriptor&&Ie(nt,bt.oldDescriptor,bt.writer),bt.newDescriptor&&_e(nt,bt.newDescriptor,bt.writer)}),ue.setCustomProperty("addHighlight",(tt,bt,At)=>We.add(bt,At),nt),ue.setCustomProperty("removeHighlight",(tt,bt,At)=>We.remove(bt,At),nt)}function ne(nt,ue){nt.getCustomProperty("widgetLabel").push(ue)}function U(nt){return nt.getCustomProperty("widgetLabel").reduce((ue,_e)=>typeof _e=="function"?ue?ue+". "+_e():_e():ue?ue+". "+_e:_e,"")}function D(nt,ue,_e={}){return ue.addClass(["ck-editor__editable","ck-editor__nested-editable"],nt),ue.setAttribute("role","textbox",nt),_e.label&&ue.setAttribute("aria-label",_e.label,nt),ue.setAttribute("contenteditable",nt.isReadOnly?"false":"true",nt),nt.on("change:isReadOnly",(Ie,We,tt)=>{ue.setAttribute("contenteditable",tt?"false":"true",nt)}),nt.on("change:isFocused",(Ie,We,tt)=>{tt?ue.addClass("ck-editor__nested-editable_focused",nt):ue.removeClass("ck-editor__nested-editable_focused",nt)}),S(nt,ue),nt}function f(nt,ue){const _e=nt.getSelectedElement();if(_e){const Ie=Te(nt);if(Ie)return ue.createRange(ue.createPositionAt(_e,Ie))}return(0,L.KT)(nt,ue)}function R(nt,ue){return(_e,Ie)=>{const{mapper:We,viewPosition:tt}=Ie,bt=We.findMappedViewAncestor(tt);if(!ue(bt))return;const At=We.toModelElement(bt);Ie.modelPosition=nt.createPositionAt(At,tt.isAtStart?"before":"after")}}function W(){return null}const N="widget-type-around";function oe(nt,ue,_e){return!!nt&&_(nt)&&!_e.isInline(ue)}function Te(nt){return nt.getAttribute(N)}var Oe=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),xe=l.n(Oe),Re=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(Re.Z,lt),Re.Z.locals;const rt=["before","after"],ct=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,st="ck-widget__type-around_disabled";class kt extends c.Sy{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[V.C,z.HG]}init(){const ue=this.editor,_e=ue.editing.view;this.on("change:isEnabled",(Ie,We,tt)=>{_e.change(bt=>{for(const At of _e.document.roots)tt?bt.removeClass(st,At):bt.addClass(st,At)}),tt||ue.model.change(bt=>{bt.removeSelectionAttribute(N)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(ue,_e){const Ie=this.editor,We=Ie.editing.view,tt=Ie.model.schema.getAttributesWithProperty(ue,"copyOnReplace",!0);Ie.execute("insertParagraph",{position:Ie.model.createPositionAt(ue,_e),attributes:tt}),We.focus(),We.scrollToTheSelection()}_listenToIfEnabled(ue,_e,Ie,We){this.listenTo(ue,_e,(...tt)=>{this.isEnabled&&Ie(...tt)},We)}_insertParagraphAccordingToFakeCaretPosition(){const ue=this.editor.model.document.selection,_e=Te(ue);if(!_e)return!1;const Ie=ue.getSelectedElement();return this._insertParagraph(Ie,_e),!0}_enableTypeAroundUIInjection(){const ue=this.editor,_e=ue.model.schema,Ie=ue.locale.t,We={before:Ie("Insert paragraph before block"),after:Ie("Insert paragraph after block")};ue.editing.downcastDispatcher.on("insert",(tt,bt,At)=>{const xt=At.mapper.toViewElement(bt.item);xt&&oe(xt,bt.item,_e)&&(function(Kt,ni,ei){const li=Kt.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Ci){const yi=this.toDomElement(Ci);return function(Ri,qi){for(const Ui of rt){const ji=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ui}`],title:qi[Ui],"aria-hidden":"true"},children:[Ri.ownerDocument.importNode(ct,!0)]});Ri.appendChild(ji.render())}}(yi,ni),function(Ri){const qi=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Ri.appendChild(qi.render())}(yi),yi});Kt.insert(Kt.createPositionAt(ei,"end"),li)}(At.writer,We,xt),xt.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Ie("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const ue=this.editor,_e=ue.model,Ie=_e.document.selection,We=_e.schema,tt=ue.editing.view;function bt(At){return`ck-widget_type-around_show-fake-caret_${At}`}this._listenToIfEnabled(tt.document,"arrowKey",(At,xt)=>{this._handleArrowKeyPress(At,xt)},{context:[_,"$text"],priority:"high"}),this._listenToIfEnabled(Ie,"change:range",(At,xt)=>{xt.directChange&&ue.model.change(Kt=>{Kt.removeSelectionAttribute(N)})}),this._listenToIfEnabled(_e.document,"change:data",()=>{const At=Ie.getSelectedElement();At&&oe(ue.editing.mapper.toViewElement(At),At,We)||ue.model.change(xt=>{xt.removeSelectionAttribute(N)})}),this._listenToIfEnabled(ue.editing.downcastDispatcher,"selection",(At,xt,Kt)=>{const ni=Kt.writer;if(this._currentFakeCaretModelElement){const yi=Kt.mapper.toViewElement(this._currentFakeCaretModelElement);yi&&(ni.removeClass(rt.map(bt),yi),this._currentFakeCaretModelElement=null)}const ei=xt.selection.getSelectedElement();if(!ei)return;const li=Kt.mapper.toViewElement(ei);if(!oe(li,ei,We))return;const Ci=Te(xt.selection);Ci&&(ni.addClass(bt(Ci),li),this._currentFakeCaretModelElement=ei)}),this._listenToIfEnabled(ue.ui.focusTracker,"change:isFocused",(At,xt,Kt)=>{Kt||ue.model.change(ni=>{ni.removeSelectionAttribute(N)})})}_handleArrowKeyPress(ue,_e){const Ie=this.editor,We=Ie.model,tt=We.document.selection,bt=We.schema,At=Ie.editing.view,xt=_e.keyCode,Kt=(0,y.Zt)(xt,Ie.locale.contentLanguageDirection),ni=At.document.selection.getSelectedElement();let ei;oe(ni,Ie.editing.mapper.toModelElement(ni),bt)?ei=this._handleArrowKeyPressOnSelectedWidget(Kt):tt.isCollapsed?ei=this._handleArrowKeyPressWhenSelectionNextToAWidget(Kt):_e.shiftKey||(ei=this._handleArrowKeyPressWhenNonCollapsedSelection(Kt)),ei&&(_e.preventDefault(),ue.stop())}_handleArrowKeyPressOnSelectedWidget(ue){const _e=this.editor.model,Ie=Te(_e.document.selection);return _e.change(We=>Ie?Ie!==(ue?"after":"before")?(We.removeSelectionAttribute(N),!0):!1:(We.setSelectionAttribute(N,ue?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(ue){const _e=this.editor,Ie=_e.model,We=Ie.schema,tt=_e.plugins.get("Widget"),bt=tt._getObjectElementNextToSelection(ue);return!!oe(_e.editing.mapper.toViewElement(bt),bt,We)&&(Ie.change(At=>{tt._setSelectionOverElement(bt),At.setSelectionAttribute(N,ue?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(ue){const _e=this.editor,Ie=_e.model,We=Ie.schema,tt=_e.editing.mapper,bt=Ie.document.selection,At=ue?bt.getLastPosition().nodeBefore:bt.getFirstPosition().nodeAfter;return!!oe(tt.toViewElement(At),At,We)&&(Ie.change(xt=>{xt.setSelection(At,"on"),xt.setSelectionAttribute(N,ue?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const ue=this.editor,_e=ue.editing.view;this._listenToIfEnabled(_e.document,"mousedown",(Ie,We)=>{const tt=We.domTarget.closest(".ck-widget__type-around__button");if(!tt)return;const bt=function(Kt){return Kt.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(tt),At=function(Kt,ni){const ei=Kt.closest(".ck-widget");return ni.mapDomToView(ei)}(tt,_e.domConverter),xt=ue.editing.mapper.toModelElement(At);this._insertParagraph(xt,bt),We.preventDefault(),Ie.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const ue=this.editor,_e=ue.model.document.selection,Ie=ue.editing.view;this._listenToIfEnabled(Ie.document,"enter",(We,tt)=>{if(We.eventPhase!="atTarget")return;const bt=_e.getSelectedElement(),At=ue.editing.mapper.toViewElement(bt),xt=ue.model.schema;let Kt;this._insertParagraphAccordingToFakeCaretPosition()?Kt=!0:oe(At,bt,xt)&&(this._insertParagraph(bt,tt.isSoft?"before":"after"),Kt=!0),Kt&&(tt.preventDefault(),We.stop())},{context:_})}_enableInsertingParagraphsOnTypingKeystroke(){const ue=this.editor.editing.view.document;this._listenToIfEnabled(ue,"insertText",(_e,Ie)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Ie.selection=ue.selection)},{priority:"high"}),y.OB.isAndroid?this._listenToIfEnabled(ue,"keydown",(_e,Ie)=>{Ie.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(ue,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const ue=this.editor,_e=ue.editing.view,Ie=ue.model,We=Ie.schema;this._listenToIfEnabled(_e.document,"delete",(tt,bt)=>{if(tt.eventPhase!="atTarget")return;const At=Te(Ie.document.selection);if(!At)return;const xt=bt.direction,Kt=Ie.document.selection.getSelectedElement(),ni=xt=="forward";if(At==="before"===ni)ue.execute("delete",{selection:Ie.createSelection(Kt,"on")});else{const ei=We.getNearestSelectionRange(Ie.createPositionAt(Kt,At),xt);if(ei)if(ei.isCollapsed){const li=Ie.createSelection(ei.start);if(Ie.modifySelection(li,{direction:xt}),li.focus.isEqual(ei.start)){const Ci=function(yi,Ri){let qi=Ri;for(const Ui of Ri.getAncestors({parentFirst:!0})){if(Ui.childCount>1||yi.isLimit(Ui))break;qi=Ui}return qi}(We,ei.start.parent);Ie.deleteContent(Ie.createSelection(Ci,"on"),{doNotAutoparagraph:!0})}else Ie.change(Ci=>{Ci.setSelection(ei),ue.execute(ni?"deleteForward":"delete")})}else Ie.change(li=>{li.setSelection(ei),ue.execute(ni?"deleteForward":"delete")})}bt.preventDefault(),tt.stop()},{context:_})}_enableInsertContentIntegration(){const ue=this.editor,_e=this.editor.model,Ie=_e.document.selection;this._listenToIfEnabled(ue.model,"insertContent",(We,[tt,bt])=>{if(bt&&!bt.is("documentSelection"))return;const At=Te(Ie);return At?(We.stop(),_e.change(xt=>{const Kt=Ie.getSelectedElement(),ni=_e.createPositionAt(Kt,At),ei=xt.createSelection(ni),li=_e.insertContent(tt,ei);return xt.setSelection(ei),li})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const ue=this.editor,_e=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"insertObject",(Ie,We)=>{const[,tt,bt={}]=We;if(tt&&!tt.is("documentSelection"))return;const At=Te(_e);At&&(bt.findOptimalPosition=At,We[3]=bt)},{priority:"high"})}_enableDeleteContentIntegration(){const ue=this.editor,_e=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"deleteContent",(Ie,[We])=>{We&&!We.is("documentSelection")||Te(_e)&&Ie.stop()},{priority:"high"})}}function pt(nt){const ue=nt.model;return(_e,Ie)=>{const We=Ie.keyCode==y.Do.arrowup,tt=Ie.keyCode==y.Do.arrowdown,bt=Ie.shiftKey,At=ue.document.selection;if(!We&&!tt)return;const xt=tt;if(bt&&function(ni,ei){return!ni.isCollapsed&&ni.isBackward==ei}(At,xt))return;const Kt=function(ni,ei,li){const Ci=ni.model;if(li){const yi=ei.isCollapsed?ei.focus:ei.getLastPosition(),Ri=Ze(Ci,yi,"forward");if(!Ri)return null;const qi=Ci.createRange(yi,Ri),Ui=mt(Ci.schema,qi,"backward");return Ui?Ci.createRange(yi,Ui):null}{const yi=ei.isCollapsed?ei.focus:ei.getFirstPosition(),Ri=Ze(Ci,yi,"backward");if(!Ri)return null;const qi=Ci.createRange(Ri,yi),Ui=mt(Ci.schema,qi,"forward");return Ui?Ci.createRange(Ui,yi):null}}(nt,At,xt);if(Kt){if(Kt.isCollapsed&&(At.isCollapsed||bt))return;(Kt.isCollapsed||function(ni,ei,li){const Ci=ni.model,yi=ni.view.domConverter;if(li){const he=Ci.createSelection(ei.start);Ci.modifySelection(he),he.focus.isAtEnd||ei.start.isEqual(he.focus)||(ei=Ci.createRange(he.focus,ei.end))}const Ri=ni.mapper.toViewRange(ei),qi=yi.viewRangeToDom(Ri),Ui=y.UL.getDomRangeRects(qi);let ji;for(const he of Ui)if(ji!==void 0){if(Math.round(he.top)>=ji)return!1;ji=Math.max(ji,Math.round(he.bottom))}else ji=Math.round(he.bottom);return!0}(nt,Kt,xt))&&(ue.change(ni=>{const ei=xt?Kt.end:Kt.start;if(bt){const li=ue.createSelection(At.anchor);li.setFocus(ei),ni.setSelection(li)}else ni.setSelection(ei)}),_e.stop(),Ie.preventDefault(),Ie.stopPropagation())}}}function Ze(nt,ue,_e){const Ie=nt.schema,We=nt.createRangeIn(ue.root),tt=_e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:bt,item:At,type:xt}of We.getWalker({startPosition:ue,direction:_e})){if(Ie.isLimit(At)&&!Ie.isInline(At))return bt;if(xt==tt&&Ie.isBlock(At))return null}return null}function mt(nt,ue,_e){const Ie=_e=="backward"?ue.end:ue.start;if(nt.checkChild(Ie,"$text"))return Ie;for(const{nextPosition:We}of ue.getWalker({direction:_e}))if(nt.checkChild(We,"$text"))return We;return null}var qe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),et={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(qe.Z,et),qe.Z.locals;class Q extends c.Sy{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[kt,z.HG]}init(){const ue=this.editor,_e=ue.editing.view,Ie=_e.document;this.editor.editing.downcastDispatcher.on("selection",(We,tt,bt)=>{const At=bt.writer,xt=tt.selection;if(xt.isCollapsed)return;const Kt=xt.getSelectedElement();if(!Kt)return;const ni=ue.editing.mapper.toViewElement(Kt);_(ni)&&bt.consumable.consume(xt,"selection")&&At.setSelection(At.createRangeOn(ni),{fake:!0,label:U(ni)})}),this.editor.editing.downcastDispatcher.on("selection",(We,tt,bt)=>{this._clearPreviouslySelectedWidgets(bt.writer);const At=bt.writer,xt=At.document.selection;let Kt=null;for(const ni of xt.getRanges())for(const ei of ni){const li=ei.item;_(li)&&!de(li,Kt)&&(At.addClass(b,li),this._previouslySelected.add(li),Kt=li)}},{priority:"low"}),_e.addObserver(L.dM),this.listenTo(Ie,"mousedown",(...We)=>this._onMousedown(...We)),this.listenTo(Ie,"arrowKey",(...We)=>{this._handleSelectionChangeOnArrowKeyPress(...We)},{context:[_,"$text"]}),this.listenTo(Ie,"arrowKey",(...We)=>{this._preventDefaultOnArrowKeyPress(...We)},{context:"$root"}),this.listenTo(Ie,"arrowKey",pt(this.editor.editing),{context:"$text"}),this.listenTo(Ie,"delete",(We,tt)=>{this._handleDelete(tt.direction=="forward")&&(tt.preventDefault(),We.stop())},{context:"$root"})}_onMousedown(ue,_e){const Ie=this.editor,We=Ie.editing.view,tt=We.document;let bt=_e.target;if(function(xt){let Kt=xt;for(;Kt;){if(Kt.is("editableElement")&&!Kt.is("rootElement"))return!0;if(_(Kt))return!1;Kt=Kt.parent}return!1}(bt)){if((y.OB.isSafari||y.OB.isGecko)&&_e.domEvent.detail>=3){const xt=Ie.editing.mapper,Kt=bt.is("attributeElement")?bt.findAncestor(ei=>!ei.is("attributeElement")):bt,ni=xt.toModelElement(Kt);_e.preventDefault(),this.editor.model.change(ei=>{ei.setSelection(ni,"in")})}return}if(!_(bt)&&(bt=bt.findAncestor(_),!bt))return;y.OB.isAndroid&&_e.preventDefault(),tt.isFocused||We.focus();const At=Ie.editing.mapper.toModelElement(bt);this._setSelectionOverElement(At)}_handleSelectionChangeOnArrowKeyPress(ue,_e){const Ie=_e.keyCode,We=this.editor.model,tt=We.schema,bt=We.document.selection,At=bt.getSelectedElement(),xt=(0,y.mA)(Ie,this.editor.locale.contentLanguageDirection),Kt=xt=="down"||xt=="right",ni=xt=="up"||xt=="down";if(At&&tt.isObject(At)){const li=Kt?bt.getLastPosition():bt.getFirstPosition(),Ci=tt.getNearestSelectionRange(li,Kt?"forward":"backward");return void(Ci&&(We.change(yi=>{yi.setSelection(Ci)}),_e.preventDefault(),ue.stop()))}if(!bt.isCollapsed&&!_e.shiftKey){const li=bt.getFirstPosition(),Ci=bt.getLastPosition(),yi=li.nodeAfter,Ri=Ci.nodeBefore;return void((yi&&tt.isObject(yi)||Ri&&tt.isObject(Ri))&&(We.change(qi=>{qi.setSelection(Kt?Ci:li)}),_e.preventDefault(),ue.stop()))}if(!bt.isCollapsed)return;const ei=this._getObjectElementNextToSelection(Kt);if(ei&&tt.isObject(ei)){if(tt.isInline(ei)&&ni)return;this._setSelectionOverElement(ei),_e.preventDefault(),ue.stop()}}_preventDefaultOnArrowKeyPress(ue,_e){const Ie=this.editor.model,We=Ie.schema,tt=Ie.document.selection.getSelectedElement();tt&&We.isObject(tt)&&(_e.preventDefault(),ue.stop())}_handleDelete(ue){const _e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(_e)||!_e.isCollapsed)return;const Ie=this._getObjectElementNextToSelection(ue);return Ie?(this.editor.model.change(We=>{let tt=_e.anchor.parent;for(;tt.isEmpty;){const bt=tt;tt=bt.parent,We.remove(bt)}this._setSelectionOverElement(Ie)}),!0):void 0}_setSelectionOverElement(ue){this.editor.model.change(_e=>{_e.setSelection(_e.createRangeOn(ue))})}_getObjectElementNextToSelection(ue){const _e=this.editor.model,Ie=_e.schema,We=_e.document.selection,tt=_e.createSelection(We);if(_e.modifySelection(tt,{direction:ue?"forward":"backward"}),tt.isEqual(We))return null;const bt=ue?tt.focus.nodeBefore:tt.focus.nodeAfter;return bt&&Ie.isObject(bt)?bt:null}_clearPreviouslySelectedWidgets(ue){for(const _e of this._previouslySelected)ue.removeClass(b,_e);this._previouslySelected.clear()}}function de(nt,ue){return!!ue&&Array.from(nt.getAncestors()).includes(ue)}class we extends c.Sy{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[h.WB]}static get pluginName(){return"WidgetToolbarRepository"}init(){const ue=this.editor;if(ue.plugins.has("BalloonToolbar")){const _e=ue.plugins.get("BalloonToolbar");this.listenTo(_e,"show",Ie=>{(function(We){const tt=We.getSelectedElement();return!(!tt||!_(tt))})(ue.editing.view.document.selection)&&Ie.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const ue of this._toolbarDefinitions.values())ue.view.destroy()}register(ue,{ariaLabel:_e,items:Ie,getRelatedElement:We,balloonClassName:tt="ck-toolbar-container"}){if(!Ie.length)return void(0,y.KE)("widget-toolbar-no-items",{toolbarId:ue});const bt=this.editor,At=bt.t,xt=new h.jB(bt.locale);if(xt.ariaLabel=_e||At("Widget toolbar"),this._toolbarDefinitions.has(ue))throw new y.Bb("widget-toolbar-duplicated",this,{toolbarId:ue});const Kt={view:xt,getRelatedElement:We,balloonClassName:tt,itemsConfig:Ie,initialized:!1};bt.ui.addToolbar(xt,{isContextual:!0,beforeFocus:()=>{const ni=We(bt.editing.view.document.selection);ni&&this._showToolbar(Kt,ni)},afterBlur:()=>{this._hideToolbar(Kt)}}),this._toolbarDefinitions.set(ue,Kt)}_updateToolbarsVisibility(){let ue=0,_e=null,Ie=null;for(const We of this._toolbarDefinitions.values()){const tt=We.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&tt)if(this.editor.ui.focusTracker.isFocused){const bt=tt.getAncestors().length;bt>ue&&(ue=bt,_e=tt,Ie=We)}else this._isToolbarVisible(We)&&this._hideToolbar(We);else this._isToolbarInBalloon(We)&&this._hideToolbar(We)}Ie&&this._showToolbar(Ie,_e)}_hideToolbar(ue){this._balloon.remove(ue.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(ue,_e){this._isToolbarVisible(ue)?Be(this.editor,_e):this._isToolbarInBalloon(ue)||(ue.initialized||(ue.initialized=!0,ue.view.fillFromConfig(ue.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:ue.view,position:Ge(this.editor,_e),balloonClassName:ue.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Ie of this._toolbarDefinitions.values())if(this._isToolbarVisible(Ie)){const We=Ie.getRelatedElement(this.editor.editing.view.document.selection);Be(this.editor,We)}}))}_isToolbarVisible(ue){return this._balloon.visibleView===ue.view}_isToolbarInBalloon(ue){return this._balloon.hasView(ue.view)}}function Be(nt,ue){const _e=nt.plugins.get("ContextualBalloon"),Ie=Ge(nt,ue);_e.updatePosition(Ie)}function Ge(nt,ue){const _e=nt.editing.view,Ie=h.no.defaultPositions;return{target:_e.domConverter.mapViewToDom(ue),positions:[Ie.northArrowSouth,Ie.northArrowSouthWest,Ie.northArrowSouthEast,Ie.southArrowNorth,Ie.southArrowNorthWest,Ie.southArrowNorthEast,Ie.viewportStickyNorth]}}class Fe extends(0,y.Re)(){constructor(ue){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=ue,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(ue,_e,Ie){const We=new y.UL(_e);this.activeHandlePosition=function(bt){const At=["top-left","top-right","bottom-right","bottom-left"];for(const xt of At)if(bt.classList.contains(Ve(xt)))return xt}(ue),this._referenceCoordinates=function(bt,At){const xt=new y.UL(bt),Kt=At.split("-"),ni={x:Kt[1]=="right"?xt.right:xt.left,y:Kt[0]=="bottom"?xt.bottom:xt.top};return ni.x+=bt.ownerDocument.defaultView.scrollX,ni.y+=bt.ownerDocument.defaultView.scrollY,ni}(_e,function(bt){const At=bt.split("-"),xt={top:"bottom",bottom:"top",left:"right",right:"left"};return`${xt[At[0]]}-${xt[At[1]]}`}(this.activeHandlePosition)),this._originalWidth=We.width,this._originalHeight=We.height,this._aspectRatio=We.width/We.height;const tt=Ie.style.width;tt&&tt.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(tt):this._originalWidthPercents=function(bt,At){const xt=bt.parentElement;let Kt=parseFloat(xt.ownerDocument.defaultView.getComputedStyle(xt).width);const ni=5;let ei=0,li=xt;for(;isNaN(Kt);){if(li=li.parentElement,++ei>ni)return 0;Kt=parseFloat(xt.ownerDocument.defaultView.getComputedStyle(li).width)}return At.width/Kt*100}(Ie,We)}update(ue){this.proposedWidth=ue.width,this.proposedHeight=ue.height,this.proposedWidthPercents=ue.widthPercents,this.proposedHandleHostWidth=ue.handleHostWidth,this.proposedHandleHostHeight=ue.handleHostHeight}}function Ve(nt){return`ck-widget__resizer__handle-${nt}`}class ut extends h.G7{constructor(){super();const ue=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",ue.to("_viewPosition",_e=>_e?`ck-orientation-${_e}`:"")],style:{display:ue.if("_isVisible","none",_e=>!_e)}},children:[{text:ue.to("_label")}]})}_bindToState(ue,_e){this.bind("_isVisible").to(_e,"proposedWidth",_e,"proposedHeight",(Ie,We)=>Ie!==null&&We!==null),this.bind("_label").to(_e,"proposedHandleHostWidth",_e,"proposedHandleHostHeight",_e,"proposedWidthPercents",(Ie,We,tt)=>ue.unit==="px"?`${Ie}\xD7${We}`:`${tt}%`),this.bind("_viewPosition").to(_e,"activeHandlePosition",_e,"proposedHandleHostWidth",_e,"proposedHandleHostHeight",(Ie,We,tt)=>We<50||tt<50?"above-center":Ie)}_dismiss(){this.unbind(),this._isVisible=!1}}var St=Object.defineProperty,Lt=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,mi=Object.prototype.propertyIsEnumerable,pi=(nt,ue,_e)=>ue in nt?St(nt,ue,{enumerable:!0,configurable:!0,writable:!0,value:_e}):nt[ue]=_e;class Li extends(0,y.Re)(){constructor(ue){super(),this._viewResizerWrapper=null,this._options=ue,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(_e,Ie)=>_e&&Ie),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",_e=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),_e.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(ue=>{ue.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(ue=>{ue.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const ue=this,_e=this._options.viewElement;this._options.editor.editing.view.change(Ie=>{const We=Ie.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(tt){const bt=this.toDomElement(tt);return ue._appendHandles(bt),ue._appendSizeUI(bt),bt});Ie.insert(Ie.createPositionAt(_e,"end"),We),Ie.addClass("ck-widget_with-resizer",_e),this._viewResizerWrapper=We,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(ue){this._state=new Fe(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(ue,this._getHandleHost(),this._getResizeHost())}updateSize(ue){const _e=this._proposeNewSize(ue);this._options.editor.editing.view.change(Kt=>{const ni=this._options.unit||"%",ei=(ni==="%"?_e.widthPercents:_e.width)+ni;Kt.setStyle("width",ei,this._options.viewElement)});const Ie=this._getHandleHost(),We=new y.UL(Ie),tt=Math.round(We.width),bt=Math.round(We.height),At=new y.UL(Ie);var xt;_e.width=Math.round(At.width),_e.height=Math.round(At.height),this.redraw(We),this.state.update((xt=((Kt,ni)=>{for(var ei in ni||(ni={}))Tt.call(ni,ei)&&pi(Kt,ei,ni[ei]);if(yt)for(var ei of yt(ni))mi.call(ni,ei)&&pi(Kt,ei,ni[ei]);return Kt})({},_e),Lt(xt,Qt({handleHostWidth:tt,handleHostHeight:bt}))))}commit(){const ue=this._options.unit||"%",_e=(ue==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+ue;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(_e)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(ue){const _e=this._domResizerWrapper;if(!((Ie=_e)&&Ie.ownerDocument&&Ie.ownerDocument.contains(Ie)))return;var Ie;const We=_e.parentElement,tt=this._getHandleHost(),bt=this._viewResizerWrapper,At=[bt.getStyle("width"),bt.getStyle("height"),bt.getStyle("left"),bt.getStyle("top")];let xt;if(We.isSameNode(tt)){const Kt=ue||new y.UL(tt);xt=[Kt.width+"px",Kt.height+"px",void 0,void 0]}else xt=[tt.offsetWidth+"px",tt.offsetHeight+"px",tt.offsetLeft+"px",tt.offsetTop+"px"];(0,y.Rt)(At,xt)!=="same"&&this._options.editor.editing.view.change(Kt=>{Kt.setStyle({width:xt[0],height:xt[1],left:xt[2],top:xt[3]},bt)})}containsHandle(ue){return this._domResizerWrapper.contains(ue)}static isResizeHandle(ue){return ue.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(ue=>{ue.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(ue){const _e=this.state,Ie={x:(We=ue).pageX,y:We.pageY};var We;const tt=!this._options.isCentered||this._options.isCentered(this),bt={x:_e._referenceCoordinates.x-(Ie.x+_e.originalWidth),y:Ie.y-_e.originalHeight-_e._referenceCoordinates.y};tt&&_e.activeHandlePosition.endsWith("-right")&&(bt.x=Ie.x-(_e._referenceCoordinates.x+_e.originalWidth)),tt&&(bt.x*=2);let At=Math.abs(_e.originalWidth+bt.x),xt=Math.abs(_e.originalHeight+bt.y);return(At/_e.aspectRatio>xt?"width":"height")=="width"?xt=At/_e.aspectRatio:At=xt*_e.aspectRatio,{width:Math.round(At),height:Math.round(xt),widthPercents:Math.min(Math.round(_e.originalWidthPercents/_e.originalWidth*At*100)/100,100)}}_getResizeHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getResizeHost(ue)}_getHandleHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getHandleHost(ue)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(ue){const _e=["top-left","top-right","bottom-right","bottom-left"];for(const We of _e)ue.appendChild(new h.YS({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(Ie=We,`ck-widget__resizer__handle-${Ie}`)}}).render());var Ie}_appendSizeUI(ue){this._sizeView=new ut,this._sizeView.render(),ue.appendChild(this._sizeView.element)}}var Ei=l("./node_modules/lodash-es/throttle.js"),Ni=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),xi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};xe()(Ni.Z,xi),Ni.Z.locals;class Bi extends c.Sy{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const ue=this.editor.editing,_e=y.global.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),ue.view.addObserver(L.dM),this._observer=new((0,y.Xu)()),this.listenTo(ue.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(_e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(_e,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,Ei.Z)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[We,tt]of this._resizers)We.isAttached()||(this._resizers.delete(We),tt.destroy())},{priority:"lowest"}),this._observer.listenTo(y.global.window,"resize",this._redrawSelectedResizerThrottled);const Ie=this.editor.editing.view.document.selection;Ie.on("change",()=>{const We=Ie.getSelectedElement(),tt=this.getResizerByViewElement(We)||null;tt?this.select(tt):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const ue of this._resizers.values())ue.destroy();this._redrawSelectedResizerThrottled.cancel()}select(ue){this.deselect(),this.selectedResizer=ue,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(ue){const _e=new Li(ue),Ie=this.editor.plugins;if(_e.attach(),Ie.has("WidgetToolbarRepository")){const tt=Ie.get("WidgetToolbarRepository");_e.on("begin",()=>{tt.forceDisabled("resize")},{priority:"lowest"}),_e.on("cancel",()=>{tt.clearForceDisabled("resize")},{priority:"highest"}),_e.on("commit",()=>{tt.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(ue.viewElement,_e);const We=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(We)==_e&&this.select(_e),_e}getResizerByViewElement(ue){return this._resizers.get(ue)}_getResizerByHandle(ue){for(const _e of this._resizers.values())if(_e.containsHandle(ue))return _e}_mouseDownListener(ue,_e){const Ie=_e.domTarget;Li.isResizeHandle(Ie)&&(this._activeResizer=this._getResizerByHandle(Ie)||null,this._activeResizer&&(this._activeResizer.begin(Ie),ue.stop(),_e.preventDefault()))}_mouseMoveListener(ue,_e){this._activeResizer&&this._activeResizer.updateSize(_e)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./packages/ckeditor5-core/theme/icons/cancel.svg":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},"./packages/ckeditor5-core/theme/icons/check.svg":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},"./packages/ckeditor5-core/theme/icons/eraser.svg":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(v,A,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},z=function(){var w={};return function(E){if(w[E]===void 0){var C=document.querySelector(E);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}w[E]=C}return w[E]}}(),y=[];function h(w){for(var E=-1,C=0;C<y.length;C++)if(y[C].identifier===w){E=C;break}return E}function V(w,E){for(var C={},S=[],ne=0;ne<w.length;ne++){var U=w[ne],D=E.base?U[0]+E.base:U[0],f=C[D]||0,R="".concat(D," ").concat(f);C[D]=f+1;var W=h(R),N={css:U[1],media:U[2],sourceMap:U[3]};W!==-1?(y[W].references++,y[W].updater(N)):y.push({identifier:R,updater:_(N,E),references:1}),S.push(R)}return S}function $(w){var E=document.createElement("style"),C=w.attributes||{};if(C.nonce===void 0){var S=l.nc;S&&(C.nonce=S)}if(Object.keys(C).forEach(function(U){E.setAttribute(U,C[U])}),typeof w.insert=="function")w.insert(E);else{var ne=z(w.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(E)}return E}var J,Y=(J=[],function(w,E){return J[w]=E,J.filter(Boolean).join(`
`)});function le(w,E,C,S){var ne=C?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(w.styleSheet)w.styleSheet.cssText=Y(E,ne);else{var U=document.createTextNode(ne),D=w.childNodes;D[E]&&w.removeChild(D[E]),D.length?w.insertBefore(U,D[E]):w.appendChild(U)}}function q(w,E,C){var S=C.css,ne=C.media,U=C.sourceMap;if(ne?w.setAttribute("media",ne):w.removeAttribute("media"),U&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),w.styleSheet)w.styleSheet.cssText=S;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(S))}}var d=null,b=0;function _(w,E){var C,S,ne;if(E.singleton){var U=b++;C=d||(d=$(E)),S=le.bind(null,C,U,!1),ne=le.bind(null,C,U,!0)}else C=$(E),S=q.bind(null,C,E),ne=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(C)};return S(w),function(D){if(D){if(D.css===w.css&&D.media===w.media&&D.sourceMap===w.sourceMap)return;S(w=D)}else ne()}}v.exports=function(w,E){(E=E||{}).singleton||typeof E.singleton=="boolean"||(E.singleton=L());var C=V(w=w||[],E);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ne=0;ne<C.length;ne++){var U=h(C[ne]);y[U].references--}for(var D=V(S,E),f=0;f<C.length;f++){var R=h(C[f]);y[R].references===0&&(y[R].updater(),y.splice(R,1))}C=D}}}},"./src/clipboard.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Clipboard:()=>ne,ClipboardPipeline:()=>$,DragDrop:()=>_,DragDropBlockToolbar:()=>qe,DragDropExperimental:()=>xe,DragDropTarget:()=>R,PastePlainText:()=>S});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts"),z=l("./packages/ckeditor5-engine/src/index.ts");class y extends z.qZ{constructor(Q){super(Q),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const de=this.document;function we(Be){return(Ge,Fe)=>{Fe.preventDefault();const Ve=Fe.dropRange?[Fe.dropRange]:null,ut=new L.M3(de,Be);de.fire(ut,{dataTransfer:Fe.dataTransfer,method:Ge.name,targetRanges:Ve,target:Fe.target,domEvent:Fe.domEvent}),ut.stop.called&&Fe.stopPropagation()}}this.listenTo(de,"paste",we("clipboardInput"),{priority:"low"}),this.listenTo(de,"drop",we("clipboardInput"),{priority:"low"}),this.listenTo(de,"dragover",we("dragging"),{priority:"low"})}onDomEvent(Q){const de="clipboardData"in Q?Q.clipboardData:Q.dataTransfer,we=Q.type=="drop"||Q.type=="paste",Be={dataTransfer:new z.tn(de,{cacheFiles:we})};Q.type!="drop"&&Q.type!="dragover"||(Be.dropRange=function(Ge,Fe){const Ve=Fe.target.ownerDocument,ut=Fe.clientX,St=Fe.clientY;let Lt;return Ve.caretRangeFromPoint&&Ve.caretRangeFromPoint(ut,St)?Lt=Ve.caretRangeFromPoint(ut,St):Fe.rangeParent&&(Lt=Ve.createRange(),Lt.setStart(Fe.rangeParent,Fe.rangeOffset),Lt.collapse(!0)),Lt?Ge.domConverter.domRangeToView(Lt):null}(this.view,Q)),this.fire(Q.type,Q,Be)}}const h=["figcaption","li"];function V(et){let Q="";if(et.is("$text")||et.is("$textProxy"))Q=et.data;else if(et.is("element","img")&&et.hasAttribute("alt"))Q=et.getAttribute("alt");else if(et.is("element","br"))Q=`
`;else{let de=null;for(const we of et.getChildren()){const Be=V(we);de&&(de.is("containerElement")||we.is("containerElement"))&&(h.includes(de.name)||h.includes(we.name)?Q+=`
`:Q+=`

`),Q+=Be,de=we}}return Q}class $ extends c.Sy{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(y),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const Q=this.editor,de=Q.model,we=Q.editing.view,Be=we.document;this.listenTo(Be,"clipboardInput",(Ge,Fe)=>{Fe.method!="paste"||Q.model.canEditAt(Q.model.document.selection)||Ge.stop()},{priority:"highest"}),this.listenTo(Be,"clipboardInput",(Ge,Fe)=>{const Ve=Fe.dataTransfer;let ut;if(Fe.content)ut=Fe.content;else{let Qt="";Ve.getData("text/html")?Qt=function(yt){return yt.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Tt,mi)=>mi.length==1?" ":mi).replace(/<!--[\s\S]*?-->/g,"")}(Ve.getData("text/html")):Ve.getData("text/plain")&&(((St=(St=Ve.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||St.includes("<br>"))&&(St=`<p>${St}</p>`),Qt=St),ut=this.editor.data.htmlProcessor.toView(Qt)}var St;const Lt=new L.M3(this,"inputTransformation");this.fire(Lt,{content:ut,dataTransfer:Ve,targetRanges:Fe.targetRanges,method:Fe.method}),Lt.stop.called&&Ge.stop(),we.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(Ge,Fe)=>{if(Fe.content.isEmpty)return;const Ve=this.editor.data.toModel(Fe.content,"$clipboardHolder");Ve.childCount!=0&&(Ge.stop(),de.change(()=>{this.fire("contentInsertion",{content:Ve,method:Fe.method,dataTransfer:Fe.dataTransfer,targetRanges:Fe.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(Ge,Fe)=>{Fe.resultRange=de.insertContent(Fe.content)},{priority:"low"})}_setupCopyCut(){const Q=this.editor,de=Q.model.document,we=Q.editing.view.document,Be=(Ge,Fe)=>{const Ve=Fe.dataTransfer;Fe.preventDefault();const ut=Q.data.toView(Q.model.getSelectedContent(de.selection));we.fire("clipboardOutput",{dataTransfer:Ve,content:ut,method:Ge.name})};this.listenTo(we,"copy",Be,{priority:"low"}),this.listenTo(we,"cut",(Ge,Fe)=>{Q.model.canEditAt(Q.model.document.selection)?Be(Ge,Fe):Fe.preventDefault()},{priority:"low"}),this.listenTo(we,"clipboardOutput",(Ge,Fe)=>{Fe.content.isEmpty||(Fe.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Fe.content)),Fe.dataTransfer.setData("text/plain",V(Fe.content))),Fe.method=="cut"&&Q.model.deleteContent(de.selection)},{priority:"low"})}}var J=l("./packages/ckeditor5-widget/src/index.ts"),Y=l("./node_modules/lodash-es/throttle.js"),le=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),q=l.n(le),d=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),b={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};q()(d.Z,b),d.Z.locals;class _ extends c.Sy{static get pluginName(){return"DragDrop"}static get requires(){return[$,J.$L]}init(){const Q=this.editor,de=Q.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=(0,Y.Z)(we=>this._updateDropMarker(we),40),this._removeDropMarkerDelayed=(0,L.gw)(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=(0,L.gw)(()=>this._clearDraggableAttributes(),40),Q.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(de.addObserver(y),de.addObserver(z.dM),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(Q,"change:isReadOnly",(we,Be,Ge)=>{Ge?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(we,Be,Ge)=>{Ge||this._finalizeDragging(!1)}),L.OB.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Q=this.editor,de=Q.model,we=de.document,Be=Q.editing.view,Ge=Be.document;this.listenTo(Ge,"dragstart",(Fe,Ve)=>{const ut=we.selection;if(Ve.target&&Ve.target.is("editableElement"))return void Ve.preventDefault();const St=Ve.target?C(Ve.target):null;if(St){const Tt=Q.editing.mapper.toModelElement(St);this._draggedRange=z.iE.fromRange(de.createRangeOn(Tt)),Q.plugins.has("WidgetToolbarRepository")&&Q.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!Ge.selection.isCollapsed){const Tt=Ge.selection.getSelectedElement();Tt&&(0,J.Qd)(Tt)||(this._draggedRange=z.iE.fromRange(ut.getFirstRange()))}if(!this._draggedRange)return void Ve.preventDefault();this._draggingUid=(0,L.hQ)();const Lt=this.isEnabled&&Q.model.canEditAt(this._draggedRange);Ve.dataTransfer.effectAllowed=Lt?"copyMove":"copy",Ve.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Qt=de.createSelection(this._draggedRange.toRange()),yt=Q.data.toView(de.getSelectedContent(Qt));Ge.fire("clipboardOutput",{dataTransfer:Ve.dataTransfer,content:yt,method:"dragstart"}),Lt||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(Ge,"dragend",(Fe,Ve)=>{this._finalizeDragging(!Ve.dataTransfer.isCanceled&&Ve.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(Ge,"dragenter",()=>{this.isEnabled&&Be.focus()}),this.listenTo(Ge,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(Ge,"dragging",(Fe,Ve)=>{if(!this.isEnabled)return void(Ve.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const ut=w(Q,Ve.targetRanges,Ve.target);Q.model.canEditAt(ut)?(this._draggedRange||(Ve.dataTransfer.dropEffect="copy"),L.OB.isGecko||(Ve.dataTransfer.effectAllowed=="copy"?Ve.dataTransfer.dropEffect="copy":["all","copyMove"].includes(Ve.dataTransfer.effectAllowed)&&(Ve.dataTransfer.dropEffect="move")),ut&&this._updateDropMarkerThrottled(ut)):Ve.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const Q=this.editor,de=Q.editing.view.document;this.listenTo(de,"clipboardInput",(we,Be)=>{if(Be.method!="drop")return;const Ge=w(Q,Be.targetRanges,Be.target);if(this._removeDropMarker(),!Ge||!Q.model.canEditAt(Ge))return this._finalizeDragging(!1),void we.stop();if(this._draggedRange&&this._draggingUid!=Be.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),E(Be.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(Ge,!0))return this._finalizeDragging(!1),void we.stop();Be.targetRanges=[Q.editing.mapper.toViewRange(Ge)]},{priority:"high"})}_setupContentInsertionIntegration(){const Q=this.editor.plugins.get($);Q.on("contentInsertion",(de,we)=>{if(!this.isEnabled||we.method!=="drop")return;const Be=we.targetRanges.map(Ge=>this.editor.editing.mapper.toModelRange(Ge));this.editor.model.change(Ge=>Ge.setSelection(Be))},{priority:"high"}),Q.on("contentInsertion",(de,we)=>{if(!this.isEnabled||we.method!=="drop")return;const Be=E(we.dataTransfer)=="move",Ge=!we.resultRange||!we.resultRange.isCollapsed;this._finalizeDragging(Ge&&Be)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Q=this.editor,de=Q.editing.view,we=de.document;this.listenTo(we,"mousedown",(Be,Ge)=>{if(L.OB.isAndroid||!Ge)return;this._clearDraggableAttributesDelayed.cancel();let Fe=C(Ge.target);if(L.OB.isBlink&&!Fe&&!we.selection.isCollapsed){const Ve=we.selection.getSelectedElement();if(!Ve||!(0,J.Qd)(Ve)){const ut=we.selection.editableElement;ut&&!ut.isReadOnly&&(Fe=ut)}}Fe&&(de.change(Ve=>{Ve.setAttribute("draggable","true",Fe)}),this._draggableElement=Q.editing.mapper.toModelElement(Fe))}),this.listenTo(we,"mouseup",()=>{L.OB.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Q=this.editor.editing;Q.view.change(de=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&de.removeAttribute("draggable",Q.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const Q=this.editor;Q.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Q.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(de,{writer:we})=>{if(Q.model.schema.checkChild(de.markerRange.start,"$text"))return we.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(Be){const Ge=this.toDomElement(Be);return Ge.append("\u2060",Be.createElement("span"),"\u2060"),Ge})}})}_updateDropMarker(Q){const de=this.editor,we=de.model.markers;de.model.change(Be=>{we.has("drop-target")?we.get("drop-target").getRange().isEqual(Q)||Be.updateMarker("drop-target",{range:Q}):Be.addMarker("drop-target",{range:Q,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const Q=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),Q.markers.has("drop-target")&&Q.change(de=>{de.removeMarker("drop-target")})}_finalizeDragging(Q){const de=this.editor,we=de.model;this._removeDropMarker(),this._clearDraggableAttributes(),de.plugins.has("WidgetToolbarRepository")&&de.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(Q&&this.isEnabled&&we.deleteContent(we.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function w(et,Q,de){const we=et.model,Be=et.editing.mapper;let Ge=null;const Fe=Q?Q[0].start:null;if(de.is("uiElement")&&(de=de.parent),Ge=function(St,Lt){const Qt=St.model,yt=St.editing.mapper;if((0,J.Qd)(Lt))return Qt.createRangeOn(yt.toModelElement(Lt));if(!Lt.is("editableElement")){const Tt=Lt.findAncestor(mi=>(0,J.Qd)(mi)||mi.is("editableElement"));if((0,J.Qd)(Tt))return Qt.createRangeOn(yt.toModelElement(Tt))}return null}(et,de),Ge)return Ge;const Ve=function(St,Lt){const Qt=St.editing.mapper,yt=St.editing.view,Tt=Qt.toModelElement(Lt);if(Tt)return Tt;const mi=yt.createPositionBefore(Lt),pi=Qt.findMappedViewAncestor(mi);return Qt.toModelElement(pi)}(et,de),ut=Fe?Be.toModelPosition(Fe):null;return ut?(Ge=function(St,Lt,Qt){const yt=St.model;if(!yt.schema.checkChild(Qt,"$block"))return null;const Tt=yt.createPositionAt(Qt,0),mi=Lt.path.slice(0,Tt.path.length),pi=yt.createPositionFromPath(Lt.root,mi),Li=pi.nodeAfter;return Li&&yt.schema.isObject(Li)?yt.createRangeOn(Li):null}(et,ut,Ve),Ge||(Ge=we.schema.getNearestSelectionRange(ut,L.OB.isGecko?"forward":"backward"),Ge||function(St,Lt){const Qt=St.model;let yt=Lt;for(;yt;){if(Qt.schema.isObject(yt))return Qt.createRangeOn(yt);yt=yt.parent}return null}(et,ut.parent))):function(St,Lt){const Qt=St.model,yt=Qt.schema,Tt=Qt.createPositionAt(Lt,0);return yt.getNearestSelectionRange(Tt,"forward")}(et,Ve)}function E(et){return L.OB.isGecko?et.dropEffect:["all","copyMove"].includes(et.effectAllowed)?"move":"copy"}function C(et){if(et.is("editableElement"))return null;if(et.hasClass("ck-widget__selection-handle"))return et.findAncestor(J.Qd);if((0,J.Qd)(et))return et;const Q=et.findAncestor(de=>(0,J.Qd)(de)||de.is("editableElement"));return(0,J.Qd)(Q)?Q:null}class S extends c.Sy{static get pluginName(){return"PastePlainText"}static get requires(){return[$]}init(){const Q=this.editor,de=Q.model,we=Q.editing.view,Be=we.document,Ge=de.document.selection;let Fe=!1;we.addObserver(y),this.listenTo(Be,"keydown",(Ve,ut)=>{Fe=ut.shiftKey}),Q.plugins.get($).on("contentInsertion",(Ve,ut)=>{(Fe||function(St,Lt){if(St.childCount>1)return!1;const Qt=St.getChild(0);return Lt.isObject(Qt)?!1:Array.from(Qt.getAttributeKeys()).length==0}(ut.content,de.schema))&&de.change(St=>{const Lt=Array.from(Ge.getAttributes()).filter(([yt])=>de.schema.getAttributeProperties(yt).isFormatting);Ge.isCollapsed||de.deleteContent(Ge,{doNotAutoparagraph:!0}),Lt.push(...Ge.getAttributes());const Qt=St.createRangeIn(ut.content);for(const yt of Qt.getItems())yt.is("$textProxy")&&St.setAttributes(Lt,yt)})})}}class ne extends c.Sy{static get pluginName(){return"Clipboard"}static get requires(){return[$,_,S]}}var U=l("./packages/ckeditor5-ui/src/index.ts");const D=(0,L.nn)("px");class f extends U.G7{constructor(){super();const Q=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",Q.if("isVisible","ck-hidden",de=>!de)],style:{left:Q.to("left",de=>D(de)),top:Q.to("top",de=>D(de)),width:Q.to("width",de=>D(de))}}})}}class R extends c.Sy{constructor(){super(...arguments),this.removeDropMarkerDelayed=(0,L.gw)(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=(0,Y.Z)(Q=>this._updateDropMarker(Q),40),this._reconvertMarkerThrottled=(0,Y.Z)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new f,this._domEmitter=new((0,L.Xu)()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:Q}of this._scrollables.values())Q.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(Q,de,we,Be,Ge){this.removeDropMarkerDelayed.cancel();const Fe=W(this.editor,Q,de,we,Be,Ge);Fe&&this._updateDropMarkerThrottled(Fe)}getFinalDropRange(Q,de,we,Be,Ge){const Fe=W(this.editor,Q,de,we,Be,Ge);return this.removeDropMarker(),Fe}removeDropMarker(){const Q=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,Q.markers.has("drop-target")&&Q.change(de=>{de.removeMarker("drop-target")})}_setupDropMarker(){const Q=this.editor;Q.ui.view.body.add(this._dropTargetLineView),Q.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Q.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(de,{writer:we})=>{if(Q.model.schema.checkChild(de.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(we);de.markerRange.isCollapsed?this._updateDropTargetLine(de.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(Q){const de=this.editor,we=de.model.markers;de.model.change(Be=>{we.has("drop-target")?we.get("drop-target").getRange().isEqual(Q)||Be.updateMarker("drop-target",{range:Q}):Be.addMarker("drop-target",{range:Q,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(Q){return Q.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(de){const we=this.toDomElement(de);return we.append("\u2060",de.createElement("span"),"\u2060"),we})}_updateDropTargetLine(Q){const de=this.editor.editing,we=Q.start.nodeBefore,Be=Q.start.nodeAfter,Ge=Q.start.parent,Fe=we?de.mapper.toViewElement(we):null,Ve=Fe?de.view.domConverter.mapViewToDom(Fe):null,ut=Be?de.mapper.toViewElement(Be):null,St=ut?de.view.domConverter.mapViewToDom(ut):null,Lt=de.mapper.toViewElement(Ge),Qt=de.view.domConverter.mapViewToDom(Lt),yt=this._getScrollableRect(Lt),{scrollX:Tt,scrollY:mi}=L.global.window,pi=Ve?new L.UL(Ve):null,Li=St?new L.UL(St):null,Ei=new L.UL(Qt).excludeScrollbarsAndBorders(),Ni=pi?pi.bottom:Ei.top,xi=Li?Li.top:Ei.bottom,Bi=L.global.window.getComputedStyle(Qt),nt=Ni<=xi?(Ni+xi)/2:xi;if(yt.top<nt&&nt<yt.bottom){const ue=Ei.left+parseFloat(Bi.paddingLeft),_e=Ei.right-parseFloat(Bi.paddingRight),Ie=Math.max(ue+Tt,yt.left),We=Math.min(_e+Tt,yt.right);this._dropTargetLineView.set({isVisible:!0,left:Ie,top:nt+mi,width:We-Ie})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(Q){const de=Q.root.rootName;let we;if(this._scrollables.has(de))we=this._scrollables.get(de).domElement;else{we=function(Ge){let Fe=Ge;do{Fe=Fe.parentElement;const Ve=L.global.window.getComputedStyle(Fe).overflowY;if(Ve=="auto"||Ve=="scroll")break}while(Fe.tagName!="BODY");return Fe}(this.editor.editing.view.domConverter.mapViewToDom(Q)),this._domEmitter.listenTo(we,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const Be=new L.do(we,this._reconvertMarkerThrottled);this._scrollables.set(de,{domElement:we,resizeObserver:Be})}return new L.UL(we).excludeScrollbarsAndBorders()}}function W(et,Q,de,we,Be,Ge){const Fe=et.model,Ve=et.editing.mapper,ut=Oe(et,Q);let St=ut;for(;St;){if(!Ge){if(Fe.schema.checkChild(St,"$text")){const Lt=de?de[0].start:null,Qt=Lt?Ve.toModelPosition(Lt):null;if(Qt){if(Fe.schema.checkChild(Qt,"$text"))return Fe.createRange(Qt);if(Lt)return oe(et,Oe(et,Lt.parent),we,Be)}}else if(Fe.schema.isInline(St))return oe(et,St,we,Be)}if(Fe.schema.isBlock(St))return oe(et,St,we,Be);if(Fe.schema.checkChild(St,"$block")){const Lt=Array.from(St.getChildren()).filter(Tt=>Tt.is("element")&&!N(et,Tt));let Qt=0,yt=Lt.length;for(;Qt<yt-1;){const Tt=Math.floor((Qt+yt)/2);Te(et,Lt[Tt],we,Be)=="before"?yt=Tt:Qt=Tt}return oe(et,Lt[Qt],we,Be)}St=St.parent}return console.warn("none:",ut.name),null}function N(et,Q){const de=et.editing.mapper,we=et.editing.view.domConverter,Be=de.toViewElement(Q),Ge=we.mapViewToDom(Be);return L.global.window.getComputedStyle(Ge).float!="none"}function oe(et,Q,de,we){const Be=et.model;return Be.createRange(Be.createPositionAt(Q,Te(et,Q,de,we)))}function Te(et,Q,de,we){const Be=et.editing.mapper,Ge=et.editing.view.domConverter,Fe=Be.toViewElement(Q),Ve=Ge.mapViewToDom(Fe),ut=new L.UL(Ve);return et.model.schema.isInline(Q)?de<(ut.left+ut.right)/2?"before":"after":we<(ut.top+ut.bottom)/2?"before":"after"}function Oe(et,Q){const de=et.editing.mapper,we=et.editing.view,Be=de.toModelElement(Q);if(Be)return Be;const Ge=we.createPositionBefore(Q),Fe=de.findMappedViewAncestor(Ge);return de.toModelElement(Fe)}class xe extends c.Sy{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=(0,L.gw)(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new((0,L.Xu)())}static get pluginName(){return"DragDropExperimental"}static get requires(){return[$,J.$L,R]}init(){const Q=this.editor,de=Q.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,de.addObserver(y),de.addObserver(z.dM),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(Q,"change:isReadOnly",(we,Be,Ge)=>{Ge?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(we,Be,Ge)=>{Ge||this._finalizeDragging(!1)}),L.OB.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Q=this.editor,de=Q.model,we=Q.editing.view,Be=we.document,Ge=Q.plugins.get(R);this.listenTo(Be,"dragstart",(Fe,Ve)=>{if(Ve.target&&Ve.target.is("editableElement")||(this._prepareDraggedRange(Ve.target),!this._draggedRange))return void Ve.preventDefault();this._draggingUid=(0,L.hQ)(),Ve.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",Ve.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const ut=de.createSelection(this._draggedRange.toRange()),St=Q.data.toView(de.getSelectedContent(ut));Be.fire("clipboardOutput",{dataTransfer:Ve.dataTransfer,content:St,method:"dragstart"}),this._updatePreview(Ve.dataTransfer),Ve.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(Be,"dragend",(Fe,Ve)=>{this._finalizeDragging(!Ve.dataTransfer.isCanceled&&Ve.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(L.global.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(Be,"dragenter",()=>{this.isEnabled&&we.focus()}),this.listenTo(Be,"dragleave",()=>{Ge.removeDropMarkerDelayed()}),this.listenTo(Be,"dragging",(Fe,Ve)=>{if(!this.isEnabled)return void(Ve.dataTransfer.dropEffect="none");const{clientX:ut,clientY:St}=Ve.domEvent;Ge.updateDropMarker(Ve.target,Ve.targetRanges,ut,St,this._blockMode),this._draggedRange||(Ve.dataTransfer.dropEffect="copy"),L.OB.isGecko||(Ve.dataTransfer.effectAllowed=="copy"?Ve.dataTransfer.dropEffect="copy":["all","copyMove"].includes(Ve.dataTransfer.effectAllowed)&&(Ve.dataTransfer.dropEffect="move")),Fe.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const Q=this.editor,de=Q.editing.view.document,we=Q.plugins.get(R);this.listenTo(de,"clipboardInput",(Be,Ge)=>{if(Ge.method!="drop")return;const{clientX:Fe,clientY:Ve}=Ge.domEvent,ut=we.getFinalDropRange(Ge.target,Ge.targetRanges,Fe,Ve,this._blockMode);if(!ut)return this._finalizeDragging(!1),void Be.stop();if(this._draggedRange&&this._draggingUid!=Ge.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Re(Ge.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(ut,!0))return this._finalizeDragging(!1),void Be.stop();Ge.targetRanges=[Q.editing.mapper.toViewRange(ut)]},{priority:"high"})}_setupContentInsertionIntegration(){const Q=this.editor.plugins.get($);Q.on("contentInsertion",(de,we)=>{if(!this.isEnabled||we.method!=="drop")return;const Be=we.targetRanges.map(Ge=>this.editor.editing.mapper.toModelRange(Ge));this.editor.model.change(Ge=>Ge.setSelection(Be))},{priority:"high"}),Q.on("contentInsertion",(de,we)=>{if(!this.isEnabled||we.method!=="drop")return;const Be=Re(we.dataTransfer)=="move",Ge=!we.resultRange||!we.resultRange.isCollapsed;this._finalizeDragging(Ge&&Be)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Q=this.editor,de=Q.editing.view,we=de.document;this.listenTo(we,"mousedown",(Be,Ge)=>{if(L.OB.isAndroid||!Ge)return;this._clearDraggableAttributesDelayed.cancel();let Fe=lt(Ge.target);if(L.OB.isBlink&&!Q.isReadOnly&&!Fe&&!we.selection.isCollapsed){const Ve=we.selection.getSelectedElement();Ve&&(0,J.Qd)(Ve)||(Fe=we.selection.editableElement)}Fe&&(de.change(Ve=>{Ve.setAttribute("draggable","true",Fe)}),this._draggableElement=Q.editing.mapper.toModelElement(Fe))}),this.listenTo(we,"mouseup",()=>{L.OB.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Q=this.editor.editing;Q.view.change(de=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&de.removeAttribute("draggable",Q.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(Q){const de=this.editor,we=de.model;de.plugins.get(R).removeDropMarker(),this._clearDraggableAttributes(),de.plugins.has("WidgetToolbarRepository")&&de.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(Q&&this.isEnabled&&we.deleteContent(we.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(Q){const de=this.editor,we=de.model,Be=we.document.selection,Ge=Q?lt(Q):null;if(Ge){const Fe=de.editing.mapper.toModelElement(Ge);this._draggedRange=z.iE.fromRange(we.createRangeOn(Fe)),this._blockMode=we.schema.isBlock(Fe),de.plugins.has("WidgetToolbarRepository")&&de.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!Be.isCollapsed||Be.getFirstPosition().parent.isEmpty){const Fe=Array.from(Be.getSelectedBlocks());if(Fe.length>1)this._draggedRange=z.iE.fromRange(we.createRange(we.createPositionBefore(Fe[0]),we.createPositionAfter(Fe[Fe.length-1]))),we.change(Ve=>Ve.setSelection(this._draggedRange.toRange())),this._blockMode=!0;else if(Fe.length==1){const Ve=Be.getFirstRange(),ut=we.createRange(we.createPositionBefore(Fe[0]),we.createPositionAfter(Fe[0]));Ve.start.isTouching(ut.start)&&Ve.end.isTouching(ut.end)?(this._draggedRange=z.iE.fromRange(ut),this._blockMode=!0):(this._draggedRange=z.iE.fromRange(Be.getFirstRange()),this._blockMode=!1)}}}_updatePreview(Q){const de=this.editor.editing.view,we=de.document.selection.editableElement,Be=de.domConverter.mapViewToDom(we),Ge=L.global.window.getComputedStyle(Be);this._previewContainer?this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=(0,L.az)(L.global.document,"div",{style:"position: fixed; left: -999999px;"}),L.global.document.body.appendChild(this._previewContainer));const Fe=(0,L.az)(L.global.document,"div");Fe.className="ck ck-content",Fe.style.width=Ge.width,Fe.innerHTML=Q.getData("text/html"),Q.setDragImage(Fe,0,0),this._previewContainer.appendChild(Fe)}}function Re(et){return L.OB.isGecko?et.dropEffect:["all","copyMove"].includes(et.effectAllowed)?"move":"copy"}function lt(et){if(et.is("editableElement"))return null;if(et.hasClass("ck-widget__selection-handle"))return et.findAncestor(J.Qd);if((0,J.Qd)(et))return et;const Q=et.findAncestor(de=>(0,J.Qd)(de)||de.is("editableElement"));return(0,J.Qd)(Q)?Q:null}var rt=Object.defineProperty,ct=Object.defineProperties,st=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,mt=(et,Q,de)=>Q in et?rt(et,Q,{enumerable:!0,configurable:!0,writable:!0,value:de}):et[Q]=de;class qe extends c.Sy{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new((0,L.Xu)())}static get pluginName(){return"DragDropBlockToolbar"}init(){const Q=this.editor;if(this.listenTo(Q,"change:isReadOnly",(de,we,Be)=>{Be?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),L.OB.isAndroid&&this.forceDisabled("noAndroidSupport"),Q.plugins.has("BlockToolbar")){const de=Q.plugins.get("BlockToolbar").buttonView.element;de.setAttribute("draggable","true"),this._domEmitter.listenTo(de,"dragstart",(we,Be)=>this._handleBlockDragStart(Be)),this._domEmitter.listenTo(L.global.document,"dragover",(we,Be)=>this._handleBlockDragging(Be)),this._domEmitter.listenTo(L.global.document,"drop",(we,Be)=>this._handleBlockDragging(Be)),this._domEmitter.listenTo(L.global.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(Q){if(!this.isEnabled)return;const de=this.editor.model,we=de.document.selection,Be=Array.from(we.getSelectedBlocks()),Ge=de.createRange(de.createPositionBefore(Be[0]),de.createPositionAfter(Be[Be.length-1]));de.change(Fe=>Fe.setSelection(Ge)),this._isBlockDragging=!0,this.editor.editing.view.getObserver(y).onDomEvent(Q)}_handleBlockDragging(Q){if(!this.isEnabled||!this._isBlockDragging)return;const de=Q.clientX+100,we=Q.clientY,Be=document.elementFromPoint(de,we);var Ge,Fe;Be&&Be.closest(".ck-editor__editable")&&this.editor.editing.view.getObserver(y).onDomEvent((Ge=((Ve,ut)=>{for(var St in ut||(ut={}))pt.call(ut,St)&&mt(Ve,St,ut[St]);if(kt)for(var St of kt(ut))Ze.call(ut,St)&&mt(Ve,St,ut[St]);return Ve})({},Q),Fe={type:Q.type,dataTransfer:Q.dataTransfer,target:Be,clientX:de,clientY:we,preventDefault:()=>Q.preventDefault(),stopPropagation:()=>Q.stopPropagation()},ct(Ge,st(Fe))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}},"./src/core.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Command:()=>c.mY,Context:()=>c._y,ContextPlugin:()=>c.eO,DataApiMixin:()=>c.W9,Editor:()=>c.ML,ElementApiMixin:()=>c.xK,MultiCommand:()=>c.AJ,PendingActions:()=>c.lR,Plugin:()=>c.Sy,attachToForm:()=>c.P$,icons:()=>c.icons,secureSourceElement:()=>c.Nu});var c=l("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{AttributeElement:()=>c.kW,AttributeOperation:()=>c.Yy,BubblingEventInfo:()=>c.r7,ClickObserver:()=>c.KU,Conversion:()=>c.uz,DataController:()=>c.Yc,DataTransfer:()=>c.tn,DocumentFragment:()=>c.f4,DocumentSelection:()=>c.uj,DomConverter:()=>c.pG,DomEventData:()=>c.dK,DomEventObserver:()=>c.qZ,DowncastWriter:()=>c.qD,EditingController:()=>c.jH,Element:()=>c.W_,FocusObserver:()=>c.DX,History:()=>c.Ay,HtmlDataProcessor:()=>c.X5,InsertOperation:()=>c.IZ,LivePosition:()=>c.jP,LiveRange:()=>c.iE,MarkerOperation:()=>c.zj,Matcher:()=>c.xO,MergeOperation:()=>c.lB,Model:()=>c.Hn,MouseObserver:()=>c.dM,MoveOperation:()=>c.$z,NoOperation:()=>c.Pk,Observer:()=>c.Qj,OperationFactory:()=>c.Bz,Position:()=>c.Ly,Range:()=>c.e6,RenameOperation:()=>c.sN,Renderer:()=>c.Th,RootAttributeOperation:()=>c._o,RootOperation:()=>c.tF,SplitOperation:()=>c.qh,StylesProcessor:()=>c.A_,TabObserver:()=>c.aY,Text:()=>c.xv,TextProxy:()=>c.R,TreeWalker:()=>c.Po,UpcastWriter:()=>c.yj,View:()=>c.G7,ViewAttributeElement:()=>c.m1,ViewContainerElement:()=>c.By,ViewDocument:()=>c.Ux,ViewDocumentFragment:()=>c.y_,ViewEditableElement:()=>c.W2,ViewElement:()=>c.y9,ViewEmptyElement:()=>c.pc,ViewRawElement:()=>c.wx,ViewRootEditableElement:()=>c.FY,ViewText:()=>c.Xj,ViewTreeWalker:()=>c.rh,ViewUIElement:()=>c.dq,addBackgroundRules:()=>c.QR,addBorderRules:()=>c.sI,addMarginRules:()=>c.vt,addPaddingRules:()=>c.J8,disablePlaceholder:()=>c.DA,enablePlaceholder:()=>c.ID,findOptimalInsertionRange:()=>c.KT,getBoxSidesShorthandValue:()=>c.I8,getBoxSidesValueReducer:()=>c.mq,getBoxSidesValues:()=>c.oz,getFillerOffset:()=>c.YG,getPositionShorthandNormalizer:()=>c.m0,getShorthandValues:()=>c.uT,hidePlaceholder:()=>c.$_,isAttachment:()=>c.SB,isColor:()=>c.D5,isLength:()=>c.G9,isLineStyle:()=>c.IT,isPercentage:()=>c.zz,isPosition:()=>c.WK,isRepeat:()=>c.Zb,isURL:()=>c.PX,needsPlaceholder:()=>c.Q7,showPlaceholder:()=>c.NJ,transformSets:()=>c.Rf});var c=l("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Enter:()=>c.C,ShiftEnter:()=>c.G});var c=l("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Paragraph:()=>$,ParagraphButtonUI:()=>le});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class z extends c.mY{constructor(d){super(d),this._isEnabledBasedOnSelection=!1}refresh(){const d=this.editor.model,b=d.document,_=(0,L.Ps)(b.selection.getSelectedBlocks());this.value=!!_&&_.is("element","paragraph"),this.isEnabled=!!_&&y(_,d.schema)}execute(d={}){const b=this.editor.model,_=b.document,w=d.selection||_.selection;b.canEditAt(w)&&b.change(E=>{const C=w.getSelectedBlocks();for(const S of C)!S.is("element","paragraph")&&y(S,b.schema)&&E.rename(S,"paragraph")})}}function y(q,d){return d.checkChild(q.parent,"paragraph")&&!d.isObject(q)}class h extends c.mY{constructor(d){super(d),this._isEnabledBasedOnSelection=!1}execute(d){const b=this.editor.model,_=d.attributes;let w=d.position;b.canEditAt(w)&&b.change(E=>{if(w=this._findPositionToInsertParagraph(w,E),!w)return;const C=E.createElement("paragraph");_&&b.schema.setAllowedAttributes(C,_,E),b.insertContent(C,w),E.setSelection(C,"in")})}_findPositionToInsertParagraph(d,b){const _=this.editor.model;if(_.schema.checkChild(d,"paragraph"))return d;const w=_.schema.findAllowedParent(d,"paragraph");if(!w)return null;const E=d.parent,C=_.schema.checkChild(E,"$text");return E.isEmpty||C&&d.isAtEnd?_.createPositionAfter(E):!E.isEmpty&&C&&d.isAtStart?_.createPositionBefore(E):b.split(d,w).position}}const V=class extends c.Sy{static get pluginName(){return"Paragraph"}init(){const q=this.editor,d=q.model;q.commands.add("paragraph",new z(q)),q.commands.add("insertParagraph",new h(q)),d.schema.register("paragraph",{inheritAllFrom:"$block"}),q.conversion.elementToElement({model:"paragraph",view:"p"}),q.conversion.for("upcast").elementToElement({model:(b,{writer:_})=>V.paragraphLikeElements.has(b.name)?b.isEmpty?null:_.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let $=V;$.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var J=l("./packages/ckeditor5-ui/src/index.ts");const Y=c.icons.paragraph;class le extends c.Sy{static get requires(){return[$]}init(){const d=this.editor,b=d.t;d.ui.componentFactory.add("paragraph",_=>{const w=new J.r5(_),E=d.commands.get("paragraph");return w.label=b("Paragraph"),w.icon=Y,w.tooltip=!0,w.isToggleable=!0,w.bind("isEnabled").to(E),w.bind("isOn").to(E,"value"),w.on("execute",()=>{d.execute("paragraph")}),w})}}},"./src/select-all.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{SelectAll:()=>Y,SelectAllEditing:()=>V,SelectAllUI:()=>J});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class z extends c.mY{constructor(q){super(q),this.affectsData=!1}execute(){const q=this.editor.model,d=q.document.selection;let b=q.schema.getLimitElement(d);if(d.containsEntireContent(b)||!y(q.schema,b))do if(b=b.parent,!b)return;while(!y(q.schema,b));q.change(_=>{_.setSelection(b,"in")})}}function y(le,q){return le.isLimit(q)&&(le.checkChild(q,"$text")||le.checkChild(q,"paragraph"))}const h=(0,L.Zz)("Ctrl+A");class V extends c.Sy{static get pluginName(){return"SelectAllEditing"}init(){const q=this.editor,d=q.editing.view.document;q.commands.add("selectAll",new z(q)),this.listenTo(d,"keydown",(b,_)=>{(0,L.Cq)(_)===h&&(q.execute("selectAll"),_.preventDefault())})}}var $=l("./packages/ckeditor5-ui/src/index.ts");class J extends c.Sy{static get pluginName(){return"SelectAllUI"}init(){const q=this.editor;q.ui.componentFactory.add("selectAll",d=>{const b=q.commands.get("selectAll"),_=new $.r5(d),w=d.t;return _.set({label:w("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),_.bind("isEnabled").to(b,"isEnabled"),this.listenTo(_,"execute",()=>{q.execute("selectAll"),q.editing.view.focus()}),_})}}class Y extends c.Sy{static get requires(){return[V,J]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Delete:()=>c.HG,Input:()=>c.II,InsertTextCommand:()=>c.BT,TextTransformation:()=>c.cL,TextWatcher:()=>c.uL,TwoStepCaretMovement:()=>c.mh,Typing:()=>c.Mq,findAttributeRange:()=>c.VD,findAttributeRangeBound:()=>c.r9,getLastTextLine:()=>c.Up,inlineHighlight:()=>c.Im});var c=l("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{BalloonPanelView:()=>c.no,BalloonToolbar:()=>c.Jf,BlockToolbar:()=>c.ee,BodyCollection:()=>c.BK,BoxedEditorUIView:()=>c.py,ButtonView:()=>c.r5,ColorGridView:()=>c.J6,ColorPickerView:()=>c.J2,ColorSelectorView:()=>c.MI,ColorTileView:()=>c._9,ComponentFactory:()=>c._Y,ContextualBalloon:()=>c.WB,CssTransitionDisablerMixin:()=>c.RX,DropdownButtonView:()=>c.J0,DropdownPanelView:()=>c.G2,DropdownView:()=>c._n,EditorUI:()=>c.S8,EditorUIView:()=>c.fF,FocusCycler:()=>c.I0,FormHeaderView:()=>c.Gp,IconView:()=>c.mO,IframeView:()=>c.VY,InlineEditableUIView:()=>c.r1,InputNumberView:()=>c.Xs,InputTextView:()=>c.pq,InputView:()=>c.Em,LabelView:()=>c.Dn,LabeledFieldView:()=>c.KP,ListItemView:()=>c.dn,ListView:()=>c.Bv,Model:()=>c.Hn,Notification:()=>c.P_,SplitButtonView:()=>c.Rm,StickyPanelView:()=>c.lp,SwitchButtonView:()=>c.BM,Template:()=>c.YS,ToolbarLineBreakView:()=>c.qR,ToolbarSeparatorView:()=>c.$y,ToolbarView:()=>c.jB,TooltipManager:()=>c.gE,View:()=>c.G7,ViewCollection:()=>c.vX,addKeyboardHandlingForGrid:()=>c.IJ,addListToDropdown:()=>c.Pm,addToolbarToDropdown:()=>c.up,clickOutsideHandler:()=>c.eC,createDropdown:()=>c.t9,createLabeledDropdown:()=>c.FH,createLabeledInputNumber:()=>c.sh,createLabeledInputText:()=>c.R,focusChildOnDropdownOpen:()=>c.Mh,getLocalizedColorOptions:()=>c.k6,icons:()=>c.ci,injectCssTransitionDisabler:()=>c.fe,normalizeColorOptions:()=>c.S1,normalizeSingleColorDefinition:()=>c.jY,normalizeToolbarConfig:()=>c.iw,submitHandler:()=>c.GI});var c=l("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Undo:()=>S,UndoEditing:()=>b,UndoUI:()=>C});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-engine/src/index.ts"),z=Object.defineProperty,y=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,$=(ne,U,D)=>U in ne?z(ne,U,{enumerable:!0,configurable:!0,writable:!0,value:D}):ne[U]=D;class J extends c.mY{constructor(U){super(U),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(U.data,"set",(D,f)=>{f[1]=((W,N)=>{for(var oe in N||(N={}))h.call(N,oe)&&$(W,oe,N[oe]);if(y)for(var oe of y(N))V.call(N,oe)&&$(W,oe,N[oe]);return W})({},f[1]);const R=f[1];R.batchType||(R.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(U.data,"set",(D,f)=>{f[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(U){const D=this.editor.model.document.selection,f={ranges:D.hasOwnRange?Array.from(D.getRanges()):[],isBackward:D.isBackward};this._stack.push({batch:U,selection:f}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(U,D,f){const R=this.editor.model,W=R.document,N=[],oe=U.map(Oe=>Oe.getTransformedByOperations(f)),Te=oe.flat();for(const Oe of oe){const xe=Oe.filter(Re=>Re.root!=W.graveyard).filter(Re=>!le(Re,Te));xe.length&&(Y(xe),N.push(xe[0]))}N.length&&R.change(Oe=>{Oe.setSelection(N,{backward:D})})}_undo(U,D){const f=this.editor.model,R=f.document;this._createdBatches.add(D);const W=U.operations.slice().filter(N=>N.isDocumentOperation);W.reverse();for(const N of W){const oe=N.baseVersion+1,Te=Array.from(R.history.getOperations(oe)),Oe=(0,L.Rf)([N.getReversed()],Te,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let xe of Oe){const Re=xe.affectedSelectable;Re&&!f.canEditAt(Re)&&(xe=new L.Pk(xe.baseVersion)),D.addOperation(xe),f.applyOperation(xe),R.history.setOperationAsUndone(N,xe)}}}}function Y(ne){ne.sort((U,D)=>U.start.isBefore(D.start)?-1:1);for(let U=1;U<ne.length;U++){const D=ne[U-1].getJoined(ne[U],!0);D&&(U--,ne.splice(U,2,D))}}function le(ne,U){return U.some(D=>D!==ne&&D.containsRange(ne,!0))}class q extends J{execute(U=null){const D=U?this._stack.findIndex(W=>W.batch==U):this._stack.length-1,f=this._stack.splice(D,1)[0],R=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(R,()=>{this._undo(f.batch,R);const W=this.editor.model.document.history.getOperations(f.batch.baseVersion);this._restoreSelection(f.selection.ranges,f.selection.isBackward,W)}),this.fire("revert",f.batch,R),this.refresh()}}class d extends J{execute(){const U=this._stack.pop(),D=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(D,()=>{const f=U.batch.operations[U.batch.operations.length-1].baseVersion+1,R=this.editor.model.document.history.getOperations(f);this._restoreSelection(U.selection.ranges,U.selection.isBackward,R),this._undo(U.batch,D)}),this.refresh()}}class b extends c.Sy{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const U=this.editor;this._undoCommand=new q(U),this._redoCommand=new d(U),U.commands.add("undo",this._undoCommand),U.commands.add("redo",this._redoCommand),this.listenTo(U.model,"applyOperation",(D,f)=>{const R=f[0];if(!R.isDocumentOperation)return;const W=R.batch,N=this._redoCommand.createdBatches.has(W),oe=this._undoCommand.createdBatches.has(W);this._batchRegistry.has(W)||(this._batchRegistry.add(W),W.isUndoable&&(N?this._undoCommand.addBatch(W):oe||(this._undoCommand.addBatch(W),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(D,f,R)=>{this._redoCommand.addBatch(R)}),U.keystrokes.set("CTRL+Z","undo"),U.keystrokes.set("CTRL+Y","redo"),U.keystrokes.set("CTRL+SHIFT+Z","redo")}}var _=l("./packages/ckeditor5-ui/src/index.ts");const w='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',E='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class C extends c.Sy{static get pluginName(){return"UndoUI"}init(){const U=this.editor,D=U.locale,f=U.t,R=D.uiLanguageDirection=="ltr"?w:E,W=D.uiLanguageDirection=="ltr"?E:w;this._addButton("undo",f("Undo"),"CTRL+Z",R),this._addButton("redo",f("Redo"),"CTRL+Y",W)}_addButton(U,D,f,R){const W=this.editor;W.ui.componentFactory.add(U,N=>{const oe=W.commands.get(U),Te=new _.r5(N);return Te.set({label:D,icon:R,keystroke:f,tooltip:!0}),Te.bind("isEnabled").to(oe,"isEnabled"),this.listenTo(Te,"execute",()=>{W.execute(U),W.editing.view.focus()}),Te})}}class S extends c.Sy{static get requires(){return[b,C]}static get pluginName(){return"Undo"}}},"./src/upload.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{Base64UploadAdapter:()=>Y,FileDialogButtonView:()=>$,FileRepository:()=>y,SimpleUploadAdapter:()=>S});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class z extends(0,L.Re)(){constructor(){super();const D=new window.FileReader;this._reader=D,this._data=void 0,this.set("loaded",0),D.onprogress=f=>{this.loaded=f.loaded}}get error(){return this._reader.error}get data(){return this._data}read(D){const f=this._reader;return this.total=D.size,new Promise((R,W)=>{f.onload=()=>{const N=f.result;this._data=N,R(N)},f.onerror=()=>{W("error")},f.onabort=()=>{W("aborted")},this._reader.readAsDataURL(D)})}abort(){this._reader.abort()}}class y extends c.Sy{constructor(){super(...arguments),this.loaders=new L.FE,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[c.lR]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(D,f)=>f?D/f*100:0)}getLoader(D){return this._loadersMap.get(D)||null}createLoader(D){if(!this.createUploadAdapter)return(0,L.KE)("filerepository-no-upload-adapter"),null;const f=new h(Promise.resolve(D),this.createUploadAdapter);return this.loaders.add(f),this._loadersMap.set(D,f),D instanceof Promise&&f.file.then(R=>{this._loadersMap.set(R,f)}).catch(()=>{}),f.on("change:uploaded",()=>{let R=0;for(const W of this.loaders)R+=W.uploaded;this.uploaded=R}),f.on("change:uploadTotal",()=>{let R=0;for(const W of this.loaders)W.uploadTotal&&(R+=W.uploadTotal);this.uploadTotal=R}),f}destroyLoader(D){const f=D instanceof h?D:this.getLoader(D);f._destroy(),this.loaders.remove(f),this._loadersMap.forEach((R,W)=>{R===f&&this._loadersMap.delete(W)})}_updatePendingAction(){const D=this.editor.plugins.get(c.lR);if(this.loaders.length){if(!this._pendingAction){const f=this.editor.t,R=W=>`${f("Upload in progress")} ${parseInt(W)}%.`;this._pendingAction=D.add(R(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",R)}}else D.remove(this._pendingAction),this._pendingAction=null}}class h extends(0,L.Re)(){constructor(D,f){super(),this.id=(0,L.hQ)(),this._filePromiseWrapper=this._createFilePromiseWrapper(D),this._adapter=f(this),this._reader=new z,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(R,W)=>W?R/W*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(D=>this._filePromiseWrapper?D:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L.Bb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(D=>this._reader.read(D)).then(D=>{if(this.status!=="reading")throw this.status;return this.status="idle",D}).catch(D=>{throw D==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:D)})}upload(){if(this.status!="idle")throw new L.Bb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(D=>(this.uploadResponse=D,this.status="idle",D)).catch(D=>{throw this.status==="aborted"?"aborted":(this.status="error",D)})}abort(){const D=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?D=="reading"?this._reader.abort():D=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(D){const f={};return f.promise=new Promise((R,W)=>{f.rejecter=W,f.isFulfilled=!1,D.then(N=>{f.isFulfilled=!0,R(N)}).catch(N=>{f.isFulfilled=!0,W(N)})}),f}}var V=l("./packages/ckeditor5-ui/src/index.ts");class $ extends V.G7{constructor(D){super(D),this.buttonView=new V.r5(D),this._fileInputView=new J(D),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class J extends V.G7{constructor(D){super(D),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const f=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:f.to("acceptedType"),multiple:f.to("allowMultipleFiles")},on:{change:f.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class Y extends c.Sy{static get requires(){return[y]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(y).createUploadAdapter=D=>new le(D)}}class le{constructor(D){this.loader=D}upload(){return new Promise((D,f)=>{const R=this.reader=new window.FileReader;R.addEventListener("load",()=>{D({default:R.result})}),R.addEventListener("error",W=>{f(W)}),R.addEventListener("abort",()=>{f()}),this.loader.file.then(W=>{R.readAsDataURL(W)})})}abort(){this.reader.abort()}}var q=Object.defineProperty,d=Object.defineProperties,b=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,C=(U,D,f)=>D in U?q(U,D,{enumerable:!0,configurable:!0,writable:!0,value:f}):U[D]=f;class S extends c.Sy{static get requires(){return[y]}static get pluginName(){return"SimpleUploadAdapter"}init(){const D=this.editor.config.get("simpleUpload");D&&(D.uploadUrl?this.editor.plugins.get(y).createUploadAdapter=f=>new ne(f,D):(0,L.KE)("simple-upload-adapter-missing-uploadurl"))}}class ne{constructor(D,f){this.loader=D,this.options=f}upload(){return this.loader.file.then(D=>new Promise((f,R)=>{this._initRequest(),this._initListeners(f,R,D),this._sendRequest(D)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const D=this.xhr=new XMLHttpRequest;D.open("POST",this.options.uploadUrl,!0),D.responseType="json"}_initListeners(D,f,R){const W=this.xhr,N=this.loader,oe=`Couldn't upload file: ${R.name}.`;W.addEventListener("error",()=>f(oe)),W.addEventListener("abort",()=>f()),W.addEventListener("load",()=>{const Te=W.response;if(!Te||Te.error)return f(Te&&Te.error&&Te.error.message?Te.error.message:oe);const Oe=Te.url?{default:Te.url}:Te.urls;var xe;D((xe=((Re,lt)=>{for(var rt in lt||(lt={}))w.call(lt,rt)&&C(Re,rt,lt[rt]);if(_)for(var rt of _(lt))E.call(lt,rt)&&C(Re,rt,lt[rt]);return Re})({},Te),d(xe,b({urls:Oe}))))}),W.upload&&W.upload.addEventListener("progress",Te=>{Te.lengthComputable&&(N.uploadTotal=Te.total,N.uploaded=Te.loaded)})}_sendRequest(D){const f=this.options.headers||{},R=this.options.withCredentials||!1;for(const N of Object.keys(f))this.xhr.setRequestHeader(N,f[N]);this.xhr.withCredentials=R;const W=new FormData;W.append("upload",D),this.xhr.send(W)}}},"./src/utils.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{CKEditorError:()=>c.Bb,Collection:()=>c.FE,Config:()=>c.De,DomEmitterMixin:()=>c.Xu,ElementReplacer:()=>c.a6,EmitterMixin:()=>c.ln,EventInfo:()=>c.M3,FocusTracker:()=>c.Rh,KeystrokeHandler:()=>c.VD,Locale:()=>c.go,ObservableMixin:()=>c.Re,Rect:()=>c.UL,ResizeObserver:()=>c.do,compareArrays:()=>c.Rt,count:()=>c.QX,createElement:()=>c.az,delay:()=>c.gw,diff:()=>c.Hg,diffToChanges:()=>c.Pk,env:()=>c.OB,fastDiff:()=>c.HZ,findClosestScrollableAncestor:()=>c.wm,first:()=>c.Ps,getAncestors:()=>c.dk,getCode:()=>c.Cq,getDataFromElement:()=>c.yy,getElementsIntersectionRect:()=>c.D_,getEnvKeystrokeText:()=>c.XU,getLanguageDirection:()=>c.j9,getLocalizedArrowKeyCodeDirection:()=>c.mA,getOptimalPosition:()=>c.xZ,getScrollableAncestors:()=>c.hI,global:()=>c.global,indexOf:()=>c.cq,insertAt:()=>c.ZQ,insertToPriorityArray:()=>c.VG,isArrowKeyCode:()=>c.dj,isCombiningMark:()=>c.tO,isComment:()=>c.C3,isForwardArrowKeyCode:()=>c.Zt,isHighSurrogateHalf:()=>c.Cb,isInsideCombinedSymbol:()=>c.pp,isInsideEmojiSequence:()=>c.YK,isInsideSurrogatePair:()=>c.to,isIterable:()=>c.TW,isLowSurrogateHalf:()=>c.nA,isNode:()=>c.UG,isRange:()=>c.bR,isText:()=>c.Gs,isValidAttributeName:()=>c.$b,isVisible:()=>c.pn,keyCodes:()=>c.Do,logError:()=>c.H,logWarning:()=>c.KE,mix:()=>c.CD,parseKeystroke:()=>c.Zz,priorities:()=>c.tA,releaseDate:()=>c.Dm,remove:()=>c.Od,scrollAncestorsToShowTarget:()=>c.F0,scrollViewportToShowTarget:()=>c.mR,setDataInElement:()=>c.jS,spliceArray:()=>c.x,toArray:()=>c.qo,toMap:()=>c.qL,toUnit:()=>c.nn,uid:()=>c.hQ,verifyLicense:()=>c.Tx,version:()=>c.i8});var c=l("./packages/ckeditor5-utils/src/index.ts")},"./src/watchdog.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{ContextWatchdog:()=>ne,EditorWatchdog:()=>E,Watchdog:()=>c});class c{constructor(R){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof R.crashNumberLimit=="number"?R.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof R.minimumNonErrorTimePeriod=="number"?R.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=W=>{const N="error"in W?W.error:W.reason;N instanceof Error&&this._handleError(N,W)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(R,W){this._listeners[R]||(this._listeners[R]=[]),this._listeners[R].push(W)}off(R,W){this._listeners[R]=this._listeners[R].filter(N=>N!==W)}_fire(R,...W){const N=this._listeners[R]||[];for(const oe of N)oe.apply(this,[null,...W])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(R,W){if(this._shouldReactToError(R)){this.crashes.push({message:R.message,stack:R.stack,filename:W instanceof ErrorEvent?W.filename:void 0,lineno:W instanceof ErrorEvent?W.lineno:void 0,colno:W instanceof ErrorEvent?W.colno:void 0,date:this._now()});const N=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:R,causesRestart:N}),N?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(R){return R.is&&R.is("CKEditorError")&&R.context!==void 0&&R.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(R)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function L(f,R=new Set){const W=[f],N=new Set;let oe=0;for(;W.length>oe;){const Te=W[oe++];if(!N.has(Te)&&z(Te)&&!R.has(Te))if(N.add(Te),Symbol.iterator in Te)try{for(const Oe of Te)W.push(Oe)}catch{}else for(const Oe in Te)Oe!=="defaultValue"&&W.push(Te[Oe])}return N}function z(f){const R=Object.prototype.toString.call(f),W=typeof f;return!(W==="number"||W==="boolean"||W==="string"||W==="symbol"||W==="function"||R==="[object Date]"||R==="[object RegExp]"||R==="[object Module]"||f==null||f._watchdogExcluded||f instanceof EventTarget||f instanceof Event)}function y(f,R,W=new Set){if(f===R&&typeof(N=f)=="object"&&N!==null)return!0;var N;const oe=L(f,W),Te=L(R,W);for(const Oe of oe)if(Te.has(Oe))return!0;return!1}var h=l("./node_modules/lodash-es/throttle.js"),V=l("./node_modules/lodash-es/isElement.js"),$=l("./node_modules/lodash-es/cloneDeepWith.js"),J=Object.defineProperty,Y=Object.defineProperties,le=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,_=(f,R,W)=>R in f?J(f,R,{enumerable:!0,configurable:!0,writable:!0,value:W}):f[R]=W,w=(f,R)=>{for(var W in R||(R={}))d.call(R,W)&&_(f,W,R[W]);if(q)for(var W of q(R))b.call(R,W)&&_(f,W,R[W]);return f};class E extends c{constructor(R,W={}){super(W),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=(0,h.Z)(this._save.bind(this),typeof W.saveInterval=="number"?W.saveInterval:5e3),R&&(this._creator=(N,oe)=>R.create(N,oe)),this._destructor=N=>N.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(R){this._creator=R}setDestructor(R){this._destructor=R}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(R=>{console.error("An error happened during the editor destroying.",R)}).then(()=>{const R={},W=[],N=this._config.rootsAttributes||{},oe={};for(const[Re,lt]of Object.entries(this._data.roots))lt.isLoaded?(R[Re]="",oe[Re]=N[Re]||{}):W.push(Re);const Te=(Oe=w({},this._config),xe={extraPlugins:this._config.extraPlugins||[],lazyRoots:W,rootsAttributes:oe,_watchdogInitialData:this._data},Y(Oe,le(xe)));var Oe,xe;return delete Te.initialData,Te.extraPlugins.push(C),this._initUsingData?this.create(R,Te,Te.context):(0,V.Z)(this._elementOrData)?this.create(this._elementOrData,Te,Te.context):this.create(this._editables,Te,Te.context)}).then(()=>{this._fire("restart")})}create(R=this._elementOrData,W=this._config,N){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=R,this._initUsingData=typeof R=="string"||Object.keys(R).length>0&&typeof Object.values(R)[0]=="string",this._config=this._cloneEditorConfiguration(W)||{},this._config.context=N,this._creator(R,this._config))).then(oe=>{this._editor=oe,oe.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=oe.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const R=this._editor;return this._editor=null,R.model.document.off("change:data",this._throttledSave),this._destructor(R)})}_save(){const R=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=R}catch(W){console.error(W,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(R){this._excludedProps=R}_getData(){const R=this._editor,W=R.model.document.roots.filter(xe=>xe.isAttached()&&xe.rootName!="$graveyard"),{plugins:N}=R,oe=N.has("CommentsRepository")&&N.get("CommentsRepository"),Te=N.has("TrackChanges")&&N.get("TrackChanges"),Oe={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};W.forEach(xe=>{Oe.roots[xe.rootName]={content:JSON.stringify(Array.from(xe.getChildren())),attributes:JSON.stringify(Array.from(xe.getAttributes())),isLoaded:xe._isLoaded}});for(const xe of R.model.markers)xe._affectsData&&(Oe.markers[xe.name]={rangeJSON:xe.getRange().toJSON(),usingOperation:xe._managedUsingOperations,affectsData:xe._affectsData});return oe&&(Oe.commentThreads=JSON.stringify(oe.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),Te&&(Oe.suggestions=JSON.stringify(Te.getSuggestions({toJSON:!0,skipNotAttached:!0}))),Oe}_getEditables(){const R={};for(const W of this.editor.model.document.getRootNames()){const N=this.editor.ui.getEditableElement(W);N&&(R[W]=N)}return R}_isErrorComingFromThisItem(R){return y(this._editor,R.context,this._excludedProps)}_cloneEditorConfiguration(R){return(0,$.Z)(R,(W,N)=>(0,V.Z)(W)||N==="context"?W:void 0)}}class C{constructor(R){this.editor=R,this._data=R.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",R=>{R.stop(),this.editor.model.enqueueChange({isUndoable:!1},W=>{this._restoreCollaborationData(),this._restoreEditorData(W)}),this.editor.data.fire("ready")},{priority:999})}_createNode(R,W){if("name"in W){const N=R.createElement(W.name,W.attributes);if(W.children)for(const oe of W.children)N._appendChild(this._createNode(R,oe));return N}return R.createText(W.data,W.attributes)}_restoreEditorData(R){const W=this.editor;Object.entries(this._data.roots).forEach(([N,{content:oe,attributes:Te}])=>{const Oe=JSON.parse(oe),xe=JSON.parse(Te),Re=W.model.document.getRoot(N);for(const[lt,rt]of xe)R.setAttribute(lt,rt,Re);for(const lt of Oe){const rt=this._createNode(R,lt);R.insert(rt,Re,"end")}}),Object.entries(this._data.markers).forEach(([N,oe])=>{const{document:Te}=W.model,Oe=oe,{rangeJSON:{start:xe,end:Re}}=Oe,lt=((pt,Ze)=>{var mt={};for(var qe in pt)d.call(pt,qe)&&Ze.indexOf(qe)<0&&(mt[qe]=pt[qe]);if(pt!=null&&q)for(var qe of q(pt))Ze.indexOf(qe)<0&&b.call(pt,qe)&&(mt[qe]=pt[qe]);return mt})(Oe,["rangeJSON"]),rt=Te.getRoot(xe.root),ct=R.createPositionFromPath(rt,xe.path,xe.stickiness),st=R.createPositionFromPath(rt,Re.path,Re.stickiness),kt=R.createRange(ct,st);R.addMarker(N,w({range:kt},lt))})}_restoreCollaborationData(){const R=JSON.parse(this._data.commentThreads),W=JSON.parse(this._data.suggestions);R.forEach(N=>{const oe=this.editor.config.get("collaboration.channelId"),Te=this.editor.plugins.get("CommentsRepository");Te.hasCommentThread(N.threadId)&&Te.getCommentThread(N.threadId).remove(),Te.addCommentThread(w({channelId:oe},N))}),W.forEach(N=>{const oe=this.editor.plugins.get("TrackChangesEditing");oe.hasSuggestion(N.id)?oe.getSuggestion(N.id).attributes=N.attributes:oe.addSuggestionData(N)})}}const S=Symbol("MainQueueId");class ne extends c{constructor(R,W={}){super(W),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new U,this._watchdogConfig=W,this._creator=N=>R.create(N),this._destructor=N=>N.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(R){this._creator=R}setDestructor(R){this._destructor=R}get context(){return this._context}create(R={}){return this._actionQueues.enqueue(S,()=>(this._contextConfig=R,this._create()))}getItem(R){return this._getWatchdog(R)._item}getItemState(R){return this._getWatchdog(R).state}add(R){const W=D(R);return Promise.all(W.map(N=>this._actionQueues.enqueue(N.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let oe;if(this._watchdogs.has(N.id))throw new Error(`Item with the given id is already added: '${N.id}'.`);if(N.type==="editor")return oe=new E(null,this._watchdogConfig),oe.setCreator(N.creator),oe._setExcludedProperties(this._contextProps),N.destructor&&oe.setDestructor(N.destructor),this._watchdogs.set(N.id,oe),oe.on("error",(Te,{error:Oe,causesRestart:xe})=>{this._fire("itemError",{itemId:N.id,error:Oe}),xe&&this._actionQueues.enqueue(N.id,()=>new Promise(Re=>{const lt=()=>{oe.off("restart",lt),this._fire("itemRestart",{itemId:N.id}),Re()};oe.on("restart",lt)}))}),oe.create(N.sourceElementOrData,N.config,this._context);throw new Error(`Not supported item type: '${N.type}'.`)})))}remove(R){const W=D(R);return Promise.all(W.map(N=>this._actionQueues.enqueue(N,()=>{const oe=this._getWatchdog(N);return this._watchdogs.delete(N),oe.destroy()})))}destroy(){return this._actionQueues.enqueue(S,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(S,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(R=>{console.error("An error happened during destroying the context or items.",R)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(R=>(this._context=R,this._contextProps=L(this._context),Promise.all(Array.from(this._watchdogs.values()).map(W=>(W._setExcludedProperties(this._contextProps),W.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const R=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(W=>W.destroy())).then(()=>this._destructor(R))})}_getWatchdog(R){const W=this._watchdogs.get(R);if(!W)throw new Error(`Item with the given id was not registered: ${R}.`);return W}_isErrorComingFromThisItem(R){for(const W of this._watchdogs.values())if(W._isErrorComingFromThisItem(R))return!1;return y(this._context,R.context)}}class U{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(R){this._onEmptyCallbacks.push(R)}enqueue(R,W){const N=R===S;this._activeActions++,this._queues.get(R)||this._queues.set(R,Promise.resolve());const oe=(N?Promise.all(this._queues.values()):Promise.all([this._queues.get(S),this._queues.get(R)])).then(W),Te=oe.catch(()=>{});return this._queues.set(R,Te),oe.finally(()=>{this._activeActions--,this._queues.get(R)===Te&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Oe=>Oe())})}}function D(f){return Array.isArray(f)?f:[f]}},"./src/widget.js":(v,A,l)=>{"use strict";l.r(A),l.d(A,{WIDGET_CLASS_NAME:()=>c.s4,WIDGET_SELECTED_CLASS_NAME:()=>c.Uo,Widget:()=>c.$L,WidgetResize:()=>c.WR,WidgetToolbarRepository:()=>c.e8,WidgetTypeAround:()=>c.Ww,findOptimalInsertionRange:()=>c.KT,getLabel:()=>c.id,isWidget:()=>c.Qd,setHighlightHandling:()=>c.em,setLabel:()=>c.l6,toWidget:()=>c.XC,toWidgetEditable:()=>c.sC,viewToModelPositionOutsideModelElement:()=>c.$n});var c=l("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(v,A,l)=>{v.exports=l},"./node_modules/lodash-es/_ListCache.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>le});const c=function(){this.__data__=[],this.size=0};var L=l("./node_modules/lodash-es/eq.js");const z=function(q,d){for(var b=q.length;b--;)if((0,L.Z)(q[b][0],d))return b;return-1};var y=Array.prototype.splice;const h=function(q){var d=this.__data__,b=z(d,q);return!(b<0)&&(b==d.length-1?d.pop():y.call(d,b,1),--this.size,!0)},V=function(q){var d=this.__data__,b=z(d,q);return b<0?void 0:d[b][1]},$=function(q){return z(this.__data__,q)>-1},J=function(q,d){var b=this.__data__,_=z(b,q);return _<0?(++this.size,b.push([q,d])):b[_][1]=d,this};function Y(q){var d=-1,b=q==null?0:q.length;for(this.clear();++d<b;){var _=q[d];this.set(_[0],_[1])}}Y.prototype.clear=c,Y.prototype.delete=h,Y.prototype.get=V,Y.prototype.has=$,Y.prototype.set=J;const le=Y},"./node_modules/lodash-es/_Map.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_getNative.js"),L=l("./node_modules/lodash-es/_root.js");const z=(0,c.Z)(L.Z,"Map")},"./node_modules/lodash-es/_MapCache.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>D});const c=(0,l("./node_modules/lodash-es/_getNative.js").Z)(Object,"create"),L=function(){this.__data__=c?c(null):{},this.size=0},z=function(f){var R=this.has(f)&&delete this.__data__[f];return this.size-=R?1:0,R};var y=Object.prototype.hasOwnProperty;const h=function(f){var R=this.__data__;if(c){var W=R[f];return W==="__lodash_hash_undefined__"?void 0:W}return y.call(R,f)?R[f]:void 0};var V=Object.prototype.hasOwnProperty;const $=function(f){var R=this.__data__;return c?R[f]!==void 0:V.call(R,f)},J=function(f,R){var W=this.__data__;return this.size+=this.has(f)?0:1,W[f]=c&&R===void 0?"__lodash_hash_undefined__":R,this};function Y(f){var R=-1,W=f==null?0:f.length;for(this.clear();++R<W;){var N=f[R];this.set(N[0],N[1])}}Y.prototype.clear=L,Y.prototype.delete=z,Y.prototype.get=h,Y.prototype.has=$,Y.prototype.set=J;const le=Y;var q=l("./node_modules/lodash-es/_ListCache.js"),d=l("./node_modules/lodash-es/_Map.js");const b=function(){this.size=0,this.__data__={hash:new le,map:new(d.Z||q.Z),string:new le}},_=function(f){var R=typeof f;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?f!=="__proto__":f===null},w=function(f,R){var W=f.__data__;return _(R)?W[typeof R=="string"?"string":"hash"]:W.map},E=function(f){var R=w(this,f).delete(f);return this.size-=R?1:0,R},C=function(f){return w(this,f).get(f)},S=function(f){return w(this,f).has(f)},ne=function(f,R){var W=w(this,f),N=W.size;return W.set(f,R),this.size+=W.size==N?0:1,this};function U(f){var R=-1,W=f==null?0:f.length;for(this.clear();++R<W;){var N=f[R];this.set(N[0],N[1])}}U.prototype.clear=b,U.prototype.delete=E,U.prototype.get=C,U.prototype.has=S,U.prototype.set=ne;const D=U},"./node_modules/lodash-es/_Stack.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>le});var c=l("./node_modules/lodash-es/_ListCache.js");const L=function(){this.__data__=new c.Z,this.size=0},z=function(q){var d=this.__data__,b=d.delete(q);return this.size=d.size,b},y=function(q){return this.__data__.get(q)},h=function(q){return this.__data__.has(q)};var V=l("./node_modules/lodash-es/_Map.js"),$=l("./node_modules/lodash-es/_MapCache.js");const J=function(q,d){var b=this.__data__;if(b instanceof c.Z){var _=b.__data__;if(!V.Z||_.length<199)return _.push([q,d]),this.size=++b.size,this;b=this.__data__=new $.Z(_)}return b.set(q,d),this.size=b.size,this};function Y(q){var d=this.__data__=new c.Z(q);this.size=d.size}Y.prototype.clear=L,Y.prototype.delete=z,Y.prototype.get=y,Y.prototype.has=h,Y.prototype.set=J;const le=Y},"./node_modules/lodash-es/_Symbol.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>J});const c=function(Y,le){for(var q=-1,d=Array(Y);++q<Y;)d[q]=le(q);return d};var L=l("./node_modules/lodash-es/isArguments.js"),z=l("./node_modules/lodash-es/isArray.js"),y=l("./node_modules/lodash-es/isBuffer.js"),h=l("./node_modules/lodash-es/_isIndex.js"),V=l("./node_modules/lodash-es/isTypedArray.js"),$=Object.prototype.hasOwnProperty;const J=function(Y,le){var q=(0,z.Z)(Y),d=!q&&(0,L.Z)(Y),b=!q&&!d&&(0,y.Z)(Y),_=!q&&!d&&!b&&(0,V.Z)(Y),w=q||d||b||_,E=w?c(Y.length,String):[],C=E.length;for(var S in Y)!le&&!$.call(Y,S)||w&&(S=="length"||b&&(S=="offset"||S=="parent")||_&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||(0,h.Z)(S,C))||E.push(S);return E}},"./node_modules/lodash-es/_arrayPush.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L,z){for(var y=-1,h=z.length,V=L.length;++y<h;)L[V+y]=z[y];return L}},"./node_modules/lodash-es/_assignValue.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>y});var c=l("./node_modules/lodash-es/_baseAssignValue.js"),L=l("./node_modules/lodash-es/eq.js"),z=Object.prototype.hasOwnProperty;const y=function(h,V,$){var J=h[V];z.call(h,V)&&(0,L.Z)(J,$)&&($!==void 0||V in h)||(0,c.Z)(h,V,$)}},"./node_modules/lodash-es/_baseAssignValue.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=l("./node_modules/lodash-es/_defineProperty.js");const L=function(z,y,h){y=="__proto__"&&c.Z?(0,c.Z)(z,y,{configurable:!0,enumerable:!0,value:h,writable:!0}):z[y]=h}},"./node_modules/lodash-es/_baseClone.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>Qt});var c=l("./node_modules/lodash-es/_Stack.js");const L=function(yt,Tt){for(var mi=-1,pi=yt==null?0:yt.length;++mi<pi&&Tt(yt[mi],mi,yt)!==!1;);return yt};var z=l("./node_modules/lodash-es/_assignValue.js"),y=l("./node_modules/lodash-es/_copyObject.js"),h=l("./node_modules/lodash-es/keys.js");const V=function(yt,Tt){return yt&&(0,y.Z)(Tt,(0,h.Z)(Tt),yt)};var $=l("./node_modules/lodash-es/keysIn.js");const J=function(yt,Tt){return yt&&(0,y.Z)(Tt,(0,$.Z)(Tt),yt)};var Y=l("./node_modules/lodash-es/_cloneBuffer.js"),le=l("./node_modules/lodash-es/_copyArray.js"),q=l("./node_modules/lodash-es/_getSymbols.js");const d=function(yt,Tt){return(0,y.Z)(yt,(0,q.Z)(yt),Tt)};var b=l("./node_modules/lodash-es/_arrayPush.js"),_=l("./node_modules/lodash-es/_getPrototype.js"),w=l("./node_modules/lodash-es/stubArray.js");const E=Object.getOwnPropertySymbols?function(yt){for(var Tt=[];yt;)(0,b.Z)(Tt,(0,q.Z)(yt)),yt=(0,_.Z)(yt);return Tt}:w.Z,C=function(yt,Tt){return(0,y.Z)(yt,E(yt),Tt)};var S=l("./node_modules/lodash-es/_getAllKeys.js"),ne=l("./node_modules/lodash-es/_baseGetAllKeys.js");const U=function(yt){return(0,ne.Z)(yt,$.Z,E)};var D=l("./node_modules/lodash-es/_getTag.js"),f=Object.prototype.hasOwnProperty;const R=function(yt){var Tt=yt.length,mi=new yt.constructor(Tt);return Tt&&typeof yt[0]=="string"&&f.call(yt,"index")&&(mi.index=yt.index,mi.input=yt.input),mi};var W=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const N=function(yt,Tt){var mi=Tt?(0,W.Z)(yt.buffer):yt.buffer;return new yt.constructor(mi,yt.byteOffset,yt.byteLength)};var oe=/\w*$/;const Te=function(yt){var Tt=new yt.constructor(yt.source,oe.exec(yt));return Tt.lastIndex=yt.lastIndex,Tt};var Oe=l("./node_modules/lodash-es/_Symbol.js"),xe=Oe.Z?Oe.Z.prototype:void 0,Re=xe?xe.valueOf:void 0;const lt=function(yt){return Re?Object(Re.call(yt)):{}};var rt=l("./node_modules/lodash-es/_cloneTypedArray.js");const ct=function(yt,Tt,mi){var pi=yt.constructor;switch(Tt){case"[object ArrayBuffer]":return(0,W.Z)(yt);case"[object Boolean]":case"[object Date]":return new pi(+yt);case"[object DataView]":return N(yt,mi);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,rt.Z)(yt,mi);case"[object Map]":case"[object Set]":return new pi;case"[object Number]":case"[object String]":return new pi(yt);case"[object RegExp]":return Te(yt);case"[object Symbol]":return lt(yt)}};var st=l("./node_modules/lodash-es/_initCloneObject.js"),kt=l("./node_modules/lodash-es/isArray.js"),pt=l("./node_modules/lodash-es/isBuffer.js"),Ze=l("./node_modules/lodash-es/isObjectLike.js");const mt=function(yt){return(0,Ze.Z)(yt)&&(0,D.Z)(yt)=="[object Map]"};var qe=l("./node_modules/lodash-es/_baseUnary.js"),et=l("./node_modules/lodash-es/_nodeUtil.js"),Q=et.Z&&et.Z.isMap;const de=Q?(0,qe.Z)(Q):mt;var we=l("./node_modules/lodash-es/isObject.js");const Be=function(yt){return(0,Ze.Z)(yt)&&(0,D.Z)(yt)=="[object Set]"};var Ge=et.Z&&et.Z.isSet;const Fe=Ge?(0,qe.Z)(Ge):Be;var Ve="[object Arguments]",ut="[object Function]",St="[object Object]",Lt={};Lt[Ve]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object DataView]"]=Lt["[object Boolean]"]=Lt["[object Date]"]=Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt[St]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object Symbol]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Error]"]=Lt[ut]=Lt["[object WeakMap]"]=!1;const Qt=function yt(Tt,mi,pi,Li,Ei,Ni){var xi,Bi=1&mi,nt=2&mi,ue=4&mi;if(pi&&(xi=Ei?pi(Tt,Li,Ei,Ni):pi(Tt)),xi!==void 0)return xi;if(!(0,we.Z)(Tt))return Tt;var _e=(0,kt.Z)(Tt);if(_e){if(xi=R(Tt),!Bi)return(0,le.Z)(Tt,xi)}else{var Ie=(0,D.Z)(Tt),We=Ie==ut||Ie=="[object GeneratorFunction]";if((0,pt.Z)(Tt))return(0,Y.Z)(Tt,Bi);if(Ie==St||Ie==Ve||We&&!Ei){if(xi=nt||We?{}:(0,st.Z)(Tt),!Bi)return nt?C(Tt,J(xi,Tt)):d(Tt,V(xi,Tt))}else{if(!Lt[Ie])return Ei?Tt:{};xi=ct(Tt,Ie,Bi)}}Ni||(Ni=new c.Z);var tt=Ni.get(Tt);if(tt)return tt;Ni.set(Tt,xi),Fe(Tt)?Tt.forEach(function(xt){xi.add(yt(xt,mi,pi,xt,Tt,Ni))}):de(Tt)&&Tt.forEach(function(xt,Kt){xi.set(Kt,yt(xt,mi,pi,Kt,Tt,Ni))});var bt=ue?nt?U:S.Z:nt?$.Z:h.Z,At=_e?void 0:bt(Tt);return L(At||Tt,function(xt,Kt){At&&(xt=Tt[Kt=xt]),(0,z.Z)(xi,Kt,yt(xt,mi,pi,Kt,Tt,Ni))}),xi}},"./node_modules/lodash-es/_baseGetAllKeys.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_arrayPush.js"),L=l("./node_modules/lodash-es/isArray.js");const z=function(y,h,V){var $=h(y);return(0,L.Z)(y)?$:(0,c.Z)($,V(y))}},"./node_modules/lodash-es/_baseGetTag.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>le});var c=l("./node_modules/lodash-es/_Symbol.js"),L=Object.prototype,z=L.hasOwnProperty,y=L.toString,h=c.Z?c.Z.toStringTag:void 0;const V=function(q){var d=z.call(q,h),b=q[h];try{q[h]=void 0;var _=!0}catch{}var w=y.call(q);return _&&(d?q[h]=b:delete q[h]),w};var $=Object.prototype.toString;const J=function(q){return $.call(q)};var Y=c.Z?c.Z.toStringTag:void 0;const le=function(q){return q==null?q===void 0?"[object Undefined]":"[object Null]":Y&&Y in Object(q)?V(q):J(q)}},"./node_modules/lodash-es/_baseUnary.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L){return function(z){return L(z)}}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=l("./node_modules/lodash-es/_Uint8Array.js");const L=function(z){var y=new z.constructor(z.byteLength);return new c.Z(y).set(new c.Z(z)),y}},"./node_modules/lodash-es/_cloneBuffer.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>V});var c=l("./node_modules/lodash-es/_root.js"),L=Zt&&!Zt.nodeType&&Zt,z=L&&!0&&Jt&&!Jt.nodeType&&Jt,y=z&&z.exports===L?c.Z.Buffer:void 0,h=y?y.allocUnsafe:void 0;const V=function($,J){if(J)return $.slice();var Y=$.length,le=h?h(Y):new $.constructor(Y);return $.copy(le),le}},"./node_modules/lodash-es/_cloneTypedArray.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const L=function(z,y){var h=y?(0,c.Z)(z.buffer):z.buffer;return new z.constructor(h,z.byteOffset,z.length)}},"./node_modules/lodash-es/_copyArray.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L,z){var y=-1,h=L.length;for(z||(z=Array(h));++y<h;)z[y]=L[y];return z}},"./node_modules/lodash-es/_copyObject.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_assignValue.js"),L=l("./node_modules/lodash-es/_baseAssignValue.js");const z=function(y,h,V,$){var J=!V;V||(V={});for(var Y=-1,le=h.length;++Y<le;){var q=h[Y],d=$?$(V[q],y[q],q,V,y):void 0;d===void 0&&(d=y[q]),J?(0,L.Z)(V,q,d):(0,c.Z)(V,q,d)}return V}},"./node_modules/lodash-es/_createAssigner.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>E});const c=function(C){return C},L=function(C,S,ne){switch(ne.length){case 0:return C.call(S);case 1:return C.call(S,ne[0]);case 2:return C.call(S,ne[0],ne[1]);case 3:return C.call(S,ne[0],ne[1],ne[2])}return C.apply(S,ne)};var z=Math.max;const y=function(C,S,ne){return S=z(S===void 0?C.length-1:S,0),function(){for(var U=arguments,D=-1,f=z(U.length-S,0),R=Array(f);++D<f;)R[D]=U[S+D];D=-1;for(var W=Array(S+1);++D<S;)W[D]=U[D];return W[S]=ne(R),L(C,this,W)}},h=function(C){return function(){return C}};var V=l("./node_modules/lodash-es/_defineProperty.js");const $=V.Z?function(C,S){return(0,V.Z)(C,"toString",{configurable:!0,enumerable:!1,value:h(S),writable:!0})}:c;var J=Date.now;const Y=function(C){var S=0,ne=0;return function(){var U=J(),D=16-(U-ne);if(ne=U,D>0){if(++S>=800)return arguments[0]}else S=0;return C.apply(void 0,arguments)}}($),le=function(C,S){return Y(y(C,S,c),C+"")};var q=l("./node_modules/lodash-es/eq.js"),d=l("./node_modules/lodash-es/isArrayLike.js"),b=l("./node_modules/lodash-es/_isIndex.js"),_=l("./node_modules/lodash-es/isObject.js");const w=function(C,S,ne){if(!(0,_.Z)(ne))return!1;var U=typeof S;return!!(U=="number"?(0,d.Z)(ne)&&(0,b.Z)(S,ne.length):U=="string"&&S in ne)&&(0,q.Z)(ne[S],C)},E=function(C){return le(function(S,ne){var U=-1,D=ne.length,f=D>1?ne[D-1]:void 0,R=D>2?ne[2]:void 0;for(f=C.length>3&&typeof f=="function"?(D--,f):void 0,R&&w(ne[0],ne[1],R)&&(f=D<3?void 0:f,D=1),S=Object(S);++U<D;){var W=ne[U];W&&C(S,W,U,f)}return S})}},"./node_modules/lodash-es/_defineProperty.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=l("./node_modules/lodash-es/_getNative.js");const L=function(){try{var z=(0,c.Z)(Object,"defineProperty");return z({},"",{}),z}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=typeof ae.g=="object"&&ae.g&&ae.g.Object===Object&&ae.g},"./node_modules/lodash-es/_getAllKeys.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>y});var c=l("./node_modules/lodash-es/_baseGetAllKeys.js"),L=l("./node_modules/lodash-es/_getSymbols.js"),z=l("./node_modules/lodash-es/keys.js");const y=function(h){return(0,c.Z)(h,z.Z,L.Z)}},"./node_modules/lodash-es/_getNative.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>E});var c=l("./node_modules/lodash-es/isFunction.js");const L=l("./node_modules/lodash-es/_root.js").Z["__core-js_shared__"];var z,y=(z=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";const h=function(C){return!!y&&y in C};var V=l("./node_modules/lodash-es/isObject.js"),$=l("./node_modules/lodash-es/_toSource.js"),J=/^\[object .+?Constructor\]$/,Y=Function.prototype,le=Object.prototype,q=Y.toString,d=le.hasOwnProperty,b=RegExp("^"+q.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const _=function(C){return!(!(0,V.Z)(C)||h(C))&&((0,c.Z)(C)?b:J).test((0,$.Z)(C))},w=function(C,S){return C?.[S]},E=function(C,S){var ne=w(C,S);return _(ne)?ne:void 0}},"./node_modules/lodash-es/_getPrototype.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>h});const c=function(V,$){for(var J=-1,Y=V==null?0:V.length,le=0,q=[];++J<Y;){var d=V[J];$(d,J,V)&&(q[le++]=d)}return q};var L=l("./node_modules/lodash-es/stubArray.js"),z=Object.prototype.propertyIsEnumerable,y=Object.getOwnPropertySymbols;const h=y?function(V){return V==null?[]:(V=Object(V),c(y(V),function($){return z.call(V,$)}))}:L.Z},"./node_modules/lodash-es/_getTag.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>D});var c=l("./node_modules/lodash-es/_getNative.js"),L=l("./node_modules/lodash-es/_root.js");const z=(0,c.Z)(L.Z,"DataView");var y=l("./node_modules/lodash-es/_Map.js");const h=(0,c.Z)(L.Z,"Promise"),V=(0,c.Z)(L.Z,"Set"),$=(0,c.Z)(L.Z,"WeakMap");var J=l("./node_modules/lodash-es/_baseGetTag.js"),Y=l("./node_modules/lodash-es/_toSource.js"),le="[object Map]",q="[object Promise]",d="[object Set]",b="[object WeakMap]",_="[object DataView]",w=(0,Y.Z)(z),E=(0,Y.Z)(y.Z),C=(0,Y.Z)(h),S=(0,Y.Z)(V),ne=(0,Y.Z)($),U=J.Z;(z&&U(new z(new ArrayBuffer(1)))!=_||y.Z&&U(new y.Z)!=le||h&&U(h.resolve())!=q||V&&U(new V)!=d||$&&U(new $)!=b)&&(U=function(f){var R=(0,J.Z)(f),W=R=="[object Object]"?f.constructor:void 0,N=W?(0,Y.Z)(W):"";if(N)switch(N){case w:return _;case E:return le;case C:return q;case S:return d;case ne:return b}return R});const D=U},"./node_modules/lodash-es/_initCloneObject.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>V});var c=l("./node_modules/lodash-es/isObject.js"),L=Object.create;const z=function(){function $(){}return function(J){if(!(0,c.Z)(J))return{};if(L)return L(J);$.prototype=J;var Y=new $;return $.prototype=void 0,Y}}();var y=l("./node_modules/lodash-es/_getPrototype.js"),h=l("./node_modules/lodash-es/_isPrototype.js");const V=function($){return typeof $.constructor!="function"||(0,h.Z)($)?{}:z((0,y.Z)($))}},"./node_modules/lodash-es/_isIndex.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=/^(?:0|[1-9]\d*)$/;const L=function(z,y){var h=typeof z;return!!(y=y??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(z))&&z>-1&&z%1==0&&z<y}},"./node_modules/lodash-es/_isPrototype.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=Object.prototype;const L=function(z){var y=z&&z.constructor;return z===(typeof y=="function"&&y.prototype||c)}},"./node_modules/lodash-es/_nodeUtil.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>h});var c=l("./node_modules/lodash-es/_freeGlobal.js"),L=Zt&&!Zt.nodeType&&Zt,z=L&&!0&&Jt&&!Jt.nodeType&&Jt,y=z&&z.exports===L&&c.Z.process;const h=function(){try{var V=z&&z.require&&z.require("util").types;return V||y&&y.binding&&y.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L,z){return function(y){return L(z(y))}}},"./node_modules/lodash-es/_root.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_freeGlobal.js"),L=typeof self=="object"&&self&&self.Object===Object&&self;const z=c.Z||L||Function("return this")()},"./node_modules/lodash-es/_toSource.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=Function.prototype.toString;const L=function(z){if(z!=null){try{return c.call(z)}catch{}try{return z+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>y});var c=l("./node_modules/lodash-es/_copyObject.js"),L=l("./node_modules/lodash-es/_createAssigner.js"),z=l("./node_modules/lodash-es/keysIn.js");const y=(0,L.Z)(function(h,V){(0,c.Z)(V,(0,z.Z)(V),h)})},"./node_modules/lodash-es/cloneDeepWith.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>L});var c=l("./node_modules/lodash-es/_baseClone.js");const L=function(z,y){return y=typeof y=="function"?y:void 0,(0,c.Z)(z,5,y)}},"./node_modules/lodash-es/debounce.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>E});var c=l("./node_modules/lodash-es/isObject.js"),L=l("./node_modules/lodash-es/_root.js");const z=function(){return L.Z.Date.now()};var y=/\s/;const h=function(C){for(var S=C.length;S--&&y.test(C.charAt(S)););return S};var V=/^\s+/;const $=function(C){return C&&C.slice(0,h(C)+1).replace(V,"")};var J=l("./node_modules/lodash-es/isSymbol.js"),Y=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,q=/^0o[0-7]+$/i,d=parseInt;const b=function(C){if(typeof C=="number")return C;if((0,J.Z)(C))return NaN;if((0,c.Z)(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=(0,c.Z)(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=$(C);var ne=le.test(C);return ne||q.test(C)?d(C.slice(2),ne?2:8):Y.test(C)?NaN:+C};var _=Math.max,w=Math.min;const E=function(C,S,ne){var U,D,f,R,W,N,oe=0,Te=!1,Oe=!1,xe=!0;if(typeof C!="function")throw new TypeError("Expected a function");function Re(kt){var pt=U,Ze=D;return U=D=void 0,oe=kt,R=C.apply(Ze,pt)}function lt(kt){var pt=kt-N;return N===void 0||pt>=S||pt<0||Oe&&kt-oe>=f}function rt(){var kt=z();if(lt(kt))return ct(kt);W=setTimeout(rt,function(pt){var Ze=S-(pt-N);return Oe?w(Ze,f-(pt-oe)):Ze}(kt))}function ct(kt){return W=void 0,xe&&U?Re(kt):(U=D=void 0,R)}function st(){var kt=z(),pt=lt(kt);if(U=arguments,D=this,N=kt,pt){if(W===void 0)return function(Ze){return oe=Ze,W=setTimeout(rt,S),Te?Re(Ze):R}(N);if(Oe)return clearTimeout(W),W=setTimeout(rt,S),Re(N)}return W===void 0&&(W=setTimeout(rt,S)),R}return S=b(S)||0,(0,c.Z)(ne)&&(Te=!!ne.leading,f=(Oe="maxWait"in ne)?_(b(ne.maxWait)||0,S):f,xe="trailing"in ne?!!ne.trailing:xe),st.cancel=function(){W!==void 0&&clearTimeout(W),oe=0,U=N=D=W=void 0},st.flush=function(){return W===void 0?R:ct(z())},st}},"./node_modules/lodash-es/eq.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L,z){return L===z||L!=L&&z!=z}},"./node_modules/lodash-es/isArguments.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>$});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObjectLike.js");const z=function(J){return(0,L.Z)(J)&&(0,c.Z)(J)=="[object Arguments]"};var y=Object.prototype,h=y.hasOwnProperty,V=y.propertyIsEnumerable;const $=z(function(){return arguments}())?z:function(J){return(0,L.Z)(J)&&h.call(J,"callee")&&!V.call(J,"callee")}},"./node_modules/lodash-es/isArray.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/isFunction.js"),L=l("./node_modules/lodash-es/isLength.js");const z=function(y){return y!=null&&(0,L.Z)(y.length)&&!(0,c.Z)(y)}},"./node_modules/lodash-es/isBuffer.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>V});var c=l("./node_modules/lodash-es/_root.js");const L=function(){return!1};var z=Zt&&!Zt.nodeType&&Zt,y=z&&!0&&Jt&&!Jt.nodeType&&Jt,h=y&&y.exports===z?c.Z.Buffer:void 0;const V=(h?h.isBuffer:void 0)||L},"./node_modules/lodash-es/isElement.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/isObjectLike.js"),L=l("./node_modules/lodash-es/isPlainObject.js");const z=function(y){return(0,c.Z)(y)&&y.nodeType===1&&!(0,L.Z)(y)}},"./node_modules/lodash-es/isFunction.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObject.js");const z=function(y){if(!(0,L.Z)(y))return!1;var h=(0,c.Z)(y);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}},"./node_modules/lodash-es/isLength.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=9007199254740991}},"./node_modules/lodash-es/isObject.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L){var z=typeof L;return L!=null&&(z=="object"||z=="function")}},"./node_modules/lodash-es/isObjectLike.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(L){return L!=null&&typeof L=="object"}},"./node_modules/lodash-es/isPlainObject.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>Y});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/_getPrototype.js"),z=l("./node_modules/lodash-es/isObjectLike.js"),y=Function.prototype,h=Object.prototype,V=y.toString,$=h.hasOwnProperty,J=V.call(Object);const Y=function(le){if(!(0,z.Z)(le)||(0,c.Z)(le)!="[object Object]")return!1;var q=(0,L.Z)(le);if(q===null)return!0;var d=$.call(q,"constructor")&&q.constructor;return typeof d=="function"&&d instanceof d&&V.call(d)==J}},"./node_modules/lodash-es/isSymbol.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObjectLike.js");const z=function(y){return typeof y=="symbol"||(0,L.Z)(y)&&(0,c.Z)(y)=="[object Symbol]"}},"./node_modules/lodash-es/isTypedArray.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>Y});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isLength.js"),z=l("./node_modules/lodash-es/isObjectLike.js"),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;const h=function(le){return(0,z.Z)(le)&&(0,L.Z)(le.length)&&!!y[(0,c.Z)(le)]};var V=l("./node_modules/lodash-es/_baseUnary.js"),$=l("./node_modules/lodash-es/_nodeUtil.js"),J=$.Z&&$.Z.isTypedArray;const Y=J?(0,V.Z)(J):h},"./node_modules/lodash-es/keys.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>$});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),L=l("./node_modules/lodash-es/_isPrototype.js");const z=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.keys,Object);var y=Object.prototype.hasOwnProperty;const h=function(J){if(!(0,L.Z)(J))return z(J);var Y=[];for(var le in Object(J))y.call(J,le)&&le!="constructor"&&Y.push(le);return Y};var V=l("./node_modules/lodash-es/isArrayLike.js");const $=function(J){return(0,V.Z)(J)?(0,c.Z)(J):h(J)}},"./node_modules/lodash-es/keysIn.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>J});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),L=l("./node_modules/lodash-es/isObject.js"),z=l("./node_modules/lodash-es/_isPrototype.js");const y=function(Y){var le=[];if(Y!=null)for(var q in Object(Y))le.push(q);return le};var h=Object.prototype.hasOwnProperty;const V=function(Y){if(!(0,L.Z)(Y))return y(Y);var le=(0,z.Z)(Y),q=[];for(var d in Y)(d!="constructor"||!le&&h.call(Y,d))&&q.push(d);return q};var $=l("./node_modules/lodash-es/isArrayLike.js");const J=function(Y){return(0,$.Z)(Y)?(0,c.Z)(Y,!0):V(Y)}},"./node_modules/lodash-es/stubArray.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>c});const c=function(){return[]}},"./node_modules/lodash-es/throttle.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>z});var c=l("./node_modules/lodash-es/debounce.js"),L=l("./node_modules/lodash-es/isObject.js");const z=function(y,h,V){var $=!0,J=!0;if(typeof y!="function")throw new TypeError("Expected a function");return(0,L.Z)(V)&&($="leading"in V?!!V.leading:$,J="trailing"in V?!!V.trailing:J),(0,c.Z)(y,h,{leading:$,maxWait:h,trailing:J})}},"./node_modules/lodash-es/toString.js":(v,A,l)=>{"use strict";l.d(A,{Z:()=>J});var c=l("./node_modules/lodash-es/_Symbol.js");const L=function(Y,le){for(var q=-1,d=Y==null?0:Y.length,b=Array(d);++q<d;)b[q]=le(Y[q],q,Y);return b};var z=l("./node_modules/lodash-es/isArray.js"),y=l("./node_modules/lodash-es/isSymbol.js"),h=c.Z?c.Z.prototype:void 0,V=h?h.toString:void 0;const $=function Y(le){if(typeof le=="string")return le;if((0,z.Z)(le))return L(le,Y)+"";if((0,y.Z)(le))return V?V.call(le):"";var q=le+"";return q=="0"&&1/le==-1/0?"-0":q},J=function(Y){return Y==null?"":$(Y)}}},p={};function j(v){var A=p[v];if(A!==void 0)return A.exports;var l=p[v]={id:v,exports:{}};return Yt[v](l,l.exports,j),l.exports}j.n=v=>{var A=v&&v.__esModule?()=>v.default:()=>v;return j.d(A,{a:A}),A},j.d=(v,A)=>{for(var l in A)j.o(A,l)&&!j.o(v,l)&&Object.defineProperty(v,l,{enumerable:!0,get:A[l]})},j.o=(v,A)=>Object.prototype.hasOwnProperty.call(v,A),j.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},j.nc=void 0;var I=j("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=I})(),function(Yt){Yt.CKEditor5=Yt.CKEditor5||{};const p=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget","watchdog"];for(const j of p){const I=j.replace(/-([a-z])/g,(v,A)=>A.toUpperCase());Yt.CKEditor5[I]=Yt.CKEditor5.dll(`./src/${j}.js`)}}(window)}}]);
